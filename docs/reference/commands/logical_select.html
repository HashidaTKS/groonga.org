<!DOCTYPE html>

<html lang="en">
  <head>

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-7532323-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-7532323-1');
    </script>

    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>7.3.35. logical_select &#8212; Groonga v11.0.6 documentation</title>
    <link rel="stylesheet" type="text/css" href="../../static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../static/groonga.css" />
    
    <script data-url_root="../../" id="documentation_options" src="../../static/documentation_options.js"></script>
    <script src="../../static/jquery.js"></script>
    <script src="../../static/underscore.js"></script>
    <script src="../../static/doctools.js"></script>
    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="7.3.36. logical_shard_list" href="logical_shard_list.html" />
    <link rel="prev" title="7.3.34. logical_range_filter" href="logical_range_filter.html" /> 
      <meta property="fb:page_id" content="201193596592346" /><!-- groonga -->
    <meta property="fb:admins" content="664204556" /><!-- kouhei.sutou -->
    <meta property="og:type" content="product" />
    <meta property="og:image" content="http://groonga.org/images/logos/groonga-icon-full-size.png" />
    <meta property="og:site_name" content="groonga" />

    <link rel="stylesheet" href="/css/sphinx.css" type="text/css" />
  </head>
  <body>
    <div id="fb-root"></div>

<div class="header">
  <h1 class="title">
    <a id="top-link" href="../../../">
      <span class="project">groonga</span>
      <span class="separator">-</span>
      <span class="description">An open-source fulltext search engine and column store.</span>
    </a>
  </h1>

      <div class="facebook-buttons">
      <fb:like href="http://www.facebook.com/pages/groonga/201193596592346"
               layout="standard"
               width="290"></fb:like>
    </div>
    <div class="other-language-links">

    <ul>
      <li><a href="../../../ja/docs/reference/commands/logical_select.html">日本語</a></li>
    </ul>
  </div>
</div>
  

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="logical_shard_list.html" title="7.3.36. logical_shard_list"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="logical_range_filter.html" title="7.3.34. logical_range_filter"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">Groonga v11.0.6 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../reference.html" ><span class="section-number">7. </span>Reference manual</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../command.html" accesskey="U"><span class="section-number">7.3. </span>Command</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><span class="section-number">7.3.35. </span><code class="docutils literal notranslate"><span class="pre">logical_select</span></code></a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="logical-select">
<h1><span class="section-number">7.3.35. </span><code class="docutils literal notranslate"><span class="pre">logical_select</span></code><a class="headerlink" href="#logical-select" title="Permalink to this headline">¶</a></h1>
<div class="section" id="summary">
<h2><span class="section-number">7.3.35.1. </span>Summary<a class="headerlink" href="#summary" title="Permalink to this headline">¶</a></h2>
<div class="versionadded">
<p><span class="versionmodified added">New in version 5.0.5.</span></p>
</div>
<p><code class="docutils literal notranslate"><span class="pre">logical_select</span></code> is a sharding version of
<a class="reference internal" href="select.html"><span class="doc">select</span></a>. <code class="docutils literal notranslate"><span class="pre">logical_select</span></code> searches records from multiple
tables and outputs them.</p>
<p>You need to <a class="reference internal" href="plugin_register.html"><span class="doc">plugin_register</span></a> <code class="docutils literal notranslate"><span class="pre">sharding</span></code> plugin because
this command is included in <code class="docutils literal notranslate"><span class="pre">sharding</span></code> plugin.</p>
</div>
<div class="section" id="syntax">
<h2><span class="section-number">7.3.35.2. </span>Syntax<a class="headerlink" href="#syntax" title="Permalink to this headline">¶</a></h2>
<p>This command takes many parameters.</p>
<p>The required parameters are <code class="docutils literal notranslate"><span class="pre">logical_table</span></code> and <code class="docutils literal notranslate"><span class="pre">shard_key</span></code>. Other
parameters are optional:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">logical_select</span> <span class="n">logical_table</span>
               <span class="n">shard_key</span>
               <span class="p">[</span><span class="nb">min</span><span class="o">=</span><span class="n">null</span><span class="p">]</span>
               <span class="p">[</span><span class="n">min_border</span><span class="o">=</span><span class="s2">&quot;include&quot;</span><span class="p">]</span>
               <span class="p">[</span><span class="nb">max</span><span class="o">=</span><span class="n">null</span><span class="p">]</span>
               <span class="p">[</span><span class="n">max_border</span><span class="o">=</span><span class="s2">&quot;include&quot;</span><span class="p">]</span>
               <span class="p">[</span><span class="nb">filter</span><span class="o">=</span><span class="n">null</span><span class="p">]</span>
               <span class="p">[</span><span class="n">sortby</span><span class="o">=</span><span class="n">null</span><span class="p">]</span>
               <span class="p">[</span><span class="n">output_columns</span><span class="o">=</span><span class="s2">&quot;_id, _key, *&quot;</span><span class="p">]</span>
               <span class="p">[</span><span class="n">offset</span><span class="o">=</span><span class="mi">0</span><span class="p">]</span>
               <span class="p">[</span><span class="n">limit</span><span class="o">=</span><span class="mi">10</span><span class="p">]</span>
               <span class="p">[</span><span class="n">drilldown</span><span class="o">=</span><span class="n">null</span><span class="p">]</span>
               <span class="p">[</span><span class="n">drilldown_sortby</span><span class="o">=</span><span class="n">null</span><span class="p">]</span>
               <span class="p">[</span><span class="n">drilldown_output_columns</span><span class="o">=</span><span class="s2">&quot;_key, _nsubrecs&quot;</span><span class="p">]</span>
               <span class="p">[</span><span class="n">drilldown_offset</span><span class="o">=</span><span class="mi">0</span><span class="p">]</span>
               <span class="p">[</span><span class="n">drilldown_limit</span><span class="o">=</span><span class="mi">10</span><span class="p">]</span>
               <span class="p">[</span><span class="n">drilldown_calc_types</span><span class="o">=</span><span class="n">NONE</span><span class="p">]</span>
               <span class="p">[</span><span class="n">drilldown_calc_target</span><span class="o">=</span><span class="n">null</span><span class="p">]</span>
               <span class="p">[</span><span class="n">sort_keys</span><span class="o">=</span><span class="n">null</span><span class="p">]</span>
               <span class="p">[</span><span class="n">drilldown_sort_keys</span><span class="o">=</span><span class="n">null</span><span class="p">]</span>
               <span class="p">[</span><span class="n">match_columns</span><span class="o">=</span><span class="n">null</span><span class="p">]</span>
               <span class="p">[</span><span class="n">query</span><span class="o">=</span><span class="n">null</span><span class="p">]</span>
               <span class="p">[</span><span class="n">drilldown_filter</span><span class="o">=</span><span class="n">null</span><span class="p">]</span>
               <span class="p">[</span><span class="n">post_filter</span><span class="o">=</span><span class="n">null</span><span class="p">]</span>
               <span class="p">[</span><span class="n">load_table</span><span class="o">=</span><span class="n">null</span><span class="p">]</span>
               <span class="p">[</span><span class="n">load_columns</span><span class="o">=</span><span class="n">null</span><span class="p">]</span>
               <span class="p">[</span><span class="n">load_values</span><span class="o">=</span><span class="n">null</span><span class="p">]</span>
</pre></div>
</div>
<p>There are some parameters that can be only used as named
parameters. You can’t use these parameters as ordered parameters. You
must specify parameter name.</p>
<p>Here are parameters that can be only used as named parameters:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">cache=no</span></code></p></li>
</ul>
</div></blockquote>
<p>This command has the following named parameters for dynamic columns:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">columns[${NAME}].stage=null</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">columns[${NAME}].flags=COLUMN_SCALAR</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">columns[${NAME}].type=null</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">columns[${NAME}].value=null</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">columns[${NAME}].window.sort_keys=null</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">columns[${NAME}].window.group_keys=null</span></code></p></li>
</ul>
</div></blockquote>
<p>You can use one or more alphabets, digits, <code class="docutils literal notranslate"><span class="pre">_</span></code> for <code class="docutils literal notranslate"><span class="pre">${NAME}</span></code>. For
example, <code class="docutils literal notranslate"><span class="pre">column1</span></code> is a valid <code class="docutils literal notranslate"><span class="pre">${NAME}</span></code>. This is the same rule as
normal column. See also <a class="reference internal" href="column_create.html#column-create-name"><span class="std std-ref">name</span></a>.</p>
<p>Parameters that have the same <code class="docutils literal notranslate"><span class="pre">${NAME}</span></code> are grouped.</p>
<p>For example, the following parameters specify one dynamic column:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">--columns[name].stage</span> <span class="pre">initial</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--columns[name].type</span> <span class="pre">UInt32</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--columns[name].value</span> <span class="pre">29</span></code></p></li>
</ul>
</div></blockquote>
<p>The following parameters specify two dynamic columns:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">--columns[name1].stage</span> <span class="pre">initial</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--columns[name1].type</span> <span class="pre">UInt32</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--columns[name1].value</span> <span class="pre">29</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--columns[name2].stage</span> <span class="pre">filtered</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--columns[name2].type</span> <span class="pre">Float</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--columns[name2].value</span> <span class="pre">'_score</span> <span class="pre">*</span> <span class="pre">0.1'</span></code></p></li>
</ul>
</div></blockquote>
<p>This command has the following named parameters for advanced
drilldown:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">drilldowns[${LABEL}].keys=null</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">drilldowns[${LABEL}].sort_keys=null</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">drilldowns[${LABEL}].output_columns=&quot;_key,</span> <span class="pre">_nsubrecs&quot;</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">drilldowns[${LABEL}].offset=0</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">drilldowns[${LABEL}].limit=10</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">drilldowns[${LABEL}].calc_types=NONE</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">drilldowns[${LABEL}].calc_target=null</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">drilldowns[${LABEL}].filter=null</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">drilldowns[${LABEL}].columns[${NAME}].stage=null</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">drilldowns[${LABEL}].columns[${NAME}].flags=COLUMN_SCALAR</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">drilldowns[${LABEL}].columns[${NAME}].type=null</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">drilldowns[${LABEL}].columns[${NAME}].value=null</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">drilldowns[${LABEL}].columns[${NAME}].window.sort_keys=null</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">drilldowns[${LABEL}].columns[${NAME}].window.group_keys=null</span></code></p></li>
</ul>
</div></blockquote>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 6.1.4: </span><code class="docutils literal notranslate"><span class="pre">drilldown[...]</span></code> syntax is deprecated. Use <code class="docutils literal notranslate"><span class="pre">drilldowns[...]</span></code>
instead.</p>
</div>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 6.1.5: </span><a class="reference internal" href="#logical-select-drilldowns-label-sortby"><span class="std std-ref">drilldowns[${LABEL}].sortby</span></a> is deprecated.
Use <a class="reference internal" href="#logical-select-drilldowns-label-sort-keys"><span class="std std-ref">drilldowns[${LABEL}].sort_keys</span></a> instead.</p>
</div>
<p>You can use one or more alphabets, digits, <code class="docutils literal notranslate"><span class="pre">_</span></code> and <code class="docutils literal notranslate"><span class="pre">.</span></code> for
<code class="docutils literal notranslate"><span class="pre">${LABEL}</span></code>. For example, <code class="docutils literal notranslate"><span class="pre">parent.sub1</span></code> is a valid <code class="docutils literal notranslate"><span class="pre">${LABEL}</span></code>.</p>
<p>Parameters that have the same <code class="docutils literal notranslate"><span class="pre">${LABEL}</span></code> are grouped.</p>
<p>For example, the following parameters specify one drilldown:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">--drilldowns[label].keys</span> <span class="pre">column</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--drilldowns[label].sort_keys</span> <span class="pre">-_nsubrecs</span></code></p></li>
</ul>
</div></blockquote>
<p>The following parameters specify two drilldowns:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">--drilldowns[label1].keys</span> <span class="pre">column1</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--drilldowns[label1].sort_keys</span> <span class="pre">-_nsubrecs</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--drilldowns[label2].keys</span> <span class="pre">column2</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--drilldowns[label2].sort_keys</span> <span class="pre">_key</span></code></p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="differences-from-select">
<h2><span class="section-number">7.3.35.3. </span>Differences from <code class="docutils literal notranslate"><span class="pre">select</span></code><a class="headerlink" href="#differences-from-select" title="Permalink to this headline">¶</a></h2>
<p>Most of <code class="docutils literal notranslate"><span class="pre">logical_select</span></code> features can be used like corresponding
<a class="reference internal" href="select.html"><span class="doc">select</span></a> features. For example, parameter name is same, output
format is same and so on.</p>
<p>But there are some differences from <a class="reference internal" href="select.html"><span class="doc">select</span></a>:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">logical_table</span></code> and <code class="docutils literal notranslate"><span class="pre">shard_key</span></code> parameters are required
instead of <code class="docutils literal notranslate"><span class="pre">table</span></code> parameter.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sort_keys</span></code> isn’t supported when multiple shards are used. (Only
one shard is used, they are supported. There is one exception
about <code class="docutils literal notranslate"><span class="pre">sort_keys</span></code> for multiple shards. When <code class="docutils literal notranslate"><span class="pre">shard_keys</span></code> and
<code class="docutils literal notranslate"><span class="pre">sort_keys</span></code> are same, they are supported. See
<a class="reference internal" href="#logical-select-sort-keys"><span class="std std-ref">sort_keys</span></a> about details)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">_value.${KEY_NAME}</span></code> in <code class="docutils literal notranslate"><span class="pre">drilldowns[${LABEL}].sort_keys</span></code>
doesn’t work with multiple shards. It works with one
shard. <code class="docutils literal notranslate"><span class="pre">_key</span></code> in <code class="docutils literal notranslate"><span class="pre">drilldowns[${LABEL}].sort_keys</span></code> work with
multiple shards.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">_value.${KEY_NAME}</span></code> in <code class="docutils literal notranslate"><span class="pre">drilldowns[${LABEL}].output_columns</span></code>
also doesn’t work with multiple shards either. It works with one
shard.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">match_escalation_threshold</span></code> isn’t supported yet.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">query_flags</span></code> isn’t supported yet.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">query_expander</span></code> isn’t supported yet.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">adjuster</span></code> isn’t supported yet.</p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="usage">
<h2><span class="section-number">7.3.35.4. </span>Usage<a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<p>Let’s learn about usage with examples. This section shows many popular
usages.</p>
<p>You need to register <code class="docutils literal notranslate"><span class="pre">sharding</span></code> plugin because this command is
included in <code class="docutils literal notranslate"><span class="pre">sharding</span></code> plugin.</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">plugin_register</span> <span class="n">sharding</span>
<span class="c1"># [[0, 1337566253.89858, 0.000355720520019531], true]</span>
</pre></div>
</div>
<p>Here are a schema definition and sample data to show usage.</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">table_create</span> <span class="n">Entries_20150708</span> <span class="n">TABLE_HASH_KEY</span> <span class="n">ShortText</span>
<span class="c1"># [[0, 1337566253.89858, 0.000355720520019531], true]</span>
<span class="n">column_create</span> <span class="n">Entries_20150708</span> <span class="n">created_at</span> <span class="n">COLUMN_SCALAR</span> <span class="n">Time</span>
<span class="c1"># [[0, 1337566253.89858, 0.000355720520019531], true]</span>
<span class="n">column_create</span> <span class="n">Entries_20150708</span> <span class="n">content</span> <span class="n">COLUMN_SCALAR</span> <span class="n">Text</span>
<span class="c1"># [[0, 1337566253.89858, 0.000355720520019531], true]</span>
<span class="n">column_create</span> <span class="n">Entries_20150708</span> <span class="n">n_likes</span> <span class="n">COLUMN_SCALAR</span> <span class="n">UInt32</span>
<span class="c1"># [[0, 1337566253.89858, 0.000355720520019531], true]</span>
<span class="n">column_create</span> <span class="n">Entries_20150708</span> <span class="n">tag</span> <span class="n">COLUMN_SCALAR</span> <span class="n">ShortText</span>
<span class="c1"># [[0, 1337566253.89858, 0.000355720520019531], true]</span>
<span class="n">table_create</span> <span class="n">Entries_20150709</span> <span class="n">TABLE_HASH_KEY</span> <span class="n">ShortText</span>
<span class="c1"># [[0, 1337566253.89858, 0.000355720520019531], true]</span>
<span class="n">column_create</span> <span class="n">Entries_20150709</span> <span class="n">created_at</span> <span class="n">COLUMN_SCALAR</span> <span class="n">Time</span>
<span class="c1"># [[0, 1337566253.89858, 0.000355720520019531], true]</span>
<span class="n">column_create</span> <span class="n">Entries_20150709</span> <span class="n">content</span> <span class="n">COLUMN_SCALAR</span> <span class="n">Text</span>
<span class="c1"># [[0, 1337566253.89858, 0.000355720520019531], true]</span>
<span class="n">column_create</span> <span class="n">Entries_20150709</span> <span class="n">n_likes</span> <span class="n">COLUMN_SCALAR</span> <span class="n">UInt32</span>
<span class="c1"># [[0, 1337566253.89858, 0.000355720520019531], true]</span>
<span class="n">column_create</span> <span class="n">Entries_20150709</span> <span class="n">tag</span> <span class="n">COLUMN_SCALAR</span> <span class="n">ShortText</span>
<span class="c1"># [[0, 1337566253.89858, 0.000355720520019531], true]</span>
<span class="n">table_create</span> <span class="n">Terms</span> <span class="n">TABLE_PAT_KEY</span> <span class="n">ShortText</span> \
  <span class="o">--</span><span class="n">default_tokenizer</span> <span class="n">TokenBigram</span> \
  <span class="o">--</span><span class="n">normalizer</span> <span class="n">NormalizerAuto</span>
<span class="c1"># [[0, 1337566253.89858, 0.000355720520019531], true]</span>
<span class="n">column_create</span> <span class="n">Terms</span> <span class="n">entries_key_index_20150708</span> \
  <span class="n">COLUMN_INDEX</span><span class="o">|</span><span class="n">WITH_POSITION</span> <span class="n">Entries_20150708</span> <span class="n">_key</span>
<span class="c1"># [[0, 1337566253.89858, 0.000355720520019531], true]</span>
<span class="n">column_create</span> <span class="n">Terms</span> <span class="n">entries_content_index_20150708</span> \
  <span class="n">COLUMN_INDEX</span><span class="o">|</span><span class="n">WITH_POSITION</span> <span class="n">Entries_20150708</span> <span class="n">content</span>
<span class="c1"># [[0, 1337566253.89858, 0.000355720520019531], true]</span>
<span class="n">column_create</span> <span class="n">Terms</span> <span class="n">entries_key_index_20150709</span> \
  <span class="n">COLUMN_INDEX</span><span class="o">|</span><span class="n">WITH_POSITION</span> <span class="n">Entries_20150709</span> <span class="n">_key</span>
<span class="c1"># [[0, 1337566253.89858, 0.000355720520019531], true]</span>
<span class="n">column_create</span> <span class="n">Terms</span> <span class="n">entries_content_index_20150709</span> \
  <span class="n">COLUMN_INDEX</span><span class="o">|</span><span class="n">WITH_POSITION</span> <span class="n">Entries_20150709</span> <span class="n">content</span>
<span class="c1"># [[0, 1337566253.89858, 0.000355720520019531], true]</span>
<span class="n">load</span> <span class="o">--</span><span class="n">table</span> <span class="n">Entries_20150708</span>
<span class="p">[</span>
<span class="p">{</span><span class="s2">&quot;_key&quot;</span><span class="p">:</span>       <span class="s2">&quot;The first post!&quot;</span><span class="p">,</span>
 <span class="s2">&quot;created_at&quot;</span><span class="p">:</span> <span class="s2">&quot;2015/07/08 00:00:00&quot;</span><span class="p">,</span>
 <span class="s2">&quot;content&quot;</span><span class="p">:</span>    <span class="s2">&quot;Welcome! This is my first post!&quot;</span><span class="p">,</span>
 <span class="s2">&quot;n_likes&quot;</span><span class="p">:</span>    <span class="mi">5</span><span class="p">,</span>
 <span class="s2">&quot;tag&quot;</span><span class="p">:</span>        <span class="s2">&quot;Hello&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;_key&quot;</span><span class="p">:</span>       <span class="s2">&quot;Groonga&quot;</span><span class="p">,</span>
 <span class="s2">&quot;created_at&quot;</span><span class="p">:</span> <span class="s2">&quot;2015/07/08 01:00:00&quot;</span><span class="p">,</span>
 <span class="s2">&quot;content&quot;</span><span class="p">:</span>    <span class="s2">&quot;I started to use Groonga. It&#39;s very fast!&quot;</span><span class="p">,</span>
 <span class="s2">&quot;n_likes&quot;</span><span class="p">:</span>    <span class="mi">10</span><span class="p">,</span>
 <span class="s2">&quot;tag&quot;</span><span class="p">:</span>        <span class="s2">&quot;Groonga&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;_key&quot;</span><span class="p">:</span>       <span class="s2">&quot;Mroonga&quot;</span><span class="p">,</span>
 <span class="s2">&quot;created_at&quot;</span><span class="p">:</span> <span class="s2">&quot;2015/07/08 02:00:00&quot;</span><span class="p">,</span>
 <span class="s2">&quot;content&quot;</span><span class="p">:</span>    <span class="s2">&quot;I also started to use Mroonga. It&#39;s also very fast! Really fast!&quot;</span><span class="p">,</span>
 <span class="s2">&quot;n_likes&quot;</span><span class="p">:</span>    <span class="mi">15</span><span class="p">,</span>
 <span class="s2">&quot;tag&quot;</span><span class="p">:</span>        <span class="s2">&quot;Groonga&quot;</span><span class="p">}</span>
<span class="p">]</span>
<span class="c1"># [[0, 1337566253.89858, 0.000355720520019531], 3]</span>
<span class="n">load</span> <span class="o">--</span><span class="n">table</span> <span class="n">Entries_20150709</span>
<span class="p">[</span>
<span class="p">{</span><span class="s2">&quot;_key&quot;</span><span class="p">:</span>       <span class="s2">&quot;Good-bye Senna&quot;</span><span class="p">,</span>
 <span class="s2">&quot;created_at&quot;</span><span class="p">:</span> <span class="s2">&quot;2015/07/09 00:00:00&quot;</span><span class="p">,</span>
 <span class="s2">&quot;content&quot;</span><span class="p">:</span>    <span class="s2">&quot;I migrated all Senna system!&quot;</span><span class="p">,</span>
 <span class="s2">&quot;n_likes&quot;</span><span class="p">:</span>    <span class="mi">3</span><span class="p">,</span>
 <span class="s2">&quot;tag&quot;</span><span class="p">:</span>        <span class="s2">&quot;Senna&quot;</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;_key&quot;</span><span class="p">:</span>       <span class="s2">&quot;Good-bye Tritonn&quot;</span><span class="p">,</span>
 <span class="s2">&quot;created_at&quot;</span><span class="p">:</span> <span class="s2">&quot;2015/07/09 01:00:00&quot;</span><span class="p">,</span>
 <span class="s2">&quot;content&quot;</span><span class="p">:</span>    <span class="s2">&quot;I also migrated all Tritonn system!&quot;</span><span class="p">,</span>
 <span class="s2">&quot;n_likes&quot;</span><span class="p">:</span>    <span class="mi">3</span><span class="p">,</span>
 <span class="s2">&quot;tag&quot;</span><span class="p">:</span>        <span class="s2">&quot;Senna&quot;</span><span class="p">}</span>
<span class="p">]</span>
<span class="c1"># [[0, 1337566253.89858, 0.000355720520019531], 2]</span>
</pre></div>
</div>
<p>There are two tables, <code class="docutils literal notranslate"><span class="pre">Entries_20150708</span></code> and <code class="docutils literal notranslate"><span class="pre">Entries_20150709</span></code>,
for blog entries.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You need to use <code class="docutils literal notranslate"><span class="pre">${LOGICAL_TABLE_NAME}_${YYYYMMDD}</span></code> naming rule
for table names. In this example, <code class="docutils literal notranslate"><span class="pre">LOGICAL_TABLE_NAME</span></code> is
<code class="docutils literal notranslate"><span class="pre">Entries</span></code> and <code class="docutils literal notranslate"><span class="pre">YYYYMMDD</span></code> is <code class="docutils literal notranslate"><span class="pre">20150708</span></code> or <code class="docutils literal notranslate"><span class="pre">20150709</span></code>.</p>
</div>
<p>An entry has title, created time, content, the number of likes for the
entry and tag. Title is key of <code class="docutils literal notranslate"><span class="pre">Entries_YYYYMMDD</span></code>. Created time is
value of <code class="docutils literal notranslate"><span class="pre">Entries_YYYYMMDD.created_at</span></code> column. Content is value of
<code class="docutils literal notranslate"><span class="pre">Entries_YYYYMMDD.content</span></code> column. The number of likes is value of
<code class="docutils literal notranslate"><span class="pre">Entries_YYYYMMDD.n_likes</span></code> column. Tag is value of
<code class="docutils literal notranslate"><span class="pre">Entries_YYYYMMDD.tag</span></code> column.</p>
<p><code class="docutils literal notranslate"><span class="pre">Entries_YYYYMMDD._key</span></code> column and <code class="docutils literal notranslate"><span class="pre">Entries_YYYYMMDD.content</span></code>
column are indexed using <code class="docutils literal notranslate"><span class="pre">TokenBigram</span></code> tokenizer. So both
<code class="docutils literal notranslate"><span class="pre">Entries_YYYYMMDD._key</span></code> and <code class="docutils literal notranslate"><span class="pre">Entries_YYYYMMDD.content</span></code> are
fulltext search ready.</p>
<p>OK. The schema and data for examples are ready.</p>
<div class="section" id="simple-usage">
<h3><span class="section-number">7.3.35.4.1. </span>Simple usage<a class="headerlink" href="#simple-usage" title="Permalink to this headline">¶</a></h3>
<p>Here is an example that specifies only required parameters.</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">logical_select</span> <span class="o">--</span><span class="n">logical_table</span> <span class="n">Entries</span> <span class="o">--</span><span class="n">shard_key</span> <span class="n">created_at</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         5</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_id&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_key&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;content&quot;,</span>
<span class="c1">#           &quot;Text&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;created_at&quot;,</span>
<span class="c1">#           &quot;Time&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;n_likes&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;tag&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         1,</span>
<span class="c1">#         &quot;The first post!&quot;,</span>
<span class="c1">#         &quot;Welcome! This is my first post!&quot;,</span>
<span class="c1">#         1436281200.0,</span>
<span class="c1">#         5,</span>
<span class="c1">#         &quot;Hello&quot;</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         2,</span>
<span class="c1">#         &quot;Groonga&quot;,</span>
<span class="c1">#         &quot;I started to use Groonga. It&#39;s very fast!&quot;,</span>
<span class="c1">#         1436284800.0,</span>
<span class="c1">#         10,</span>
<span class="c1">#         &quot;Groonga&quot;</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         3,</span>
<span class="c1">#         &quot;Mroonga&quot;,</span>
<span class="c1">#         &quot;I also started to use Mroonga. It&#39;s also very fast! Really fast!&quot;,</span>
<span class="c1">#         1436288400.0,</span>
<span class="c1">#         15,</span>
<span class="c1">#         &quot;Groonga&quot;</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         1,</span>
<span class="c1">#         &quot;Good-bye Senna&quot;,</span>
<span class="c1">#         &quot;I migrated all Senna system!&quot;,</span>
<span class="c1">#         1436367600.0,</span>
<span class="c1">#         3,</span>
<span class="c1">#         &quot;Senna&quot;</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         2,</span>
<span class="c1">#         &quot;Good-bye Tritonn&quot;,</span>
<span class="c1">#         &quot;I also migrated all Tritonn system!&quot;,</span>
<span class="c1">#         1436371200.0,</span>
<span class="c1">#         3,</span>
<span class="c1">#         &quot;Senna&quot;</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
<p>It is shown that is searched from Entries_20150708 and Entries_20150709 in above example.</p>
</div>
</div>
<div class="section" id="parameters">
<h2><span class="section-number">7.3.35.5. </span>Parameters<a class="headerlink" href="#parameters" title="Permalink to this headline">¶</a></h2>
<p>This section describes parameters of <code class="docutils literal notranslate"><span class="pre">logical_select</span></code>.</p>
<div class="section" id="required-parameters">
<h3><span class="section-number">7.3.35.5.1. </span>Required parameters<a class="headerlink" href="#required-parameters" title="Permalink to this headline">¶</a></h3>
<p>There are required parameters, <code class="docutils literal notranslate"><span class="pre">logical_table</span></code> and <code class="docutils literal notranslate"><span class="pre">shard_key</span></code>.</p>
<div class="section" id="logical-table">
<span id="logical-select-logical-table"></span><h4><span class="section-number">7.3.35.5.1.1. </span><code class="docutils literal notranslate"><span class="pre">logical_table</span></code><a class="headerlink" href="#logical-table" title="Permalink to this headline">¶</a></h4>
<p>Specifies logical table name. It means table name without
<code class="docutils literal notranslate"><span class="pre">_YYYYMMDD</span></code> postfix. If you use actual table such as
<code class="docutils literal notranslate"><span class="pre">Entries_20150708</span></code>, <code class="docutils literal notranslate"><span class="pre">Entries_20150709</span></code> and so on, logical table
name is <code class="docutils literal notranslate"><span class="pre">Entries</span></code>.</p>
<p>You can show 5 records by specifying <code class="docutils literal notranslate"><span class="pre">logical_table</span></code> and
<code class="docutils literal notranslate"><span class="pre">shard_key</span></code> parameters. They are required parameters.</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">logical_select</span> <span class="o">--</span><span class="n">logical_table</span> <span class="n">Entries</span> <span class="o">--</span><span class="n">shard_key</span> <span class="n">created_at</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         5</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_id&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_key&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;content&quot;,</span>
<span class="c1">#           &quot;Text&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;created_at&quot;,</span>
<span class="c1">#           &quot;Time&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;n_likes&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;tag&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         1,</span>
<span class="c1">#         &quot;The first post!&quot;,</span>
<span class="c1">#         &quot;Welcome! This is my first post!&quot;,</span>
<span class="c1">#         1436281200.0,</span>
<span class="c1">#         5,</span>
<span class="c1">#         &quot;Hello&quot;</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         2,</span>
<span class="c1">#         &quot;Groonga&quot;,</span>
<span class="c1">#         &quot;I started to use Groonga. It&#39;s very fast!&quot;,</span>
<span class="c1">#         1436284800.0,</span>
<span class="c1">#         10,</span>
<span class="c1">#         &quot;Groonga&quot;</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         3,</span>
<span class="c1">#         &quot;Mroonga&quot;,</span>
<span class="c1">#         &quot;I also started to use Mroonga. It&#39;s also very fast! Really fast!&quot;,</span>
<span class="c1">#         1436288400.0,</span>
<span class="c1">#         15,</span>
<span class="c1">#         &quot;Groonga&quot;</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         1,</span>
<span class="c1">#         &quot;Good-bye Senna&quot;,</span>
<span class="c1">#         &quot;I migrated all Senna system!&quot;,</span>
<span class="c1">#         1436367600.0,</span>
<span class="c1">#         3,</span>
<span class="c1">#         &quot;Senna&quot;</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         2,</span>
<span class="c1">#         &quot;Good-bye Tritonn&quot;,</span>
<span class="c1">#         &quot;I also migrated all Tritonn system!&quot;,</span>
<span class="c1">#         1436371200.0,</span>
<span class="c1">#         3,</span>
<span class="c1">#         &quot;Senna&quot;</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
<p>If nonexistent table is specified, an error is returned.</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">logical_select</span> <span class="o">--</span><span class="n">logical_table</span> <span class="n">Nonexistent</span> <span class="o">--</span><span class="n">shard_key</span> <span class="n">created_at</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     -22,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531,</span>
<span class="c1">#     &quot;[logical_select] no shard exists: logical_table: &lt;Nonexistent&gt;: shard_key: &lt;created_at&gt;&quot;,</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         &quot;Groonga::Sharding::LogicalSelectCommand::Executor.execute_search&quot;,</span>
<span class="c1">#         &quot;/home/horimoto/work/release/groonga/groonga.clean/plugins/sharding/logical_select.rb&quot;,</span>
<span class="c1">#         560</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
</div>
<div class="section" id="shard-key">
<span id="logical-select-shard-key"></span><h4><span class="section-number">7.3.35.5.1.2. </span><code class="docutils literal notranslate"><span class="pre">shard_key</span></code><a class="headerlink" href="#shard-key" title="Permalink to this headline">¶</a></h4>
<p>Specifies column name which is treated as shared key. Shard key is a
column that stores data that is used for distributing records to
suitable shards.</p>
<p>Shard key must be <code class="docutils literal notranslate"><span class="pre">Time</span></code> type for now.</p>
<p>See <a class="reference internal" href="#logical-select-logical-table"><span class="std std-ref">logical_table</span></a> how to specify <code class="docutils literal notranslate"><span class="pre">shard_key</span></code>.</p>
</div>
</div>
<div class="section" id="optional-parameters">
<h3><span class="section-number">7.3.35.5.2. </span>Optional parameters<a class="headerlink" href="#optional-parameters" title="Permalink to this headline">¶</a></h3>
<p>There are optional parameters.</p>
<div class="section" id="min">
<span id="logical-select-min"></span><h4><span class="section-number">7.3.35.5.2.1. </span><code class="docutils literal notranslate"><span class="pre">min</span></code><a class="headerlink" href="#min" title="Permalink to this headline">¶</a></h4>
<p>Specifies the minimum value of <code class="docutils literal notranslate"><span class="pre">shard_key</span></code> column. If shard doesn’t
have any matched records, the shard isn’t searched.</p>
<p>For example, <code class="docutils literal notranslate"><span class="pre">min</span></code> is <code class="docutils literal notranslate"><span class="pre">&quot;2015/07/09</span> <span class="pre">00:00:00&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">Entry_20150708</span></code>
isn’t searched. Because <code class="docutils literal notranslate"><span class="pre">Entry_20150708</span></code> has only records for
<code class="docutils literal notranslate"><span class="pre">&quot;2015/07/08&quot;</span></code>.</p>
<p>The following example only uses <code class="docutils literal notranslate"><span class="pre">Entry_20150709</span></code>
table. <code class="docutils literal notranslate"><span class="pre">Entry_20150708</span></code> isn’t used.</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">logical_select</span> \
  <span class="o">--</span><span class="n">logical_table</span> <span class="n">Entries</span> \
  <span class="o">--</span><span class="n">shard_key</span> <span class="n">created_at</span> \
  <span class="o">--</span><span class="nb">min</span> <span class="s2">&quot;2015/07/09 00:00:00&quot;</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         2</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_id&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_key&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;content&quot;,</span>
<span class="c1">#           &quot;Text&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;created_at&quot;,</span>
<span class="c1">#           &quot;Time&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;n_likes&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;tag&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         1,</span>
<span class="c1">#         &quot;Good-bye Senna&quot;,</span>
<span class="c1">#         &quot;I migrated all Senna system!&quot;,</span>
<span class="c1">#         1436367600.0,</span>
<span class="c1">#         3,</span>
<span class="c1">#         &quot;Senna&quot;</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         2,</span>
<span class="c1">#         &quot;Good-bye Tritonn&quot;,</span>
<span class="c1">#         &quot;I also migrated all Tritonn system!&quot;,</span>
<span class="c1">#         1436371200.0,</span>
<span class="c1">#         3,</span>
<span class="c1">#         &quot;Senna&quot;</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
</div>
<div class="section" id="min-border">
<span id="logical-select-min-border"></span><h4><span class="section-number">7.3.35.5.2.2. </span><code class="docutils literal notranslate"><span class="pre">min_border</span></code><a class="headerlink" href="#min-border" title="Permalink to this headline">¶</a></h4>
<p>Specifies whether the minimum value is included or not. Here is
available values.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Value</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">include</span></code></p></td>
<td><p>Includes <code class="docutils literal notranslate"><span class="pre">min</span></code> value. This is the default.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">exclude</span></code></p></td>
<td><p>Doesn’t include <code class="docutils literal notranslate"><span class="pre">min</span></code> value.</p></td>
</tr>
</tbody>
</table>
<p>Here is an example for <code class="docutils literal notranslate"><span class="pre">exclude</span></code>. The result doesn’t include the
<code class="docutils literal notranslate"><span class="pre">&quot;Good-bye</span> <span class="pre">Senna&quot;</span></code> record because its <code class="docutils literal notranslate"><span class="pre">created_at</span></code> value is
<code class="docutils literal notranslate"><span class="pre">&quot;2015/07/09</span> <span class="pre">00:00:00&quot;</span></code>.</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">logical_select</span> \
  <span class="o">--</span><span class="n">logical_table</span> <span class="n">Entries</span> \
  <span class="o">--</span><span class="n">shard_key</span> <span class="n">created_at</span> \
  <span class="o">--</span><span class="nb">min</span> <span class="s2">&quot;2015/07/09 00:00:00&quot;</span> \
  <span class="o">--</span><span class="n">min_border</span> <span class="s2">&quot;exclude&quot;</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         1</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_id&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_key&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;content&quot;,</span>
<span class="c1">#           &quot;Text&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;created_at&quot;,</span>
<span class="c1">#           &quot;Time&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;n_likes&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;tag&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         2,</span>
<span class="c1">#         &quot;Good-bye Tritonn&quot;,</span>
<span class="c1">#         &quot;I also migrated all Tritonn system!&quot;,</span>
<span class="c1">#         1436371200.0,</span>
<span class="c1">#         3,</span>
<span class="c1">#         &quot;Senna&quot;</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
</div>
<div class="section" id="max">
<span id="logical-select-max"></span><h4><span class="section-number">7.3.35.5.2.3. </span><code class="docutils literal notranslate"><span class="pre">max</span></code><a class="headerlink" href="#max" title="Permalink to this headline">¶</a></h4>
<p>Specifies the maximum value of <code class="docutils literal notranslate"><span class="pre">shard_key</span></code> column. If shard doesn’t
have any matched records, the shard isn’t searched.</p>
<p>For example, <code class="docutils literal notranslate"><span class="pre">max</span></code> is <code class="docutils literal notranslate"><span class="pre">&quot;2015/07/08</span> <span class="pre">23:59:59&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">Entry_20150709</span></code>
isn’t searched. Because <code class="docutils literal notranslate"><span class="pre">Entry_20150709</span></code> has only records for
<code class="docutils literal notranslate"><span class="pre">&quot;&quot;2015/07/09&quot;</span></code>.</p>
<p>The following example only uses <code class="docutils literal notranslate"><span class="pre">Entry_20150708</span></code>
table. <code class="docutils literal notranslate"><span class="pre">Entry_20150709</span></code> isn’t used.</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">logical_select</span> \
  <span class="o">--</span><span class="n">logical_table</span> <span class="n">Entries</span> \
  <span class="o">--</span><span class="n">shard_key</span> <span class="n">created_at</span> \
  <span class="o">--</span><span class="nb">max</span> <span class="s2">&quot;2015/07/08 23:59:59&quot;</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         3</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_id&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_key&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;content&quot;,</span>
<span class="c1">#           &quot;Text&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;created_at&quot;,</span>
<span class="c1">#           &quot;Time&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;n_likes&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;tag&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         1,</span>
<span class="c1">#         &quot;The first post!&quot;,</span>
<span class="c1">#         &quot;Welcome! This is my first post!&quot;,</span>
<span class="c1">#         1436281200.0,</span>
<span class="c1">#         5,</span>
<span class="c1">#         &quot;Hello&quot;</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         2,</span>
<span class="c1">#         &quot;Groonga&quot;,</span>
<span class="c1">#         &quot;I started to use Groonga. It&#39;s very fast!&quot;,</span>
<span class="c1">#         1436284800.0,</span>
<span class="c1">#         10,</span>
<span class="c1">#         &quot;Groonga&quot;</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         3,</span>
<span class="c1">#         &quot;Mroonga&quot;,</span>
<span class="c1">#         &quot;I also started to use Mroonga. It&#39;s also very fast! Really fast!&quot;,</span>
<span class="c1">#         1436288400.0,</span>
<span class="c1">#         15,</span>
<span class="c1">#         &quot;Groonga&quot;</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
</div>
<div class="section" id="max-border">
<span id="logical-select-max-border"></span><h4><span class="section-number">7.3.35.5.2.4. </span><code class="docutils literal notranslate"><span class="pre">max_border</span></code><a class="headerlink" href="#max-border" title="Permalink to this headline">¶</a></h4>
<p>Specifies whether the maximum value is included or not. Here is
available values.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Value</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">include</span></code></p></td>
<td><p>Includes <code class="docutils literal notranslate"><span class="pre">max</span></code> value. This is the default.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">exclude</span></code></p></td>
<td><p>Doesn’t include <code class="docutils literal notranslate"><span class="pre">max</span></code> value.</p></td>
</tr>
</tbody>
</table>
<p>Here is an example for <code class="docutils literal notranslate"><span class="pre">exclude</span></code>. The result doesn’t include the
<code class="docutils literal notranslate"><span class="pre">&quot;Good-bye</span> <span class="pre">Senna&quot;</span></code> record because its <code class="docutils literal notranslate"><span class="pre">created_at</span></code> value is
<code class="docutils literal notranslate"><span class="pre">&quot;2015/07/09</span> <span class="pre">00:00:00&quot;</span></code>.</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">logical_select</span> \
  <span class="o">--</span><span class="n">logical_table</span> <span class="n">Entries</span> \
  <span class="o">--</span><span class="n">shard_key</span> <span class="n">created_at</span> \
  <span class="o">--</span><span class="nb">max</span> <span class="s2">&quot;2015/07/09 00:00:00&quot;</span> \
  <span class="o">--</span><span class="n">max_border</span> <span class="s2">&quot;exclude&quot;</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         3</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_id&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_key&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;content&quot;,</span>
<span class="c1">#           &quot;Text&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;created_at&quot;,</span>
<span class="c1">#           &quot;Time&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;n_likes&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;tag&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         1,</span>
<span class="c1">#         &quot;The first post!&quot;,</span>
<span class="c1">#         &quot;Welcome! This is my first post!&quot;,</span>
<span class="c1">#         1436281200.0,</span>
<span class="c1">#         5,</span>
<span class="c1">#         &quot;Hello&quot;</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         2,</span>
<span class="c1">#         &quot;Groonga&quot;,</span>
<span class="c1">#         &quot;I started to use Groonga. It&#39;s very fast!&quot;,</span>
<span class="c1">#         1436284800.0,</span>
<span class="c1">#         10,</span>
<span class="c1">#         &quot;Groonga&quot;</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         3,</span>
<span class="c1">#         &quot;Mroonga&quot;,</span>
<span class="c1">#         &quot;I also started to use Mroonga. It&#39;s also very fast! Really fast!&quot;,</span>
<span class="c1">#         1436288400.0,</span>
<span class="c1">#         15,</span>
<span class="c1">#         &quot;Groonga&quot;</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="search-related-parameters">
<span id="logical-select-search-related-parameters"></span><h3><span class="section-number">7.3.35.5.3. </span>Search related parameters<a class="headerlink" href="#search-related-parameters" title="Permalink to this headline">¶</a></h3>
<p>This command provides <a class="reference internal" href="select.html"><span class="doc">select</span></a> compatible search related
parameters.</p>
<div class="section" id="match-columns">
<span id="logical-select-match-columns"></span><h4><span class="section-number">7.3.35.5.3.1. </span><code class="docutils literal notranslate"><span class="pre">match_columns</span></code><a class="headerlink" href="#match-columns" title="Permalink to this headline">¶</a></h4>
<div class="versionadded">
<p><span class="versionmodified added">New in version 7.0.1.</span></p>
</div>
<p>Corresponds to <a class="reference internal" href="select.html#select-match-columns"><span class="std std-ref">match_columns</span></a> in <a class="reference internal" href="select.html"><span class="doc">select</span></a>. See
<a class="reference internal" href="select.html#select-match-columns"><span class="std std-ref">match_columns</span></a> for details.</p>
<p>Here is an example to find records that include <code class="docutils literal notranslate"><span class="pre">&quot;fast&quot;</span></code> text in
<code class="docutils literal notranslate"><span class="pre">content</span></code> column:</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">logical_select</span> \
  <span class="o">--</span><span class="n">logical_table</span> <span class="n">Entries</span> \
  <span class="o">--</span><span class="n">shard_key</span> <span class="n">created_at</span> \
  <span class="o">--</span><span class="n">match_columns</span> <span class="n">content</span> \
  <span class="o">--</span><span class="n">query</span> <span class="s2">&quot;fast&quot;</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         2</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_id&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_key&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;content&quot;,</span>
<span class="c1">#           &quot;Text&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;created_at&quot;,</span>
<span class="c1">#           &quot;Time&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;n_likes&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;tag&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         2,</span>
<span class="c1">#         &quot;Groonga&quot;,</span>
<span class="c1">#         &quot;I started to use Groonga. It&#39;s very fast!&quot;,</span>
<span class="c1">#         1436284800.0,</span>
<span class="c1">#         10,</span>
<span class="c1">#         &quot;Groonga&quot;</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         3,</span>
<span class="c1">#         &quot;Mroonga&quot;,</span>
<span class="c1">#         &quot;I also started to use Mroonga. It&#39;s also very fast! Really fast!&quot;,</span>
<span class="c1">#         1436288400.0,</span>
<span class="c1">#         15,</span>
<span class="c1">#         &quot;Groonga&quot;</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
</div>
<div class="section" id="query">
<span id="logical-select-query"></span><h4><span class="section-number">7.3.35.5.3.2. </span><code class="docutils literal notranslate"><span class="pre">query</span></code><a class="headerlink" href="#query" title="Permalink to this headline">¶</a></h4>
<div class="versionadded">
<p><span class="versionmodified added">New in version 7.0.1.</span></p>
</div>
<p>Corresponds to <a class="reference internal" href="select.html#select-query"><span class="std std-ref">query</span></a> in <a class="reference internal" href="select.html"><span class="doc">select</span></a>. See
<a class="reference internal" href="select.html#select-query"><span class="std std-ref">query</span></a> for details.</p>
<p>Here is an example to find records that include <code class="docutils literal notranslate"><span class="pre">&quot;fast&quot;</span></code> text in
<code class="docutils literal notranslate"><span class="pre">content</span></code> column:</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">logical_select</span> \
  <span class="o">--</span><span class="n">logical_table</span> <span class="n">Entries</span> \
  <span class="o">--</span><span class="n">shard_key</span> <span class="n">created_at</span> \
  <span class="o">--</span><span class="n">query</span> <span class="s2">&quot;content:@fast&quot;</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         2</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_id&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_key&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;content&quot;,</span>
<span class="c1">#           &quot;Text&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;created_at&quot;,</span>
<span class="c1">#           &quot;Time&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;n_likes&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;tag&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         2,</span>
<span class="c1">#         &quot;Groonga&quot;,</span>
<span class="c1">#         &quot;I started to use Groonga. It&#39;s very fast!&quot;,</span>
<span class="c1">#         1436284800.0,</span>
<span class="c1">#         10,</span>
<span class="c1">#         &quot;Groonga&quot;</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         3,</span>
<span class="c1">#         &quot;Mroonga&quot;,</span>
<span class="c1">#         &quot;I also started to use Mroonga. It&#39;s also very fast! Really fast!&quot;,</span>
<span class="c1">#         1436288400.0,</span>
<span class="c1">#         15,</span>
<span class="c1">#         &quot;Groonga&quot;</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
<p>See also <a class="reference internal" href="#logical-select-match-columns"><span class="std std-ref">match_columns</span></a>.</p>
</div>
<div class="section" id="filter">
<span id="logical-select-filter"></span><h4><span class="section-number">7.3.35.5.3.3. </span><code class="docutils literal notranslate"><span class="pre">filter</span></code><a class="headerlink" href="#filter" title="Permalink to this headline">¶</a></h4>
<p>Corresponds to <a class="reference internal" href="select.html#select-filter"><span class="std std-ref">filter</span></a> in <a class="reference internal" href="select.html"><span class="doc">select</span></a>. See
<a class="reference internal" href="select.html#select-filter"><span class="std std-ref">filter</span></a> for details.</p>
<p>Here is an example:</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">logical_select</span> \
  <span class="o">--</span><span class="n">logical_table</span> <span class="n">Entries</span> \
  <span class="o">--</span><span class="n">shard_key</span> <span class="n">created_at</span> \
  <span class="o">--</span><span class="nb">filter</span> <span class="s2">&quot;n_likes &lt;= 5&quot;</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         3</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_id&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_key&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;content&quot;,</span>
<span class="c1">#           &quot;Text&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;created_at&quot;,</span>
<span class="c1">#           &quot;Time&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;n_likes&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;tag&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         1,</span>
<span class="c1">#         &quot;The first post!&quot;,</span>
<span class="c1">#         &quot;Welcome! This is my first post!&quot;,</span>
<span class="c1">#         1436281200.0,</span>
<span class="c1">#         5,</span>
<span class="c1">#         &quot;Hello&quot;</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         1,</span>
<span class="c1">#         &quot;Good-bye Senna&quot;,</span>
<span class="c1">#         &quot;I migrated all Senna system!&quot;,</span>
<span class="c1">#         1436367600.0,</span>
<span class="c1">#         3,</span>
<span class="c1">#         &quot;Senna&quot;</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         2,</span>
<span class="c1">#         &quot;Good-bye Tritonn&quot;,</span>
<span class="c1">#         &quot;I also migrated all Tritonn system!&quot;,</span>
<span class="c1">#         1436371200.0,</span>
<span class="c1">#         3,</span>
<span class="c1">#         &quot;Senna&quot;</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
</div>
<div class="section" id="post-filter">
<span id="logical-select-post-filter"></span><h4><span class="section-number">7.3.35.5.3.4. </span><code class="docutils literal notranslate"><span class="pre">post_filter</span></code><a class="headerlink" href="#post-filter" title="Permalink to this headline">¶</a></h4>
<div class="versionadded">
<p><span class="versionmodified added">New in version 8.0.1.</span></p>
</div>
<p>Specifies the filter text that is processed after <code class="docutils literal notranslate"><span class="pre">filtered</span></code> stage
dynamic columns are generated. You can use <code class="docutils literal notranslate"><span class="pre">post_filter</span></code> to filter
by <code class="docutils literal notranslate"><span class="pre">filtered</span></code> stage dynamic columns. Others are the same as
<a class="reference internal" href="#logical-select-filter"><span class="std std-ref">filter</span></a>.</p>
<p>Here is an example that shows entries only in popular tag. All target
entries have <code class="docutils literal notranslate"><span class="pre">system</span></code> or <code class="docutils literal notranslate"><span class="pre">use</span></code> words:</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">logical_select</span> \
  <span class="o">--</span><span class="n">logical_table</span> <span class="n">Entries</span> \
  <span class="o">--</span><span class="n">shard_key</span> <span class="n">created_at</span> \
  <span class="o">--</span><span class="n">columns</span><span class="p">[</span><span class="n">n_likes_sum_per_tag</span><span class="p">]</span><span class="o">.</span><span class="n">stage</span> <span class="n">filtered</span> \
  <span class="o">--</span><span class="n">columns</span><span class="p">[</span><span class="n">n_likes_sum_per_tag</span><span class="p">]</span><span class="o">.</span><span class="n">type</span> <span class="n">UInt32</span> \
  <span class="o">--</span><span class="n">columns</span><span class="p">[</span><span class="n">n_likes_sum_per_tag</span><span class="p">]</span><span class="o">.</span><span class="n">value</span> <span class="s1">&#39;window_sum(n_likes)&#39;</span> \
  <span class="o">--</span><span class="n">columns</span><span class="p">[</span><span class="n">n_likes_sum_per_tag</span><span class="p">]</span><span class="o">.</span><span class="n">window</span><span class="o">.</span><span class="n">group_keys</span> <span class="s1">&#39;tag&#39;</span> \
  <span class="o">--</span><span class="nb">filter</span> <span class="s1">&#39;content @ &quot;system&quot; || content @ &quot;use&quot;&#39;</span> \
  <span class="o">--</span><span class="n">post_filter</span> <span class="s1">&#39;n_likes_sum_per_tag &gt; 10&#39;</span> \
  <span class="o">--</span><span class="n">output_columns</span> <span class="n">_key</span><span class="p">,</span><span class="n">n_likes</span><span class="p">,</span><span class="n">n_likes_sum_per_tag</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1519030779.410312,</span>
<span class="c1">#     0.04758048057556152</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         2</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_key&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;n_likes&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;n_likes_sum_per_tag&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ]</span>
<span class="c1">#       [</span>
<span class="c1">#         &quot;Groonga&quot;,</span>
<span class="c1">#         10,</span>
<span class="c1">#         25</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         &quot;Mroonga&quot;,</span>
<span class="c1">#         15,</span>
<span class="c1">#         25</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
</div>
<div class="section" id="load-table">
<span id="logical-select-load-table"></span><h4><span class="section-number">7.3.35.5.3.5. </span><code class="docutils literal notranslate"><span class="pre">load_table</span></code><a class="headerlink" href="#load-table" title="Permalink to this headline">¶</a></h4>
<div class="versionadded">
<p><span class="versionmodified added">New in version 8.1.1.</span></p>
</div>
<p>You can store specified a table a result of <code class="docutils literal notranslate"><span class="pre">logical_select</span></code> with <code class="docutils literal notranslate"><span class="pre">--load_table</span></code>, <code class="docutils literal notranslate"><span class="pre">--load-columns</span></code> and <code class="docutils literal notranslate"><span class="pre">--load_values</span></code> arguments.
<code class="docutils literal notranslate"><span class="pre">--load_table</span></code> specifies a table name for storing a result of <code class="docutils literal notranslate"><span class="pre">logical_select</span></code>.</p>
<p>You must specify a table that already exists.</p>
<p>This argument must use with <a class="reference internal" href="#logical-select-load-columns"><span class="std std-ref">load_columns</span></a> and <a class="reference internal" href="#logical-select-load-values"><span class="std std-ref">load_values</span></a>.</p>
<p>Here is an example that can store <code class="docutils literal notranslate"><span class="pre">_id</span></code> and <code class="docutils literal notranslate"><span class="pre">timestamp</span></code> that a result of <code class="docutils literal notranslate"><span class="pre">logical_select</span></code> in a Logs table specified by <code class="docutils literal notranslate"><span class="pre">--load_table</span></code>.</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">table_create</span> <span class="n">Logs_20150203</span> <span class="n">TABLE_HASH_KEY</span> <span class="n">ShortText</span>
<span class="n">column_create</span> <span class="n">Logs_20150203</span> <span class="n">timestamp</span> <span class="n">COLUMN_SCALAR</span> <span class="n">Time</span>
<span class="n">table_create</span> <span class="n">Logs_20150204</span> <span class="n">TABLE_HASH_KEY</span> <span class="n">ShortText</span>
<span class="n">column_create</span> <span class="n">Logs_20150204</span> <span class="n">timestamp</span> <span class="n">COLUMN_SCALAR</span> <span class="n">Time</span>

<span class="n">table_create</span> <span class="n">Logs</span> <span class="n">TABLE_HASH_KEY</span> <span class="n">ShortText</span>
<span class="n">column_create</span> <span class="n">Logs</span> <span class="n">original_id</span> <span class="n">COLUMN_SCALAR</span> <span class="n">UInt32</span>
<span class="n">column_create</span> <span class="n">Logs</span> <span class="n">timestamp_text</span> <span class="n">COLUMN_SCALAR</span> <span class="n">ShortText</span>

<span class="n">load</span> <span class="o">--</span><span class="n">table</span> <span class="n">Logs_20150203</span>
<span class="p">[</span>
<span class="p">{</span>
  <span class="s2">&quot;_key&quot;</span><span class="p">:</span> <span class="s2">&quot;2015-02-03:1&quot;</span><span class="p">,</span>
  <span class="s2">&quot;timestamp&quot;</span><span class="p">:</span> <span class="s2">&quot;2015-02-03 10:49:00&quot;</span>
<span class="p">},</span>
<span class="p">{</span>
  <span class="s2">&quot;_key&quot;</span><span class="p">:</span> <span class="s2">&quot;2015-02-03:2&quot;</span><span class="p">,</span>
  <span class="s2">&quot;timestamp&quot;</span><span class="p">:</span> <span class="s2">&quot;2015-02-03 12:49:00&quot;</span>
<span class="p">}</span>
<span class="p">]</span>
<span class="n">load</span> <span class="o">--</span><span class="n">table</span> <span class="n">Logs_20150204</span>
<span class="p">[</span>
<span class="p">{</span>
  <span class="s2">&quot;_key&quot;</span><span class="p">:</span> <span class="s2">&quot;2015-02-04:1&quot;</span><span class="p">,</span>
  <span class="s2">&quot;timestamp&quot;</span><span class="p">:</span> <span class="s2">&quot;2015-02-04 00:00:00&quot;</span>
<span class="p">}</span>
<span class="p">]</span>
<span class="n">logical_select</span> \
  <span class="o">--</span><span class="n">logical_table</span> <span class="n">Logs</span> \
  <span class="o">--</span><span class="n">shard_key</span> <span class="n">timestamp</span> \
  <span class="o">--</span><span class="n">load_table</span> <span class="n">Logs</span> \
  <span class="o">--</span><span class="n">load_columns</span> <span class="s2">&quot;original_id, timestamp_text&quot;</span> \
  <span class="o">--</span><span class="n">load_values</span> <span class="s2">&quot;_id, timestamp&quot;</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     0.0,</span>
<span class="c1">#     0.0</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         3</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_id&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_key&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;timestamp&quot;,</span>
<span class="c1">#           &quot;Time&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         1,</span>
<span class="c1">#         &quot;2015-02-03:1&quot;,</span>
<span class="c1">#         1422928140.0</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         2,</span>
<span class="c1">#         &quot;2015-02-03:2&quot;,</span>
<span class="c1">#         1422935340.0</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         1,</span>
<span class="c1">#         &quot;2015-02-04:1&quot;,</span>
<span class="c1">#         1422975600.0</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
<span class="n">select</span> <span class="o">--</span><span class="n">table</span> <span class="n">Logs</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     0.0,</span>
<span class="c1">#     0.0</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         3</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_id&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_key&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;original_id&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;timestamp_text&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         1,</span>
<span class="c1">#         &quot;2015-02-03:1&quot;,</span>
<span class="c1">#         1,</span>
<span class="c1">#         &quot;1422928140000000&quot;</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         2,</span>
<span class="c1">#         &quot;2015-02-03:2&quot;,</span>
<span class="c1">#         2,</span>
<span class="c1">#         &quot;1422935340000000&quot;</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         3,</span>
<span class="c1">#         &quot;2015-02-04:1&quot;,</span>
<span class="c1">#         1,</span>
<span class="c1">#         &quot;1422975600000000&quot;</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
</div>
<div class="section" id="load-columns">
<span id="logical-select-load-columns"></span><h4><span class="section-number">7.3.35.5.3.6. </span><code class="docutils literal notranslate"><span class="pre">load_columns</span></code><a class="headerlink" href="#load-columns" title="Permalink to this headline">¶</a></h4>
<div class="versionadded">
<p><span class="versionmodified added">New in version 8.1.1.</span></p>
</div>
<p>Specifies columns of a table that specifying <code class="docutils literal notranslate"><span class="pre">--load-table</span></code>.
Stores value of columns that specified with <a class="reference internal" href="#logical-select-load-values"><span class="std std-ref">load_values</span></a> in columns that specified with this argument.
You must specify columns that already exists.</p>
<p>This argument must use with <a class="reference internal" href="#logical-select-load-table"><span class="std std-ref">load_table</span></a> and <a class="reference internal" href="#logical-select-load-values"><span class="std std-ref">load_values</span></a>.</p>
<p>See example of <code class="docutils literal notranslate"><span class="pre">--load_table</span></code> for how to use this argument.</p>
</div>
<div class="section" id="load-values">
<span id="logical-select-load-values"></span><h4><span class="section-number">7.3.35.5.3.7. </span><code class="docutils literal notranslate"><span class="pre">load_values</span></code><a class="headerlink" href="#load-values" title="Permalink to this headline">¶</a></h4>
<div class="versionadded">
<p><span class="versionmodified added">New in version 8.1.1.</span></p>
</div>
<p>Specifies columns of result of <code class="docutils literal notranslate"><span class="pre">logical_select</span></code>.
Specifies columns for storing values into columns that specified with <a class="reference internal" href="#logical-select-load-columns"><span class="std std-ref">load_columns</span></a>.
You must specify columns that already exists.</p>
<p>This argument must use with <a class="reference internal" href="#logical-select-load-table"><span class="std std-ref">load_table</span></a> and <a class="reference internal" href="#logical-select-load-columns"><span class="std std-ref">load_columns</span></a>.</p>
<p>See example of <code class="docutils literal notranslate"><span class="pre">--load_table</span></code> for how to use this argument.</p>
</div>
</div>
<div class="section" id="advanced-search-parameters">
<span id="logical-select-advanced-search-parameters"></span><h3><span class="section-number">7.3.35.5.4. </span>Advanced search parameters<a class="headerlink" href="#advanced-search-parameters" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">logical_select</span></code> doesn’t implement advanced search parameters yet.</p>
<div class="section" id="match-escalation-threshold">
<span id="logical-select-match-escalation-threshold"></span><h4><span class="section-number">7.3.35.5.4.1. </span><code class="docutils literal notranslate"><span class="pre">match_escalation_threshold</span></code><a class="headerlink" href="#match-escalation-threshold" title="Permalink to this headline">¶</a></h4>
<p>Not implemented yet.</p>
</div>
<div class="section" id="query-flags">
<span id="logical-select-query-flags"></span><h4><span class="section-number">7.3.35.5.4.2. </span><code class="docutils literal notranslate"><span class="pre">query_flags</span></code><a class="headerlink" href="#query-flags" title="Permalink to this headline">¶</a></h4>
<p>Not implemented yet.</p>
</div>
<div class="section" id="query-expander">
<span id="logical-select-query-expander"></span><h4><span class="section-number">7.3.35.5.4.3. </span><code class="docutils literal notranslate"><span class="pre">query_expander</span></code><a class="headerlink" href="#query-expander" title="Permalink to this headline">¶</a></h4>
<p>Not implemented yet.</p>
</div>
</div>
<div class="section" id="output-related-parameters">
<h3><span class="section-number">7.3.35.5.5. </span>Output related parameters<a class="headerlink" href="#output-related-parameters" title="Permalink to this headline">¶</a></h3>
<div class="section" id="output-columns">
<span id="logical-select-output-columns"></span><h4><span class="section-number">7.3.35.5.5.1. </span><code class="docutils literal notranslate"><span class="pre">output_columns</span></code><a class="headerlink" href="#output-columns" title="Permalink to this headline">¶</a></h4>
<p>Corresponds to <a class="reference internal" href="select.html#select-output-columns"><span class="std std-ref">output_columns</span></a> in <a class="reference internal" href="select.html"><span class="doc">select</span></a>. See
<a class="reference internal" href="select.html#select-output-columns"><span class="std std-ref">output_columns</span></a> for details.</p>
<p>Here is an example:</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">logical_select</span> \
  <span class="o">--</span><span class="n">logical_table</span> <span class="n">Entries</span> \
  <span class="o">--</span><span class="n">shard_key</span> <span class="n">created_at</span> \
  <span class="o">--</span><span class="n">output_columns</span> <span class="s1">&#39;_key, *&#39;</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         5</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_key&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;content&quot;,</span>
<span class="c1">#           &quot;Text&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;created_at&quot;,</span>
<span class="c1">#           &quot;Time&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;n_likes&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;tag&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         &quot;The first post!&quot;,</span>
<span class="c1">#         &quot;Welcome! This is my first post!&quot;,</span>
<span class="c1">#         1436281200.0,</span>
<span class="c1">#         5,</span>
<span class="c1">#         &quot;Hello&quot;</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         &quot;Groonga&quot;,</span>
<span class="c1">#         &quot;I started to use Groonga. It&#39;s very fast!&quot;,</span>
<span class="c1">#         1436284800.0,</span>
<span class="c1">#         10,</span>
<span class="c1">#         &quot;Groonga&quot;</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         &quot;Mroonga&quot;,</span>
<span class="c1">#         &quot;I also started to use Mroonga. It&#39;s also very fast! Really fast!&quot;,</span>
<span class="c1">#         1436288400.0,</span>
<span class="c1">#         15,</span>
<span class="c1">#         &quot;Groonga&quot;</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         &quot;Good-bye Senna&quot;,</span>
<span class="c1">#         &quot;I migrated all Senna system!&quot;,</span>
<span class="c1">#         1436367600.0,</span>
<span class="c1">#         3,</span>
<span class="c1">#         &quot;Senna&quot;</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         &quot;Good-bye Tritonn&quot;,</span>
<span class="c1">#         &quot;I also migrated all Tritonn system!&quot;,</span>
<span class="c1">#         1436371200.0,</span>
<span class="c1">#         3,</span>
<span class="c1">#         &quot;Senna&quot;</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
</div>
<div class="section" id="sortby">
<span id="logical-select-sortby"></span><h4><span class="section-number">7.3.35.5.5.2. </span><code class="docutils literal notranslate"><span class="pre">sortby</span></code><a class="headerlink" href="#sortby" title="Permalink to this headline">¶</a></h4>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 6.1.5: </span>Use <a class="reference internal" href="#logical-select-sort-keys"><span class="std std-ref">sort_keys</span></a> instead.</p>
</div>
</div>
<div class="section" id="sort-keys">
<span id="logical-select-sort-keys"></span><h4><span class="section-number">7.3.35.5.5.3. </span><code class="docutils literal notranslate"><span class="pre">sort_keys</span></code><a class="headerlink" href="#sort-keys" title="Permalink to this headline">¶</a></h4>
<p>Corresponds to <a class="reference internal" href="select.html#select-sort-keys"><span class="std std-ref">sort_keys</span></a> in <a class="reference internal" href="select.html"><span class="doc">select</span></a>. See
<a class="reference internal" href="select.html#select-sort-keys"><span class="std std-ref">sort_keys</span></a> for details.</p>
<p><code class="docutils literal notranslate"><span class="pre">sort_keys</span></code> has a limitation. It works only when the number of
search target shards is one. If the number of search target shards is
larger than one, <code class="docutils literal notranslate"><span class="pre">sort_keys</span></code> doesn’t work.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>There is one exception for multiple shards. When the same value is
specified for <code class="docutils literal notranslate"><span class="pre">shard_key</span></code> and <code class="docutils literal notranslate"><span class="pre">sort_keys</span></code>, they are supported.
This command processes target shards one by one by ascending
order. Thus, in this process, magnitude correlation about the value
of <code class="docutils literal notranslate"><span class="pre">shard_key</span></code> is kept among them. This is because <code class="docutils literal notranslate"><span class="pre">sort_keys</span></code>
is supported when <code class="docutils literal notranslate"><span class="pre">shard_key</span></code> and <code class="docutils literal notranslate"><span class="pre">sort_keys</span></code> is same.</p>
</div>
<p>Here is an example that uses only one shard:</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">logical_select</span> \
  <span class="o">--</span><span class="n">logical_table</span> <span class="n">Entries</span> \
  <span class="o">--</span><span class="n">shard_key</span> <span class="n">created_at</span> \
  <span class="o">--</span><span class="nb">min</span> <span class="s2">&quot;2015/07/08 00:00:00&quot;</span> \
  <span class="o">--</span><span class="n">min_border</span> <span class="s2">&quot;include&quot;</span> \
  <span class="o">--</span><span class="nb">max</span> <span class="s2">&quot;2015/07/09 00:00:00&quot;</span> \
  <span class="o">--</span><span class="n">max_border</span> <span class="s2">&quot;exclude&quot;</span> \
  <span class="o">--</span><span class="n">sort_keys</span> <span class="n">_key</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         3</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_id&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_key&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;content&quot;,</span>
<span class="c1">#           &quot;Text&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;created_at&quot;,</span>
<span class="c1">#           &quot;Time&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;n_likes&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;tag&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         2,</span>
<span class="c1">#         &quot;Groonga&quot;,</span>
<span class="c1">#         &quot;I started to use Groonga. It&#39;s very fast!&quot;,</span>
<span class="c1">#         1436284800.0,</span>
<span class="c1">#         10,</span>
<span class="c1">#         &quot;Groonga&quot;</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         3,</span>
<span class="c1">#         &quot;Mroonga&quot;,</span>
<span class="c1">#         &quot;I also started to use Mroonga. It&#39;s also very fast! Really fast!&quot;,</span>
<span class="c1">#         1436288400.0,</span>
<span class="c1">#         15,</span>
<span class="c1">#         &quot;Groonga&quot;</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         1,</span>
<span class="c1">#         &quot;The first post!&quot;,</span>
<span class="c1">#         &quot;Welcome! This is my first post!&quot;,</span>
<span class="c1">#         1436281200.0,</span>
<span class="c1">#         5,</span>
<span class="c1">#         &quot;Hello&quot;</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
</div>
<div class="section" id="offset">
<span id="logical-select-offset"></span><h4><span class="section-number">7.3.35.5.5.4. </span><code class="docutils literal notranslate"><span class="pre">offset</span></code><a class="headerlink" href="#offset" title="Permalink to this headline">¶</a></h4>
<p>Corresponds to <a class="reference internal" href="select.html#select-offset"><span class="std std-ref">offset</span></a> in <a class="reference internal" href="select.html"><span class="doc">select</span></a>. See
<a class="reference internal" href="select.html#select-offset"><span class="std std-ref">offset</span></a> for details.</p>
<p>Here is an example:</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">logical_select</span> \
  <span class="o">--</span><span class="n">logical_table</span> <span class="n">Entries</span> \
  <span class="o">--</span><span class="n">shard_key</span> <span class="n">created_at</span> \
  <span class="o">--</span><span class="n">offset</span> <span class="mi">2</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         5</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_id&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_key&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;content&quot;,</span>
<span class="c1">#           &quot;Text&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;created_at&quot;,</span>
<span class="c1">#           &quot;Time&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;n_likes&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;tag&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         3,</span>
<span class="c1">#         &quot;Mroonga&quot;,</span>
<span class="c1">#         &quot;I also started to use Mroonga. It&#39;s also very fast! Really fast!&quot;,</span>
<span class="c1">#         1436288400.0,</span>
<span class="c1">#         15,</span>
<span class="c1">#         &quot;Groonga&quot;</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         1,</span>
<span class="c1">#         &quot;Good-bye Senna&quot;,</span>
<span class="c1">#         &quot;I migrated all Senna system!&quot;,</span>
<span class="c1">#         1436367600.0,</span>
<span class="c1">#         3,</span>
<span class="c1">#         &quot;Senna&quot;</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         2,</span>
<span class="c1">#         &quot;Good-bye Tritonn&quot;,</span>
<span class="c1">#         &quot;I also migrated all Tritonn system!&quot;,</span>
<span class="c1">#         1436371200.0,</span>
<span class="c1">#         3,</span>
<span class="c1">#         &quot;Senna&quot;</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
</div>
<div class="section" id="limit">
<span id="logical-select-limit"></span><h4><span class="section-number">7.3.35.5.5.5. </span><code class="docutils literal notranslate"><span class="pre">limit</span></code><a class="headerlink" href="#limit" title="Permalink to this headline">¶</a></h4>
<p>Corresponds to <a class="reference internal" href="select.html#select-limit"><span class="std std-ref">limit</span></a> in <a class="reference internal" href="select.html"><span class="doc">select</span></a>. See
<a class="reference internal" href="select.html#select-limit"><span class="std std-ref">limit</span></a> for details.</p>
<p>Here is an example:</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">logical_select</span> \
  <span class="o">--</span><span class="n">logical_table</span> <span class="n">Entries</span> \
  <span class="o">--</span><span class="n">shard_key</span> <span class="n">created_at</span> \
  <span class="o">--</span><span class="n">limit</span> <span class="mi">2</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         5</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_id&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_key&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;content&quot;,</span>
<span class="c1">#           &quot;Text&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;created_at&quot;,</span>
<span class="c1">#           &quot;Time&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;n_likes&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;tag&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         1,</span>
<span class="c1">#         &quot;The first post!&quot;,</span>
<span class="c1">#         &quot;Welcome! This is my first post!&quot;,</span>
<span class="c1">#         1436281200.0,</span>
<span class="c1">#         5,</span>
<span class="c1">#         &quot;Hello&quot;</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         2,</span>
<span class="c1">#         &quot;Groonga&quot;,</span>
<span class="c1">#         &quot;I started to use Groonga. It&#39;s very fast!&quot;,</span>
<span class="c1">#         1436284800.0,</span>
<span class="c1">#         10,</span>
<span class="c1">#         &quot;Groonga&quot;</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
</div>
<div class="section" id="scorer">
<span id="logical-select-scorer"></span><h4><span class="section-number">7.3.35.5.5.6. </span><code class="docutils literal notranslate"><span class="pre">scorer</span></code><a class="headerlink" href="#scorer" title="Permalink to this headline">¶</a></h4>
<p>Not implemented yet.</p>
</div>
</div>
<div class="section" id="dynamic-column-related-parameters">
<span id="logical-select-dynamic-column-related-parameters"></span><h3><span class="section-number">7.3.35.5.6. </span>Dynamic column related parameters<a class="headerlink" href="#dynamic-column-related-parameters" title="Permalink to this headline">¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified added">New in version 7.0.1.</span></p>
</div>
<p>All dynamic column related parameters in <a class="reference internal" href="select.html"><span class="doc">select</span></a> are
supported. See <a class="reference internal" href="select.html#select-dynamic-column-related-parameters"><span class="std std-ref">Dynamic column related parameters</span></a> for
details.</p>
<div class="section" id="columns-name-stage">
<span id="logical-select-columns-name-stage"></span><h4><span class="section-number">7.3.35.5.6.1. </span><code class="docutils literal notranslate"><span class="pre">columns[${NAME}].stage</span></code><a class="headerlink" href="#columns-name-stage" title="Permalink to this headline">¶</a></h4>
<div class="versionadded">
<p><span class="versionmodified added">New in version 7.0.1.</span></p>
</div>
<p>Corresponds to <a class="reference internal" href="select.html#select-columns-name-stage"><span class="std std-ref">columns[${NAME}].stage</span></a> in <a class="reference internal" href="select.html"><span class="doc">select</span></a>. See
<a class="reference internal" href="select.html#select-columns-name-stage"><span class="std std-ref">columns[${NAME}].stage</span></a> for details.</p>
<p>This is a required parameter.</p>
<p>Here is an example that creates <code class="docutils literal notranslate"><span class="pre">is_popular</span></code> column at <code class="docutils literal notranslate"><span class="pre">initial</span></code>
stage. You can use <code class="docutils literal notranslate"><span class="pre">is_popular</span></code> in all parameters such as <code class="docutils literal notranslate"><span class="pre">filter</span></code>
and <code class="docutils literal notranslate"><span class="pre">output_columns</span></code>:</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">logical_select</span> \
  <span class="o">--</span><span class="n">logical_table</span> <span class="n">Entries</span> \
  <span class="o">--</span><span class="n">shard_key</span> <span class="n">created_at</span> \
  <span class="o">--</span><span class="n">columns</span><span class="p">[</span><span class="n">is_popular</span><span class="p">]</span><span class="o">.</span><span class="n">stage</span> <span class="n">initial</span> \
  <span class="o">--</span><span class="n">columns</span><span class="p">[</span><span class="n">is_popular</span><span class="p">]</span><span class="o">.</span><span class="n">type</span> <span class="n">Bool</span> \
  <span class="o">--</span><span class="n">columns</span><span class="p">[</span><span class="n">is_popular</span><span class="p">]</span><span class="o">.</span><span class="n">value</span> <span class="s1">&#39;n_likes &gt;= 10&#39;</span> \
  <span class="o">--</span><span class="nb">filter</span> <span class="n">is_popular</span> \
  <span class="o">--</span><span class="n">output_columns</span> <span class="n">_id</span><span class="p">,</span><span class="n">is_popular</span><span class="p">,</span><span class="n">n_likes</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         2</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_id&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;is_popular&quot;,</span>
<span class="c1">#           &quot;Bool&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;n_likes&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         2,</span>
<span class="c1">#         true,</span>
<span class="c1">#         10</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         3,</span>
<span class="c1">#         true,</span>
<span class="c1">#         15</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
</div>
<div class="section" id="columns-name-flags">
<span id="logical-select-columns-name-flags"></span><h4><span class="section-number">7.3.35.5.6.2. </span><code class="docutils literal notranslate"><span class="pre">columns[${NAME}].flags</span></code><a class="headerlink" href="#columns-name-flags" title="Permalink to this headline">¶</a></h4>
<div class="versionadded">
<p><span class="versionmodified added">New in version 7.0.1.</span></p>
</div>
<p>Corresponds to <a class="reference internal" href="select.html#select-columns-name-flags"><span class="std std-ref">columns[${NAME}].flags</span></a> in <a class="reference internal" href="select.html"><span class="doc">select</span></a>. See
<a class="reference internal" href="select.html#select-columns-name-flags"><span class="std std-ref">columns[${NAME}].flags</span></a> for details.</p>
<p>The default value is <code class="docutils literal notranslate"><span class="pre">COLUMN_SCALAR</span></code>.</p>
<p>Here is an example that creates a vector column by <code class="docutils literal notranslate"><span class="pre">COLUMN_VECTOR</span></code>
flags. <code class="docutils literal notranslate"><span class="pre">plugin_register</span> <span class="pre">functions/vector</span></code> is for using
<a class="reference internal" href="../functions/vector_new.html"><span class="doc">vector_new</span></a> function:</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">plugin_register</span> <span class="n">functions</span><span class="o">/</span><span class="n">vector</span>
<span class="c1"># [[0, 1337566253.89858, 0.000355720520019531], true]</span>
<span class="n">logical_select</span> \
  <span class="o">--</span><span class="n">logical_table</span> <span class="n">Entries</span> \
  <span class="o">--</span><span class="n">shard_key</span> <span class="n">created_at</span> \
  <span class="o">--</span><span class="n">columns</span><span class="p">[</span><span class="n">vector</span><span class="p">]</span><span class="o">.</span><span class="n">stage</span> <span class="n">initial</span> \
  <span class="o">--</span><span class="n">columns</span><span class="p">[</span><span class="n">vector</span><span class="p">]</span><span class="o">.</span><span class="n">flags</span> <span class="n">COLUMN_VECTOR</span> \
  <span class="o">--</span><span class="n">columns</span><span class="p">[</span><span class="n">vector</span><span class="p">]</span><span class="o">.</span><span class="n">type</span> <span class="n">UInt32</span> \
  <span class="o">--</span><span class="n">columns</span><span class="p">[</span><span class="n">vector</span><span class="p">]</span><span class="o">.</span><span class="n">value</span> <span class="s1">&#39;vector_new(1, 2, 3)&#39;</span> \
  <span class="o">--</span><span class="n">output_columns</span> <span class="n">_id</span><span class="p">,</span><span class="n">vector</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         5</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_id&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;vector&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         1,</span>
<span class="c1">#         [</span>
<span class="c1">#           1,</span>
<span class="c1">#           2,</span>
<span class="c1">#           3</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         2,</span>
<span class="c1">#         [</span>
<span class="c1">#           1,</span>
<span class="c1">#           2,</span>
<span class="c1">#           3</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         3,</span>
<span class="c1">#         [</span>
<span class="c1">#           1,</span>
<span class="c1">#           2,</span>
<span class="c1">#           3</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         1,</span>
<span class="c1">#         [</span>
<span class="c1">#           1,</span>
<span class="c1">#           2,</span>
<span class="c1">#           3</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         2,</span>
<span class="c1">#         [</span>
<span class="c1">#           1,</span>
<span class="c1">#           2,</span>
<span class="c1">#           3</span>
<span class="c1">#         ]</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
</div>
<div class="section" id="columns-name-type">
<span id="logical-select-columns-name-type"></span><h4><span class="section-number">7.3.35.5.6.3. </span><code class="docutils literal notranslate"><span class="pre">columns[${NAME}].type</span></code><a class="headerlink" href="#columns-name-type" title="Permalink to this headline">¶</a></h4>
<div class="versionadded">
<p><span class="versionmodified added">New in version 7.0.1.</span></p>
</div>
<p>Corresponds to <a class="reference internal" href="select.html#select-columns-name-type"><span class="std std-ref">columns[${NAME}].type</span></a> in <a class="reference internal" href="select.html"><span class="doc">select</span></a>. See
<a class="reference internal" href="select.html#select-columns-name-type"><span class="std std-ref">columns[${NAME}].type</span></a> for details.</p>
<p>This is a required parameter.</p>
<p>Here is an example that creates a <code class="docutils literal notranslate"><span class="pre">ShortText</span></code> type column. Stored
value is casted to <code class="docutils literal notranslate"><span class="pre">ShortText</span></code> automatically. In this example,
number is casted to <code class="docutils literal notranslate"><span class="pre">ShortText</span></code>:</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">logical_select</span> \
  <span class="o">--</span><span class="n">logical_table</span> <span class="n">Entries</span> \
  <span class="o">--</span><span class="n">shard_key</span> <span class="n">created_at</span> \
  <span class="o">--</span><span class="n">columns</span><span class="p">[</span><span class="n">n_likes_string</span><span class="p">]</span><span class="o">.</span><span class="n">stage</span> <span class="n">initial</span> \
  <span class="o">--</span><span class="n">columns</span><span class="p">[</span><span class="n">n_likes_string</span><span class="p">]</span><span class="o">.</span><span class="n">type</span> <span class="n">ShortText</span> \
  <span class="o">--</span><span class="n">columns</span><span class="p">[</span><span class="n">n_likes_string</span><span class="p">]</span><span class="o">.</span><span class="n">value</span> <span class="n">n_likes</span> \
  <span class="o">--</span><span class="n">output_columns</span> <span class="n">_id</span><span class="p">,</span><span class="n">n_likes</span><span class="p">,</span><span class="n">n_likes_string</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         5</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_id&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;n_likes&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;n_likes_string&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         1,</span>
<span class="c1">#         5,</span>
<span class="c1">#         &quot;5&quot;</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         2,</span>
<span class="c1">#         10,</span>
<span class="c1">#         &quot;10&quot;</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         3,</span>
<span class="c1">#         15,</span>
<span class="c1">#         &quot;15&quot;</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         1,</span>
<span class="c1">#         3,</span>
<span class="c1">#         &quot;3&quot;</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         2,</span>
<span class="c1">#         3,</span>
<span class="c1">#         &quot;3&quot;</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
</div>
<div class="section" id="columns-name-value">
<span id="logical-select-columns-name-value"></span><h4><span class="section-number">7.3.35.5.6.4. </span><code class="docutils literal notranslate"><span class="pre">columns[${NAME}].value</span></code><a class="headerlink" href="#columns-name-value" title="Permalink to this headline">¶</a></h4>
<div class="versionadded">
<p><span class="versionmodified added">New in version 7.0.1.</span></p>
</div>
<p>Corresponds to <a class="reference internal" href="select.html#select-columns-name-value"><span class="std std-ref">columns[${NAME}].value</span></a> in <a class="reference internal" href="select.html"><span class="doc">select</span></a>. See
<a class="reference internal" href="select.html#select-columns-name-value"><span class="std std-ref">columns[${NAME}].value</span></a> for details.</p>
<p>You need to specify <a class="reference internal" href="../window_function.html"><span class="doc">Window function</span></a> as <code class="docutils literal notranslate"><span class="pre">value</span></code>
value and other window function related parameters when you use window
function. See <a class="reference internal" href="#logical-select-window-function-related-parameters"><span class="std std-ref">Window function related parameters</span></a>
for details.</p>
<p>This is a required parameter.</p>
<p>Here is an example that creates a new dynamic column that stores the
number of characters of content. This example uses
<a class="reference internal" href="../functions/string_length.html"><span class="doc">string_length</span></a> function in
<code class="docutils literal notranslate"><span class="pre">functions/string</span></code> plugin to compute the number of characters in a
string. <a class="reference internal" href="plugin_register.html"><span class="doc">plugin_register</span></a> is used to register
<code class="docutils literal notranslate"><span class="pre">functions/string</span></code> plugin:</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">plugin_register</span> <span class="n">functions</span><span class="o">/</span><span class="n">string</span>
<span class="c1"># [[0, 1337566253.89858, 0.000355720520019531], true]</span>
<span class="n">logical_select</span> \
  <span class="o">--</span><span class="n">logical_table</span> <span class="n">Entries</span> \
  <span class="o">--</span><span class="n">shard_key</span> <span class="n">created_at</span> \
  <span class="o">--</span><span class="n">columns</span><span class="p">[</span><span class="n">content_length</span><span class="p">]</span><span class="o">.</span><span class="n">stage</span> <span class="n">initial</span> \
  <span class="o">--</span><span class="n">columns</span><span class="p">[</span><span class="n">content_length</span><span class="p">]</span><span class="o">.</span><span class="n">type</span> <span class="n">UInt32</span> \
  <span class="o">--</span><span class="n">columns</span><span class="p">[</span><span class="n">content_length</span><span class="p">]</span><span class="o">.</span><span class="n">value</span> <span class="s1">&#39;string_length(content)&#39;</span> \
  <span class="o">--</span><span class="n">output_columns</span> <span class="n">_id</span><span class="p">,</span><span class="n">content</span><span class="p">,</span><span class="n">content_length</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         5</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_id&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;content&quot;,</span>
<span class="c1">#           &quot;Text&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;content_length&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         1,</span>
<span class="c1">#         &quot;Welcome! This is my first post!&quot;,</span>
<span class="c1">#         31</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         2,</span>
<span class="c1">#         &quot;I started to use Groonga. It&#39;s very fast!&quot;,</span>
<span class="c1">#         41</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         3,</span>
<span class="c1">#         &quot;I also started to use Mroonga. It&#39;s also very fast! Really fast!&quot;,</span>
<span class="c1">#         64</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         1,</span>
<span class="c1">#         &quot;I migrated all Senna system!&quot;,</span>
<span class="c1">#         28</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         2,</span>
<span class="c1">#         &quot;I also migrated all Tritonn system!&quot;,</span>
<span class="c1">#         35</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="window-function-related-parameters">
<span id="logical-select-window-function-related-parameters"></span><h3><span class="section-number">7.3.35.5.7. </span>Window function related parameters<a class="headerlink" href="#window-function-related-parameters" title="Permalink to this headline">¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified added">New in version 7.0.1.</span></p>
</div>
<p>All window function related parameters in <a class="reference internal" href="select.html"><span class="doc">select</span></a> are
supported. See <a class="reference internal" href="select.html#select-window-function-related-parameters"><span class="std std-ref">Window function related parameters</span></a> for
details.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Window function over multiple tables aren’t supported version 9.0.1 or before.
Groonga supported it since version 9.0.2 or later.
However, we need to align the same order for shard key and leading group key or sort key.</p>
<p>For example, we can apply the window function to over multiple tables as below case.
Because the below example aligns the same order for shard key and leading group key.</p>
<p>The leading group key is <code class="docutils literal notranslate"><span class="pre">price</span></code> and shard key is <code class="docutils literal notranslate"><span class="pre">timestamp</span></code> in the below example.
We can apply the window function to over multiple tables in the below example.
Because <code class="docutils literal notranslate"><span class="pre">price</span></code> and <code class="docutils literal notranslate"><span class="pre">timestamp</span></code> aligns the same order.</p>
</div>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">plugin_register</span> <span class="n">sharding</span>

<span class="n">table_create</span> <span class="n">Logs_20170415</span> <span class="n">TABLE_NO_KEY</span>
<span class="n">column_create</span> <span class="n">Logs_20170415</span> <span class="n">timestamp</span> <span class="n">COLUMN_SCALAR</span> <span class="n">Time</span>
<span class="n">column_create</span> <span class="n">Logs_20170415</span> <span class="n">price</span> <span class="n">COLUMN_SCALAR</span> <span class="n">UInt32</span>
<span class="n">column_create</span> <span class="n">Logs_20170415</span> <span class="n">n_likes</span> <span class="n">COLUMN_SCALAR</span> <span class="n">UInt32</span>

<span class="n">table_create</span> <span class="n">Logs_20170416</span> <span class="n">TABLE_NO_KEY</span>
<span class="n">column_create</span> <span class="n">Logs_20170416</span> <span class="n">timestamp</span> <span class="n">COLUMN_SCALAR</span> <span class="n">Time</span>
<span class="n">column_create</span> <span class="n">Logs_20170416</span> <span class="n">price</span> <span class="n">COLUMN_SCALAR</span> <span class="n">UInt32</span>
<span class="n">column_create</span> <span class="n">Logs_20170416</span> <span class="n">n_likes</span> <span class="n">COLUMN_SCALAR</span> <span class="n">UInt32</span>

<span class="n">load</span> <span class="o">--</span><span class="n">table</span> <span class="n">Logs_20170415</span>
<span class="p">[</span>
<span class="p">{</span><span class="s2">&quot;timestamp&quot;</span><span class="p">:</span> <span class="s2">&quot;2017/04/15 00:00:00&quot;</span><span class="p">,</span> <span class="s2">&quot;n_likes&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s2">&quot;price&quot;</span><span class="p">:</span> <span class="mi">100</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;timestamp&quot;</span><span class="p">:</span> <span class="s2">&quot;2017/04/15 01:00:00&quot;</span><span class="p">,</span> <span class="s2">&quot;n_likes&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;price&quot;</span><span class="p">:</span> <span class="mi">100</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;timestamp&quot;</span><span class="p">:</span> <span class="s2">&quot;2017/04/15 01:00:00&quot;</span><span class="p">,</span> <span class="s2">&quot;n_likes&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s2">&quot;price&quot;</span><span class="p">:</span> <span class="mi">200</span><span class="p">}</span>
<span class="p">]</span>

<span class="n">load</span> <span class="o">--</span><span class="n">table</span> <span class="n">Logs_20170416</span>
<span class="p">[</span>
<span class="p">{</span><span class="s2">&quot;timestamp&quot;</span><span class="p">:</span> <span class="s2">&quot;2017/04/16 10:00:00&quot;</span><span class="p">,</span> <span class="s2">&quot;n_likes&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;price&quot;</span><span class="p">:</span> <span class="mi">200</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;timestamp&quot;</span><span class="p">:</span> <span class="s2">&quot;2017/04/16 11:00:00&quot;</span><span class="p">,</span> <span class="s2">&quot;n_likes&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s2">&quot;price&quot;</span><span class="p">:</span> <span class="mi">300</span><span class="p">},</span>
<span class="p">{</span><span class="s2">&quot;timestamp&quot;</span><span class="p">:</span> <span class="s2">&quot;2017/04/16 11:00:00&quot;</span><span class="p">,</span> <span class="s2">&quot;n_likes&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;price&quot;</span><span class="p">:</span> <span class="mi">300</span><span class="p">}</span>
<span class="p">]</span>

<span class="n">logical_select</span> <span class="n">Logs</span> \
  <span class="o">--</span><span class="n">shard_key</span> <span class="n">timestamp</span> \
  <span class="o">--</span><span class="n">columns</span><span class="p">[</span><span class="n">count</span><span class="p">]</span><span class="o">.</span><span class="n">stage</span> <span class="n">initial</span> \
  <span class="o">--</span><span class="n">columns</span><span class="p">[</span><span class="n">count</span><span class="p">]</span><span class="o">.</span><span class="n">type</span> <span class="n">UInt32</span> \
  <span class="o">--</span><span class="n">columns</span><span class="p">[</span><span class="n">count</span><span class="p">]</span><span class="o">.</span><span class="n">flags</span> <span class="n">COLUMN_SCALAR</span> \
  <span class="o">--</span><span class="n">columns</span><span class="p">[</span><span class="n">count</span><span class="p">]</span><span class="o">.</span><span class="n">value</span> <span class="s1">&#39;window_count()&#39;</span> \
  <span class="o">--</span><span class="n">columns</span><span class="p">[</span><span class="n">count</span><span class="p">]</span><span class="o">.</span><span class="n">window</span><span class="o">.</span><span class="n">group_keys</span> <span class="n">price</span> \
  <span class="o">--</span><span class="n">output_columns</span> <span class="n">price</span><span class="p">,</span><span class="n">count</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     0.0,</span>
<span class="c1">#     0.0</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         6</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;price&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;count&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         100,</span>
<span class="c1">#         2</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         100,</span>
<span class="c1">#         2</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         200,</span>
<span class="c1">#         2</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         200,</span>
<span class="c1">#         2</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         300,</span>
<span class="c1">#         2</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         300,</span>
<span class="c1">#         2</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
<div class="section" id="columns-name-window-sort-keys">
<span id="logical-select-columns-name-window-sort-keys"></span><h4><span class="section-number">7.3.35.5.7.1. </span><code class="docutils literal notranslate"><span class="pre">columns[${NAME}].window.sort_keys</span></code><a class="headerlink" href="#columns-name-window-sort-keys" title="Permalink to this headline">¶</a></h4>
<div class="versionadded">
<p><span class="versionmodified added">New in version 7.0.1.</span></p>
</div>
<p>Corresponds to <a class="reference internal" href="select.html#select-columns-name-window-sort-keys"><span class="std std-ref">columns[${NAME}].window.sort_keys</span></a> in
<a class="reference internal" href="select.html"><span class="doc">select</span></a>. See <a class="reference internal" href="select.html#select-columns-name-window-sort-keys"><span class="std std-ref">columns[${NAME}].window.sort_keys</span></a> for
details.</p>
<p>You must specify <a class="reference internal" href="#logical-select-columns-name-window-sort-keys"><span class="std std-ref">columns[${NAME}].window.sort_keys</span></a>
or <a class="reference internal" href="#logical-select-columns-name-window-group-keys"><span class="std std-ref">columns[${NAME}].window.group_keys</span></a> to use window
function.</p>
<p>Here is an example that computes cumulative sum per
<code class="docutils literal notranslate"><span class="pre">Entries.tag</span></code>. Each group is sorted by <code class="docutils literal notranslate"><span class="pre">Entries._key</span></code>:</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">logical_select</span> \
  <span class="o">--</span><span class="n">logical_table</span> <span class="n">Entries</span> \
  <span class="o">--</span><span class="n">shard_key</span> <span class="n">created_at</span> \
  <span class="o">--</span><span class="n">columns</span><span class="p">[</span><span class="n">n_likes_cumulative_sum_per_tag</span><span class="p">]</span><span class="o">.</span><span class="n">stage</span> <span class="n">initial</span> \
  <span class="o">--</span><span class="n">columns</span><span class="p">[</span><span class="n">n_likes_cumulative_sum_per_tag</span><span class="p">]</span><span class="o">.</span><span class="n">type</span> <span class="n">UInt32</span> \
  <span class="o">--</span><span class="n">columns</span><span class="p">[</span><span class="n">n_likes_cumulative_sum_per_tag</span><span class="p">]</span><span class="o">.</span><span class="n">value</span> <span class="s1">&#39;window_sum(n_likes)&#39;</span> \
  <span class="o">--</span><span class="n">columns</span><span class="p">[</span><span class="n">n_likes_cumulative_sum_per_tag</span><span class="p">]</span><span class="o">.</span><span class="n">window</span><span class="o">.</span><span class="n">sort_keys</span> <span class="n">_key</span> \
  <span class="o">--</span><span class="n">columns</span><span class="p">[</span><span class="n">n_likes_cumulative_sum_per_tag</span><span class="p">]</span><span class="o">.</span><span class="n">window</span><span class="o">.</span><span class="n">group_keys</span> <span class="n">tag</span> \
  <span class="o">--</span><span class="n">sort_keys</span> <span class="n">_key</span> \
  <span class="o">--</span><span class="n">output_columns</span> <span class="n">tag</span><span class="p">,</span><span class="n">_key</span><span class="p">,</span><span class="n">n_likes</span><span class="p">,</span><span class="n">n_likes_cumulative_sum_per_tag</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         5</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;tag&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_key&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;n_likes&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;n_likes_cumulative_sum_per_tag&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         &quot;Groonga&quot;,</span>
<span class="c1">#         &quot;Groonga&quot;,</span>
<span class="c1">#         10,</span>
<span class="c1">#         10</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         &quot;Groonga&quot;,</span>
<span class="c1">#         &quot;Mroonga&quot;,</span>
<span class="c1">#         15,</span>
<span class="c1">#         25</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         &quot;Hello&quot;,</span>
<span class="c1">#         &quot;The first post!&quot;,</span>
<span class="c1">#         5,</span>
<span class="c1">#         5</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         &quot;Senna&quot;,</span>
<span class="c1">#         &quot;Good-bye Senna&quot;,</span>
<span class="c1">#         3,</span>
<span class="c1">#         3</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         &quot;Senna&quot;,</span>
<span class="c1">#         &quot;Good-bye Tritonn&quot;,</span>
<span class="c1">#         3,</span>
<span class="c1">#         6</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
</div>
<div class="section" id="columns-name-window-group-keys">
<span id="logical-select-columns-name-window-group-keys"></span><h4><span class="section-number">7.3.35.5.7.2. </span><code class="docutils literal notranslate"><span class="pre">columns[${NAME}].window.group_keys</span></code><a class="headerlink" href="#columns-name-window-group-keys" title="Permalink to this headline">¶</a></h4>
<div class="versionadded">
<p><span class="versionmodified added">New in version 7.0.1.</span></p>
</div>
<p>Corresponds to <a class="reference internal" href="select.html#select-columns-name-window-group-keys"><span class="std std-ref">columns[${NAME}].window.group_keys</span></a> in
<a class="reference internal" href="select.html"><span class="doc">select</span></a>. See <a class="reference internal" href="select.html#select-columns-name-window-group-keys"><span class="std std-ref">columns[${NAME}].window.group_keys</span></a> for
details.</p>
<p>You must specify <a class="reference internal" href="#logical-select-columns-name-window-sort-keys"><span class="std std-ref">columns[${NAME}].window.sort_keys</span></a>
or <a class="reference internal" href="#logical-select-columns-name-window-group-keys"><span class="std std-ref">columns[${NAME}].window.group_keys</span></a> to use window
function.</p>
<p>Here is an example that computes sum per <code class="docutils literal notranslate"><span class="pre">Entries.tag</span></code>:</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">logical_select</span> \
  <span class="o">--</span><span class="n">logical_table</span> <span class="n">Entries</span> \
  <span class="o">--</span><span class="n">shard_key</span> <span class="n">created_at</span> \
  <span class="o">--</span><span class="n">columns</span><span class="p">[</span><span class="n">n_likes_sum_per_tag</span><span class="p">]</span><span class="o">.</span><span class="n">stage</span> <span class="n">initial</span> \
  <span class="o">--</span><span class="n">columns</span><span class="p">[</span><span class="n">n_likes_sum_per_tag</span><span class="p">]</span><span class="o">.</span><span class="n">type</span> <span class="n">UInt32</span> \
  <span class="o">--</span><span class="n">columns</span><span class="p">[</span><span class="n">n_likes_sum_per_tag</span><span class="p">]</span><span class="o">.</span><span class="n">value</span> <span class="s1">&#39;window_sum(n_likes)&#39;</span> \
  <span class="o">--</span><span class="n">columns</span><span class="p">[</span><span class="n">n_likes_sum_per_tag</span><span class="p">]</span><span class="o">.</span><span class="n">window</span><span class="o">.</span><span class="n">group_keys</span> <span class="n">tag</span> \
  <span class="o">--</span><span class="n">sort_keys</span> <span class="n">_key</span> \
  <span class="o">--</span><span class="n">output_columns</span> <span class="n">tag</span><span class="p">,</span><span class="n">_key</span><span class="p">,</span><span class="n">n_likes</span><span class="p">,</span><span class="n">n_likes_sum_per_tag</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         5</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;tag&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_key&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;n_likes&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;n_likes_sum_per_tag&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         &quot;Groonga&quot;,</span>
<span class="c1">#         &quot;Groonga&quot;,</span>
<span class="c1">#         10,</span>
<span class="c1">#         25</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         &quot;Groonga&quot;,</span>
<span class="c1">#         &quot;Mroonga&quot;,</span>
<span class="c1">#         15,</span>
<span class="c1">#         25</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         &quot;Hello&quot;,</span>
<span class="c1">#         &quot;The first post!&quot;,</span>
<span class="c1">#         5,</span>
<span class="c1">#         5</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         &quot;Senna&quot;,</span>
<span class="c1">#         &quot;Good-bye Senna&quot;,</span>
<span class="c1">#         3,</span>
<span class="c1">#         6</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         &quot;Senna&quot;,</span>
<span class="c1">#         &quot;Good-bye Tritonn&quot;,</span>
<span class="c1">#         3,</span>
<span class="c1">#         6</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="drilldown-related-parameters">
<span id="logical-select-drilldown-related-parameters"></span><h3><span class="section-number">7.3.35.5.8. </span>Drilldown related parameters<a class="headerlink" href="#drilldown-related-parameters" title="Permalink to this headline">¶</a></h3>
<p>All drilldown related parameters in <a class="reference internal" href="select.html"><span class="doc">select</span></a> are supported. See
<a class="reference internal" href="select.html#select-drilldown-related-parameters"><span class="std std-ref">Drilldown related parameters</span></a> for details.</p>
<div class="section" id="drilldown">
<span id="logical-select-drilldown"></span><h4><span class="section-number">7.3.35.5.8.1. </span><code class="docutils literal notranslate"><span class="pre">drilldown</span></code><a class="headerlink" href="#drilldown" title="Permalink to this headline">¶</a></h4>
<p>Corresponds to <a class="reference internal" href="select.html#select-drilldown"><span class="std std-ref">drilldown</span></a> in <a class="reference internal" href="select.html"><span class="doc">select</span></a>. See
<a class="reference internal" href="select.html#select-drilldown"><span class="std std-ref">drilldown</span></a> for details.</p>
<p>Here is an example:</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">logical_select</span> \
  <span class="o">--</span><span class="n">logical_table</span> <span class="n">Entries</span> \
  <span class="o">--</span><span class="n">shard_key</span> <span class="n">created_at</span> \
  <span class="o">--</span><span class="n">output_columns</span> <span class="n">_key</span><span class="p">,</span><span class="n">tag</span> \
  <span class="o">--</span><span class="n">drilldown</span> <span class="n">tag</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         5</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_key&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;tag&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         &quot;The first post!&quot;,</span>
<span class="c1">#         &quot;Hello&quot;</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         &quot;Groonga&quot;,</span>
<span class="c1">#         &quot;Groonga&quot;</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         &quot;Mroonga&quot;,</span>
<span class="c1">#         &quot;Groonga&quot;</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         &quot;Good-bye Senna&quot;,</span>
<span class="c1">#         &quot;Senna&quot;</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         &quot;Good-bye Tritonn&quot;,</span>
<span class="c1">#         &quot;Senna&quot;</span>
<span class="c1">#       ]</span>
<span class="c1">#     ],</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         3</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_key&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_nsubrecs&quot;,</span>
<span class="c1">#           &quot;Int32&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         &quot;Hello&quot;,</span>
<span class="c1">#         1</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         &quot;Groonga&quot;,</span>
<span class="c1">#         2</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         &quot;Senna&quot;,</span>
<span class="c1">#         2</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
</div>
<div class="section" id="drilldown-sortby">
<span id="logical-select-drilldown-sortby"></span><h4><span class="section-number">7.3.35.5.8.2. </span><code class="docutils literal notranslate"><span class="pre">drilldown_sortby</span></code><a class="headerlink" href="#drilldown-sortby" title="Permalink to this headline">¶</a></h4>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 6.1.5: </span>Use <a class="reference internal" href="#logical-select-drilldown-sort-keys"><span class="std std-ref">drilldown_sort_keys</span></a> instead.</p>
</div>
</div>
<div class="section" id="drilldown-sort-keys">
<span id="logical-select-drilldown-sort-keys"></span><h4><span class="section-number">7.3.35.5.8.3. </span><code class="docutils literal notranslate"><span class="pre">drilldown_sort_keys</span></code><a class="headerlink" href="#drilldown-sort-keys" title="Permalink to this headline">¶</a></h4>
<p>Corresponds to <a class="reference internal" href="select.html#select-drilldown-sort-keys"><span class="std std-ref">drilldown_sort_keys</span></a> in <a class="reference internal" href="select.html"><span class="doc">select</span></a>. See
<a class="reference internal" href="select.html#select-drilldown-sort-keys"><span class="std std-ref">drilldown_sort_keys</span></a> for details.</p>
<p>Here is an example:</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">logical_select</span> \
  <span class="o">--</span><span class="n">logical_table</span> <span class="n">Entries</span> \
  <span class="o">--</span><span class="n">shard_key</span> <span class="n">created_at</span> \
  <span class="o">--</span><span class="n">limit</span> <span class="mi">0</span> \
  <span class="o">--</span><span class="n">output_columns</span> <span class="n">_id</span> \
  <span class="o">--</span><span class="n">drilldown</span> <span class="n">tag</span> \
  <span class="o">--</span><span class="n">drilldown_sort_keys</span> <span class="o">-</span><span class="n">_nsubrecs</span><span class="p">,</span><span class="n">_key</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         5</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_id&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ]</span>
<span class="c1">#     ],</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         3</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_key&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_nsubrecs&quot;,</span>
<span class="c1">#           &quot;Int32&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         &quot;Groonga&quot;,</span>
<span class="c1">#         2</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         &quot;Senna&quot;,</span>
<span class="c1">#         2</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         &quot;Hello&quot;,</span>
<span class="c1">#         1</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
</div>
<div class="section" id="drilldown-output-columns">
<span id="logical-select-drilldown-output-columns"></span><h4><span class="section-number">7.3.35.5.8.4. </span><code class="docutils literal notranslate"><span class="pre">drilldown_output_columns</span></code><a class="headerlink" href="#drilldown-output-columns" title="Permalink to this headline">¶</a></h4>
<p>Corresponds to <a class="reference internal" href="select.html#select-drilldown-output-columns"><span class="std std-ref">drilldown_output_columns</span></a> in
<a class="reference internal" href="select.html"><span class="doc">select</span></a>. See <a class="reference internal" href="select.html#select-drilldown-output-columns"><span class="std std-ref">drilldown_output_columns</span></a> for details.</p>
<p>Here is an example:</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">logical_select</span> \
  <span class="o">--</span><span class="n">logical_table</span> <span class="n">Entries</span> \
  <span class="o">--</span><span class="n">shard_key</span> <span class="n">created_at</span> \
  <span class="o">--</span><span class="n">limit</span> <span class="mi">0</span> \
  <span class="o">--</span><span class="n">output_columns</span> <span class="n">_id</span> \
  <span class="o">--</span><span class="n">drilldown</span> <span class="n">tag</span> \
  <span class="o">--</span><span class="n">drilldown_output_columns</span> <span class="n">_key</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         5</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_id&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ]</span>
<span class="c1">#     ],</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         3</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_key&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         &quot;Hello&quot;</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         &quot;Groonga&quot;</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         &quot;Senna&quot;</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
</div>
<div class="section" id="drilldown-offset">
<span id="logical-select-drilldown-offset"></span><h4><span class="section-number">7.3.35.5.8.5. </span><code class="docutils literal notranslate"><span class="pre">drilldown_offset</span></code><a class="headerlink" href="#drilldown-offset" title="Permalink to this headline">¶</a></h4>
<p>Corresponds to <a class="reference internal" href="select.html#select-drilldown-offset"><span class="std std-ref">drilldown_offset</span></a> in <a class="reference internal" href="select.html"><span class="doc">select</span></a>. See
<a class="reference internal" href="select.html#select-drilldown-offset"><span class="std std-ref">drilldown_offset</span></a> for details.</p>
<p>Here is an example:</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">logical_select</span> \
  <span class="o">--</span><span class="n">logical_table</span> <span class="n">Entries</span> \
  <span class="o">--</span><span class="n">shard_key</span> <span class="n">created_at</span> \
  <span class="o">--</span><span class="n">limit</span> <span class="mi">0</span> \
  <span class="o">--</span><span class="n">output_columns</span> <span class="n">_id</span> \
  <span class="o">--</span><span class="n">drilldown</span> <span class="n">tag</span> \
  <span class="o">--</span><span class="n">drilldown_offset</span> <span class="mi">1</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         5</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_id&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ]</span>
<span class="c1">#     ],</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         3</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_key&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_nsubrecs&quot;,</span>
<span class="c1">#           &quot;Int32&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         &quot;Groonga&quot;,</span>
<span class="c1">#         2</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         &quot;Senna&quot;,</span>
<span class="c1">#         2</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
</div>
<div class="section" id="drilldown-limit">
<span id="logical-select-drilldown-limit"></span><h4><span class="section-number">7.3.35.5.8.6. </span><code class="docutils literal notranslate"><span class="pre">drilldown_limit</span></code><a class="headerlink" href="#drilldown-limit" title="Permalink to this headline">¶</a></h4>
<p>Corresponds to <a class="reference internal" href="select.html#select-drilldown-limit"><span class="std std-ref">drilldown_limit</span></a> in <a class="reference internal" href="select.html"><span class="doc">select</span></a>. See
<a class="reference internal" href="select.html#select-drilldown-limit"><span class="std std-ref">drilldown_limit</span></a> for details.</p>
<p>Here is an example:</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">logical_select</span> \
  <span class="o">--</span><span class="n">logical_table</span> <span class="n">Entries</span> \
  <span class="o">--</span><span class="n">shard_key</span> <span class="n">created_at</span> \
  <span class="o">--</span><span class="n">limit</span> <span class="mi">0</span> \
  <span class="o">--</span><span class="n">output_columns</span> <span class="n">_id</span> \
  <span class="o">--</span><span class="n">drilldown</span> <span class="n">tag</span> \
  <span class="o">--</span><span class="n">drilldown_limit</span> <span class="mi">2</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         5</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_id&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ]</span>
<span class="c1">#     ],</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         3</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_key&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_nsubrecs&quot;,</span>
<span class="c1">#           &quot;Int32&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         &quot;Hello&quot;,</span>
<span class="c1">#         1</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         &quot;Groonga&quot;,</span>
<span class="c1">#         2</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
</div>
<div class="section" id="drilldown-calc-types">
<span id="logical-select-drilldown-calc-types"></span><h4><span class="section-number">7.3.35.5.8.7. </span><code class="docutils literal notranslate"><span class="pre">drilldown_calc_types</span></code><a class="headerlink" href="#drilldown-calc-types" title="Permalink to this headline">¶</a></h4>
<p>Corresponds to <a class="reference internal" href="select.html#select-drilldown-calc-types"><span class="std std-ref">drilldown_calc_types</span></a> in
<a class="reference internal" href="select.html"><span class="doc">select</span></a>. See <a class="reference internal" href="select.html#select-drilldown-calc-types"><span class="std std-ref">drilldown_calc_types</span></a> for details.</p>
<p>Here is an example:</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">logical_select</span> \
  <span class="o">--</span><span class="n">logical_table</span> <span class="n">Entries</span> \
  <span class="o">--</span><span class="n">shard_key</span> <span class="n">created_at</span> \
  <span class="o">--</span><span class="n">limit</span> <span class="o">-</span><span class="mi">1</span> \
  <span class="o">--</span><span class="n">output_columns</span> <span class="n">tag</span><span class="p">,</span><span class="n">n_likes</span> \
  <span class="o">--</span><span class="n">drilldown</span> <span class="n">tag</span> \
  <span class="o">--</span><span class="n">drilldown_calc_types</span> <span class="n">MAX</span><span class="p">,</span><span class="n">MIN</span><span class="p">,</span><span class="n">SUM</span><span class="p">,</span><span class="n">AVG</span> \
  <span class="o">--</span><span class="n">drilldown_calc_target</span> <span class="n">n_likes</span> \
  <span class="o">--</span><span class="n">drilldown_output_columns</span> <span class="n">_key</span><span class="p">,</span><span class="n">_nsubrecs</span><span class="p">,</span><span class="n">_max</span><span class="p">,</span><span class="n">_min</span><span class="p">,</span><span class="n">_sum</span><span class="p">,</span><span class="n">_avg</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         5</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;tag&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;n_likes&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         &quot;Hello&quot;,</span>
<span class="c1">#         5</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         &quot;Groonga&quot;,</span>
<span class="c1">#         10</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         &quot;Groonga&quot;,</span>
<span class="c1">#         15</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         &quot;Senna&quot;,</span>
<span class="c1">#         3</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         &quot;Senna&quot;,</span>
<span class="c1">#         3</span>
<span class="c1">#       ]</span>
<span class="c1">#     ],</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         3</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_key&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_nsubrecs&quot;,</span>
<span class="c1">#           &quot;Int32&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_max&quot;,</span>
<span class="c1">#           &quot;Int64&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_min&quot;,</span>
<span class="c1">#           &quot;Int64&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_sum&quot;,</span>
<span class="c1">#           &quot;Int64&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_avg&quot;,</span>
<span class="c1">#           &quot;Float&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         &quot;Hello&quot;,</span>
<span class="c1">#         1,</span>
<span class="c1">#         5,</span>
<span class="c1">#         5,</span>
<span class="c1">#         5,</span>
<span class="c1">#         5.0</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         &quot;Groonga&quot;,</span>
<span class="c1">#         2,</span>
<span class="c1">#         15,</span>
<span class="c1">#         10,</span>
<span class="c1">#         25,</span>
<span class="c1">#         12.5</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         &quot;Senna&quot;,</span>
<span class="c1">#         2,</span>
<span class="c1">#         3,</span>
<span class="c1">#         3,</span>
<span class="c1">#         6,</span>
<span class="c1">#         3.0</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
</div>
<div class="section" id="drilldown-calc-target">
<span id="logical-select-drilldown-calc-target"></span><h4><span class="section-number">7.3.35.5.8.8. </span><code class="docutils literal notranslate"><span class="pre">drilldown_calc_target</span></code><a class="headerlink" href="#drilldown-calc-target" title="Permalink to this headline">¶</a></h4>
<p>Corresponds to <a class="reference internal" href="select.html#select-drilldown-calc-target"><span class="std std-ref">drilldown_calc_target</span></a> in
<a class="reference internal" href="select.html"><span class="doc">select</span></a>. See <a class="reference internal" href="select.html#select-drilldown-calc-target"><span class="std std-ref">drilldown_calc_target</span></a> for details.</p>
<p>See also <a class="reference internal" href="#logical-select-drilldown-calc-types"><span class="std std-ref">drilldown_calc_types</span></a> for an example.</p>
</div>
<div class="section" id="drilldown-filter">
<span id="logical-select-drilldown-filter"></span><h4><span class="section-number">7.3.35.5.8.9. </span><code class="docutils literal notranslate"><span class="pre">drilldown_filter</span></code><a class="headerlink" href="#drilldown-filter" title="Permalink to this headline">¶</a></h4>
<div class="versionadded">
<p><span class="versionmodified added">New in version 7.0.1.</span></p>
</div>
<p>Corresponds to <a class="reference internal" href="select.html#select-drilldown-filter"><span class="std std-ref">drilldown_filter</span></a> in
<a class="reference internal" href="select.html"><span class="doc">select</span></a>. See <a class="reference internal" href="select.html#select-drilldown-filter"><span class="std std-ref">drilldown_filter</span></a> for details.</p>
<p>Here is an example to suppress drilled down tags that are occurred
only once:</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">logical_select</span> \
  <span class="o">--</span><span class="n">logical_table</span> <span class="n">Entries</span> \
  <span class="o">--</span><span class="n">shard_key</span> <span class="n">created_at</span> \
  <span class="o">--</span><span class="n">limit</span> <span class="mi">0</span> \
  <span class="o">--</span><span class="n">output_columns</span> <span class="n">_id</span> \
  <span class="o">--</span><span class="n">drilldown</span> <span class="n">tag</span> \
  <span class="o">--</span><span class="n">drilldown_filter</span> <span class="s2">&quot;_nsubrecs &gt; 1&quot;</span> \
  <span class="o">--</span><span class="n">drilldown_output_columns</span> <span class="n">_key</span><span class="p">,</span><span class="n">_nsubrecs</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         5</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_id&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ]</span>
<span class="c1">#     ],</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         2</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_key&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_nsubrecs&quot;,</span>
<span class="c1">#           &quot;Int32&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         &quot;Groonga&quot;,</span>
<span class="c1">#         2</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         &quot;Senna&quot;,</span>
<span class="c1">#         2</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="advanced-drilldown-related-parameters">
<span id="logical-select-advanced-drilldown-related-parameters"></span><h3><span class="section-number">7.3.35.5.9. </span>Advanced drilldown related parameters<a class="headerlink" href="#advanced-drilldown-related-parameters" title="Permalink to this headline">¶</a></h3>
<p>All advanced drilldown related parameters in <a class="reference internal" href="select.html"><span class="doc">select</span></a> are
supported. See <a class="reference internal" href="select.html#select-advanced-drilldown-related-parameters"><span class="std std-ref">Advanced drilldown related parameters</span></a> for
details.</p>
<p>There are some limitations:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">_value.${KEY_NAME}</span></code> in <code class="docutils literal notranslate"><span class="pre">drilldowns[${LABEL}].sort_keys</span></code>
doesn’t work with multiple shards. It works with one
shard. <code class="docutils literal notranslate"><span class="pre">_key</span></code> in <code class="docutils literal notranslate"><span class="pre">drilldowns[${LABEL}].sort_key</span></code> work with
multiple shards.</p></li>
</ul>
</div></blockquote>
<div class="section" id="drilldowns-label-keys">
<span id="logical-select-drilldowns-label-keys"></span><h4><span class="section-number">7.3.35.5.9.1. </span><code class="docutils literal notranslate"><span class="pre">drilldowns[${LABEL}].keys</span></code><a class="headerlink" href="#drilldowns-label-keys" title="Permalink to this headline">¶</a></h4>
<p>Corresponds to <a class="reference internal" href="select.html#select-drilldowns-label-keys"><span class="std std-ref">drilldowns[${LABEL}].keys</span></a> in
<a class="reference internal" href="select.html"><span class="doc">select</span></a>. See <a class="reference internal" href="select.html#select-drilldowns-label-keys"><span class="std std-ref">drilldowns[${LABEL}].keys</span></a> for details.</p>
<p>Here is an example:</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">logical_select</span> \
  <span class="o">--</span><span class="n">logical_table</span> <span class="n">Entries</span> \
  <span class="o">--</span><span class="n">shard_key</span> <span class="n">created_at</span> \
  <span class="o">--</span><span class="n">limit</span> <span class="mi">0</span> \
  <span class="o">--</span><span class="n">output_columns</span> <span class="n">_id</span> \
  <span class="o">--</span><span class="n">drilldowns</span><span class="p">[</span><span class="n">tag</span><span class="o">.</span><span class="n">n_likes</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span> <span class="n">tag</span><span class="p">,</span><span class="n">n_likes</span> \
  <span class="o">--</span><span class="n">drilldowns</span><span class="p">[</span><span class="n">tag</span><span class="o">.</span><span class="n">n_likes</span><span class="p">]</span><span class="o">.</span><span class="n">output_columns</span> <span class="n">_value</span><span class="o">.</span><span class="n">tag</span><span class="p">,</span><span class="n">_value</span><span class="o">.</span><span class="n">n_likes</span><span class="p">,</span><span class="n">_nsubrecs</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         5</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_id&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ]</span>
<span class="c1">#     ],</span>
<span class="c1">#     {</span>
<span class="c1">#       &quot;tag.n_likes&quot;: [</span>
<span class="c1">#         [</span>
<span class="c1">#           4</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           [</span>
<span class="c1">#             &quot;tag&quot;,</span>
<span class="c1">#             &quot;ShortText&quot;</span>
<span class="c1">#           ],</span>
<span class="c1">#           [</span>
<span class="c1">#             &quot;n_likes&quot;,</span>
<span class="c1">#             &quot;UInt32&quot;</span>
<span class="c1">#           ],</span>
<span class="c1">#           [</span>
<span class="c1">#             &quot;_nsubrecs&quot;,</span>
<span class="c1">#             &quot;Int32&quot;</span>
<span class="c1">#           ]</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;Hello&quot;,</span>
<span class="c1">#           5,</span>
<span class="c1">#           1</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;Groonga&quot;,</span>
<span class="c1">#           10,</span>
<span class="c1">#           1</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;Groonga&quot;,</span>
<span class="c1">#           15,</span>
<span class="c1">#           1</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;Senna&quot;,</span>
<span class="c1">#           3,</span>
<span class="c1">#           2</span>
<span class="c1">#         ]</span>
<span class="c1">#       ]</span>
<span class="c1">#     }</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
</div>
<div class="section" id="drilldowns-label-output-columns">
<span id="logical-select-drilldowns-label-output-columns"></span><h4><span class="section-number">7.3.35.5.9.2. </span><code class="docutils literal notranslate"><span class="pre">drilldowns[${LABEL}].output_columns</span></code><a class="headerlink" href="#drilldowns-label-output-columns" title="Permalink to this headline">¶</a></h4>
<p>Corresponds to <a class="reference internal" href="select.html#select-drilldowns-label-output-columns"><span class="std std-ref">drilldowns[${LABEL}].output_columns</span></a> in
<a class="reference internal" href="select.html"><span class="doc">select</span></a>. See <a class="reference internal" href="select.html#select-drilldowns-label-output-columns"><span class="std std-ref">drilldowns[${LABEL}].output_columns</span></a> for
details.</p>
<p><code class="docutils literal notranslate"><span class="pre">drilldowns[${LABEL}].output_columns</span></code> has a limitation.</p>
<p><code class="docutils literal notranslate"><span class="pre">_value.${KEY_NAME}</span></code> in <code class="docutils literal notranslate"><span class="pre">drilldowns[${LABEL}].output_columns</span></code> doesn’t
work with multiple shards. It works with one shard.</p>
<p>Here is an example:</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">logical_select</span> \
  <span class="o">--</span><span class="n">logical_table</span> <span class="n">Entries</span> \
  <span class="o">--</span><span class="n">shard_key</span> <span class="n">created_at</span> \
  <span class="o">--</span><span class="n">limit</span> <span class="mi">0</span> \
  <span class="o">--</span><span class="n">output_columns</span> <span class="n">_id</span> \
  <span class="o">--</span><span class="n">drilldowns</span><span class="p">[</span><span class="n">tag</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span> <span class="n">tag</span> \
  <span class="o">--</span><span class="n">drilldowns</span><span class="p">[</span><span class="n">tag</span><span class="p">]</span><span class="o">.</span><span class="n">output_columns</span> <span class="n">_key</span><span class="p">,</span><span class="n">_nsubrecs</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         5</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_id&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ]</span>
<span class="c1">#     ],</span>
<span class="c1">#     {</span>
<span class="c1">#       &quot;tag&quot;: [</span>
<span class="c1">#         [</span>
<span class="c1">#           3</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           [</span>
<span class="c1">#             &quot;_key&quot;,</span>
<span class="c1">#             &quot;ShortText&quot;</span>
<span class="c1">#           ],</span>
<span class="c1">#           [</span>
<span class="c1">#             &quot;_nsubrecs&quot;,</span>
<span class="c1">#             &quot;Int32&quot;</span>
<span class="c1">#           ]</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;Hello&quot;,</span>
<span class="c1">#           1</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;Groonga&quot;,</span>
<span class="c1">#           2</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;Senna&quot;,</span>
<span class="c1">#           2</span>
<span class="c1">#         ]</span>
<span class="c1">#       ]</span>
<span class="c1">#     }</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
</div>
<div class="section" id="drilldowns-label-sortby">
<span id="logical-select-drilldowns-label-sortby"></span><h4><span class="section-number">7.3.35.5.9.3. </span><code class="docutils literal notranslate"><span class="pre">drilldowns[${LABEL}].sortby</span></code><a class="headerlink" href="#drilldowns-label-sortby" title="Permalink to this headline">¶</a></h4>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 6.1.5: </span>Use <a class="reference internal" href="#logical-select-drilldowns-label-sort-keys"><span class="std std-ref">drilldowns[${LABEL}].sort_keys</span></a> instead.</p>
</div>
</div>
<div class="section" id="drilldowns-label-sort-keys">
<span id="logical-select-drilldowns-label-sort-keys"></span><h4><span class="section-number">7.3.35.5.9.4. </span><code class="docutils literal notranslate"><span class="pre">drilldowns[${LABEL}].sort_keys</span></code><a class="headerlink" href="#drilldowns-label-sort-keys" title="Permalink to this headline">¶</a></h4>
<p>Corresponds to <a class="reference internal" href="#logical-select-drilldown-sort-keys"><span class="std std-ref">drilldown_sort_keys</span></a> in not
labeled drilldown.</p>
<p><code class="docutils literal notranslate"><span class="pre">drilldowns[${LABEL}].sort_keys</span></code> has a limitation.</p>
<p><code class="docutils literal notranslate"><span class="pre">_value.${KEY_NAME}</span></code> in <code class="docutils literal notranslate"><span class="pre">drilldowns[${LABEL}].sort_keys</span></code> doesn’t
work with multiple shards. It works with one shard. <code class="docutils literal notranslate"><span class="pre">_key</span></code> in
<code class="docutils literal notranslate"><span class="pre">drilldowns[${LABEL}].sort_keys</span></code> work with multiple shards.</p>
<p>Here is an example that uses <code class="docutils literal notranslate"><span class="pre">_value.${KEY_NAME}</span></code> with only one
shard:</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">logical_select</span> \
  <span class="o">--</span><span class="n">logical_table</span> <span class="n">Entries</span> \
  <span class="o">--</span><span class="n">shard_key</span> <span class="n">created_at</span> \
  <span class="o">--</span><span class="nb">min</span> <span class="s2">&quot;2015/07/08 00:00:00&quot;</span> \
  <span class="o">--</span><span class="n">min_border</span> <span class="s2">&quot;include&quot;</span> \
  <span class="o">--</span><span class="nb">max</span> <span class="s2">&quot;2015/07/09 00:00:00&quot;</span> \
  <span class="o">--</span><span class="n">max_border</span> <span class="s2">&quot;exclude&quot;</span> \
  <span class="o">--</span><span class="n">limit</span> <span class="mi">0</span> \
  <span class="o">--</span><span class="n">output_columns</span> <span class="n">_id</span> \
  <span class="o">--</span><span class="n">drilldowns</span><span class="p">[</span><span class="n">tag</span><span class="o">.</span><span class="n">n_likes</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span> <span class="n">tag</span><span class="p">,</span><span class="n">n_likes</span> \
  <span class="o">--</span><span class="n">drilldowns</span><span class="p">[</span><span class="n">tag</span><span class="o">.</span><span class="n">n_likes</span><span class="p">]</span><span class="o">.</span><span class="n">output_columns</span> <span class="n">_nsubrecs</span><span class="p">,</span><span class="n">_value</span><span class="o">.</span><span class="n">n_likes</span><span class="p">,</span><span class="n">_value</span><span class="o">.</span><span class="n">tag</span> \
  <span class="o">--</span><span class="n">drilldowns</span><span class="p">[</span><span class="n">tag</span><span class="o">.</span><span class="n">n_likes</span><span class="p">]</span><span class="o">.</span><span class="n">sort_keys</span> <span class="o">-</span><span class="n">_nsubrecs</span><span class="p">,</span><span class="n">_value</span><span class="o">.</span><span class="n">n_likes</span><span class="p">,</span><span class="n">_value</span><span class="o">.</span><span class="n">tag</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         3</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_id&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ]</span>
<span class="c1">#     ],</span>
<span class="c1">#     {</span>
<span class="c1">#       &quot;tag.n_likes&quot;: [</span>
<span class="c1">#         [</span>
<span class="c1">#           3</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           [</span>
<span class="c1">#             &quot;_nsubrecs&quot;,</span>
<span class="c1">#             &quot;Int32&quot;</span>
<span class="c1">#           ],</span>
<span class="c1">#           [</span>
<span class="c1">#             &quot;n_likes&quot;,</span>
<span class="c1">#             &quot;UInt32&quot;</span>
<span class="c1">#           ],</span>
<span class="c1">#           [</span>
<span class="c1">#             &quot;tag&quot;,</span>
<span class="c1">#             &quot;ShortText&quot;</span>
<span class="c1">#           ]</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           1,</span>
<span class="c1">#           5,</span>
<span class="c1">#           &quot;Hello&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           1,</span>
<span class="c1">#           10,</span>
<span class="c1">#           &quot;Groonga&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           1,</span>
<span class="c1">#           15,</span>
<span class="c1">#           &quot;Groonga&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ]</span>
<span class="c1">#     }</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
</div>
<div class="section" id="drilldowns-label-offset">
<span id="logical-select-drilldowns-label-offset"></span><h4><span class="section-number">7.3.35.5.9.5. </span><code class="docutils literal notranslate"><span class="pre">drilldowns[${LABEL}].offset</span></code><a class="headerlink" href="#drilldowns-label-offset" title="Permalink to this headline">¶</a></h4>
<p>Corresponds to <a class="reference internal" href="#logical-select-drilldown-offset"><span class="std std-ref">drilldown_offset</span></a> in not labeled
drilldown.</p>
<p>Here is an example:</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">logical_select</span> \
  <span class="o">--</span><span class="n">logical_table</span> <span class="n">Entries</span> \
  <span class="o">--</span><span class="n">shard_key</span> <span class="n">created_at</span> \
  <span class="o">--</span><span class="n">limit</span> <span class="mi">0</span> \
  <span class="o">--</span><span class="n">output_columns</span> <span class="n">_id</span> \
  <span class="o">--</span><span class="n">drilldowns</span><span class="p">[</span><span class="n">tag</span><span class="o">.</span><span class="n">n_likes</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span> <span class="n">tag</span> \
  <span class="o">--</span><span class="n">drilldowns</span><span class="p">[</span><span class="n">tag</span><span class="o">.</span><span class="n">n_likes</span><span class="p">]</span><span class="o">.</span><span class="n">offset</span> <span class="mi">1</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         5</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_id&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ]</span>
<span class="c1">#     ],</span>
<span class="c1">#     {</span>
<span class="c1">#       &quot;tag.n_likes&quot;: [</span>
<span class="c1">#         [</span>
<span class="c1">#           3</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           [</span>
<span class="c1">#             &quot;_key&quot;,</span>
<span class="c1">#             &quot;ShortText&quot;</span>
<span class="c1">#           ],</span>
<span class="c1">#           [</span>
<span class="c1">#             &quot;_nsubrecs&quot;,</span>
<span class="c1">#             &quot;Int32&quot;</span>
<span class="c1">#           ]</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;Groonga&quot;,</span>
<span class="c1">#           2</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;Senna&quot;,</span>
<span class="c1">#           2</span>
<span class="c1">#         ]</span>
<span class="c1">#       ]</span>
<span class="c1">#     }</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
</div>
<div class="section" id="drilldowns-label-limit">
<span id="logical-select-drilldowns-label-limit"></span><h4><span class="section-number">7.3.35.5.9.6. </span><code class="docutils literal notranslate"><span class="pre">drilldowns[${LABEL}].limit</span></code><a class="headerlink" href="#drilldowns-label-limit" title="Permalink to this headline">¶</a></h4>
<p>Corresponds to <a class="reference internal" href="#logical-select-drilldown-limit"><span class="std std-ref">drilldown_limit</span></a> in not labeled
drilldown.</p>
<p>Here is an example:</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">logical_select</span> \
  <span class="o">--</span><span class="n">logical_table</span> <span class="n">Entries</span> \
  <span class="o">--</span><span class="n">shard_key</span> <span class="n">created_at</span> \
  <span class="o">--</span><span class="n">limit</span> <span class="mi">0</span> \
  <span class="o">--</span><span class="n">output_columns</span> <span class="n">_id</span> \
  <span class="o">--</span><span class="n">drilldowns</span><span class="p">[</span><span class="n">tag</span><span class="o">.</span><span class="n">n_likes</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span> <span class="n">tag</span> \
  <span class="o">--</span><span class="n">drilldowns</span><span class="p">[</span><span class="n">tag</span><span class="o">.</span><span class="n">n_likes</span><span class="p">]</span><span class="o">.</span><span class="n">limit</span> <span class="mi">2</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         5</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_id&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ]</span>
<span class="c1">#     ],</span>
<span class="c1">#     {</span>
<span class="c1">#       &quot;tag.n_likes&quot;: [</span>
<span class="c1">#         [</span>
<span class="c1">#           3</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           [</span>
<span class="c1">#             &quot;_key&quot;,</span>
<span class="c1">#             &quot;ShortText&quot;</span>
<span class="c1">#           ],</span>
<span class="c1">#           [</span>
<span class="c1">#             &quot;_nsubrecs&quot;,</span>
<span class="c1">#             &quot;Int32&quot;</span>
<span class="c1">#           ]</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;Hello&quot;,</span>
<span class="c1">#           1</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;Groonga&quot;,</span>
<span class="c1">#           2</span>
<span class="c1">#         ]</span>
<span class="c1">#       ]</span>
<span class="c1">#     }</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
</div>
<div class="section" id="drilldowns-label-calc-types">
<span id="logical-select-drilldowns-label-calc-types"></span><h4><span class="section-number">7.3.35.5.9.7. </span><code class="docutils literal notranslate"><span class="pre">drilldowns[${LABEL}].calc_types</span></code><a class="headerlink" href="#drilldowns-label-calc-types" title="Permalink to this headline">¶</a></h4>
<p>Corresponds to <a class="reference internal" href="#logical-select-drilldown-calc-types"><span class="std std-ref">drilldown_calc_types</span></a> in not
labeled drilldown.</p>
<p>Here is an example:</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">logical_select</span> \
  <span class="o">--</span><span class="n">logical_table</span> <span class="n">Entries</span> \
  <span class="o">--</span><span class="n">shard_key</span> <span class="n">created_at</span> \
  <span class="o">--</span><span class="n">limit</span> <span class="mi">0</span> \
  <span class="o">--</span><span class="n">output_columns</span> <span class="n">_id</span> \
  <span class="o">--</span><span class="n">drilldowns</span><span class="p">[</span><span class="n">tag</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span> <span class="n">tag</span> \
  <span class="o">--</span><span class="n">drilldowns</span><span class="p">[</span><span class="n">tag</span><span class="p">]</span><span class="o">.</span><span class="n">calc_types</span> <span class="n">MAX</span><span class="p">,</span><span class="n">MIN</span><span class="p">,</span><span class="n">SUM</span><span class="p">,</span><span class="n">AVG</span> \
  <span class="o">--</span><span class="n">drilldowns</span><span class="p">[</span><span class="n">tag</span><span class="p">]</span><span class="o">.</span><span class="n">calc_target</span> <span class="n">n_likes</span> \
  <span class="o">--</span><span class="n">drilldowns</span><span class="p">[</span><span class="n">tag</span><span class="p">]</span><span class="o">.</span><span class="n">output_columns</span> <span class="n">_key</span><span class="p">,</span><span class="n">_nsubrecs</span><span class="p">,</span><span class="n">_max</span><span class="p">,</span><span class="n">_min</span><span class="p">,</span><span class="n">_sum</span><span class="p">,</span><span class="n">_avg</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         5</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_id&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ]</span>
<span class="c1">#     ],</span>
<span class="c1">#     {</span>
<span class="c1">#       &quot;tag&quot;: [</span>
<span class="c1">#         [</span>
<span class="c1">#           3</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           [</span>
<span class="c1">#             &quot;_key&quot;,</span>
<span class="c1">#             &quot;ShortText&quot;</span>
<span class="c1">#           ],</span>
<span class="c1">#           [</span>
<span class="c1">#             &quot;_nsubrecs&quot;,</span>
<span class="c1">#             &quot;Int32&quot;</span>
<span class="c1">#           ],</span>
<span class="c1">#           [</span>
<span class="c1">#             &quot;_max&quot;,</span>
<span class="c1">#             &quot;Int64&quot;</span>
<span class="c1">#           ],</span>
<span class="c1">#           [</span>
<span class="c1">#             &quot;_min&quot;,</span>
<span class="c1">#             &quot;Int64&quot;</span>
<span class="c1">#           ],</span>
<span class="c1">#           [</span>
<span class="c1">#             &quot;_sum&quot;,</span>
<span class="c1">#             &quot;Int64&quot;</span>
<span class="c1">#           ],</span>
<span class="c1">#           [</span>
<span class="c1">#             &quot;_avg&quot;,</span>
<span class="c1">#             &quot;Float&quot;</span>
<span class="c1">#           ]</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;Hello&quot;,</span>
<span class="c1">#           1,</span>
<span class="c1">#           5,</span>
<span class="c1">#           5,</span>
<span class="c1">#           5,</span>
<span class="c1">#           5.0</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;Groonga&quot;,</span>
<span class="c1">#           2,</span>
<span class="c1">#           15,</span>
<span class="c1">#           10,</span>
<span class="c1">#           25,</span>
<span class="c1">#           12.5</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;Senna&quot;,</span>
<span class="c1">#           2,</span>
<span class="c1">#           3,</span>
<span class="c1">#           3,</span>
<span class="c1">#           6,</span>
<span class="c1">#           3.0</span>
<span class="c1">#         ]</span>
<span class="c1">#       ]</span>
<span class="c1">#     }</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
</div>
<div class="section" id="drilldowns-label-calc-target">
<span id="logical-select-drilldowns-label-calc-target"></span><h4><span class="section-number">7.3.35.5.9.8. </span><code class="docutils literal notranslate"><span class="pre">drilldowns[${LABEL}].calc_target</span></code><a class="headerlink" href="#drilldowns-label-calc-target" title="Permalink to this headline">¶</a></h4>
<p>Corresponds to <a class="reference internal" href="#logical-select-drilldown-calc-target"><span class="std std-ref">drilldown_calc_target</span></a> in not
labeled drilldown.</p>
<p>See also <a class="reference internal" href="#logical-select-drilldowns-label-calc-types"><span class="std std-ref">drilldowns[${LABEL}].calc_types</span></a>
for an example.</p>
</div>
<div class="section" id="drilldowns-label-filter">
<span id="logical-select-drilldowns-label-filter"></span><h4><span class="section-number">7.3.35.5.9.9. </span><code class="docutils literal notranslate"><span class="pre">drilldowns[${LABEL}].filter</span></code><a class="headerlink" href="#drilldowns-label-filter" title="Permalink to this headline">¶</a></h4>
<div class="versionadded">
<p><span class="versionmodified added">New in version 7.0.1.</span></p>
</div>
<p>Corresponds to <a class="reference internal" href="#logical-select-drilldown-filter"><span class="std std-ref">drilldown_filter</span></a> in not labeled
drilldown.</p>
<p>Here is an example to suppress drilled down tags that are occurred
only once:</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">logical_select</span> \
  <span class="o">--</span><span class="n">logical_table</span> <span class="n">Entries</span> \
  <span class="o">--</span><span class="n">shard_key</span> <span class="n">created_at</span> \
  <span class="o">--</span><span class="n">limit</span> <span class="mi">0</span> \
  <span class="o">--</span><span class="n">output_columns</span> <span class="n">_id</span> \
  <span class="o">--</span><span class="n">drilldowns</span><span class="p">[</span><span class="n">tag</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span> <span class="n">tag</span> \
  <span class="o">--</span><span class="n">drilldowns</span><span class="p">[</span><span class="n">tag</span><span class="p">]</span><span class="o">.</span><span class="n">filter</span> <span class="s2">&quot;_nsubrecs &gt; 1&quot;</span> \
  <span class="o">--</span><span class="n">drilldowns</span><span class="p">[</span><span class="n">tag</span><span class="p">]</span><span class="o">.</span><span class="n">output_columns</span> <span class="n">_key</span><span class="p">,</span><span class="n">_nsubrecs</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         5</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_id&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ]</span>
<span class="c1">#     ],</span>
<span class="c1">#     {</span>
<span class="c1">#       &quot;tag&quot;: [</span>
<span class="c1">#         [</span>
<span class="c1">#           2</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           [</span>
<span class="c1">#             &quot;_key&quot;,</span>
<span class="c1">#             &quot;ShortText&quot;</span>
<span class="c1">#           ],</span>
<span class="c1">#           [</span>
<span class="c1">#             &quot;_nsubrecs&quot;,</span>
<span class="c1">#             &quot;Int32&quot;</span>
<span class="c1">#           ]</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;Groonga&quot;,</span>
<span class="c1">#           2</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;Senna&quot;,</span>
<span class="c1">#           2</span>
<span class="c1">#         ]</span>
<span class="c1">#       ]</span>
<span class="c1">#     }</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
</div>
<div class="section" id="drilldowns-label-columns-name-stage">
<span id="logical-select-drilldowns-label-columns-name-stage"></span><h4><span class="section-number">7.3.35.5.9.10. </span><code class="docutils literal notranslate"><span class="pre">drilldowns[${LABEL}].columns[${NAME}].stage</span></code><a class="headerlink" href="#drilldowns-label-columns-name-stage" title="Permalink to this headline">¶</a></h4>
<div class="versionadded">
<p><span class="versionmodified added">New in version 7.0.1.</span></p>
</div>
<p>Corresponds to <a class="reference internal" href="select.html#select-drilldowns-label-columns-name-stage"><span class="std std-ref">drilldowns[${LABEL}].columns[${NAME}].stage</span></a> in
<a class="reference internal" href="select.html"><span class="doc">select</span></a>. See <a class="reference internal" href="select.html#select-drilldowns-label-columns-name-stage"><span class="std std-ref">drilldowns[${LABEL}].columns[${NAME}].stage</span></a>
for details.</p>
<p>Here is an example that creates a dynamic column at <code class="docutils literal notranslate"><span class="pre">initial</span></code>
stage. This example creates a dynamic column that stores whether each
drilled down tag is occurred only once or not:</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">logical_select</span> \
  <span class="o">--</span><span class="n">logical_table</span> <span class="n">Entries</span> \
  <span class="o">--</span><span class="n">shard_key</span> <span class="n">created_at</span> \
  <span class="o">--</span><span class="n">limit</span> <span class="mi">0</span> \
  <span class="o">--</span><span class="n">output_columns</span> <span class="n">_id</span> \
  <span class="o">--</span><span class="n">drilldowns</span><span class="p">[</span><span class="n">tag</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span> <span class="n">tag</span> \
  <span class="o">--</span><span class="n">drilldowns</span><span class="p">[</span><span class="n">tag</span><span class="p">]</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="n">is_popular</span><span class="p">]</span><span class="o">.</span><span class="n">stage</span> <span class="n">initial</span> \
  <span class="o">--</span><span class="n">drilldowns</span><span class="p">[</span><span class="n">tag</span><span class="p">]</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="n">is_popular</span><span class="p">]</span><span class="o">.</span><span class="n">type</span> <span class="n">Bool</span> \
  <span class="o">--</span><span class="n">drilldowns</span><span class="p">[</span><span class="n">tag</span><span class="p">]</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="n">is_popular</span><span class="p">]</span><span class="o">.</span><span class="n">value</span> <span class="s1">&#39;_nsubrecs &gt; 1&#39;</span> \
  <span class="o">--</span><span class="n">drilldowns</span><span class="p">[</span><span class="n">tag</span><span class="p">]</span><span class="o">.</span><span class="n">output_columns</span> <span class="n">_key</span><span class="p">,</span><span class="n">_nsubrecs</span><span class="p">,</span><span class="n">is_popular</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         5</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_id&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ]</span>
<span class="c1">#     ],</span>
<span class="c1">#     {</span>
<span class="c1">#       &quot;tag&quot;: [</span>
<span class="c1">#         [</span>
<span class="c1">#           3</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           [</span>
<span class="c1">#             &quot;_key&quot;,</span>
<span class="c1">#             &quot;ShortText&quot;</span>
<span class="c1">#           ],</span>
<span class="c1">#           [</span>
<span class="c1">#             &quot;_nsubrecs&quot;,</span>
<span class="c1">#             &quot;Int32&quot;</span>
<span class="c1">#           ],</span>
<span class="c1">#           [</span>
<span class="c1">#             &quot;is_popular&quot;,</span>
<span class="c1">#             &quot;Bool&quot;</span>
<span class="c1">#           ]</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;Hello&quot;,</span>
<span class="c1">#           1,</span>
<span class="c1">#           false</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;Groonga&quot;,</span>
<span class="c1">#           2,</span>
<span class="c1">#           true</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;Senna&quot;,</span>
<span class="c1">#           2,</span>
<span class="c1">#           true</span>
<span class="c1">#         ]</span>
<span class="c1">#       ]</span>
<span class="c1">#     }</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
</div>
<div class="section" id="drilldowns-label-columns-name-flags">
<span id="logical-select-drilldowns-label-columns-name-flags"></span><h4><span class="section-number">7.3.35.5.9.11. </span><code class="docutils literal notranslate"><span class="pre">drilldowns[${LABEL}].columns[${NAME}].flags</span></code><a class="headerlink" href="#drilldowns-label-columns-name-flags" title="Permalink to this headline">¶</a></h4>
<div class="versionadded">
<p><span class="versionmodified added">New in version 7.0.1.</span></p>
</div>
<p>Corresponds to <a class="reference internal" href="#logical-select-columns-name-flags"><span class="std std-ref">columns[${NAME}].flags</span></a> in main
search.</p>
<p>The default value is <code class="docutils literal notranslate"><span class="pre">COLUMN_SCALAR</span></code>.</p>
<p>Here is an example that creates a vector column by <code class="docutils literal notranslate"><span class="pre">COLUMN_VECTOR</span></code>
flags. <code class="docutils literal notranslate"><span class="pre">plugin_register</span> <span class="pre">functions/vector</span></code> is for using
<a class="reference internal" href="../functions/vector_new.html"><span class="doc">vector_new</span></a> function:</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">logical_select</span> \
  <span class="o">--</span><span class="n">logical_table</span> <span class="n">Entries</span> \
  <span class="o">--</span><span class="n">shard_key</span> <span class="n">created_at</span> \
  <span class="o">--</span><span class="n">limit</span> <span class="mi">0</span> \
  <span class="o">--</span><span class="n">output_columns</span> <span class="n">_id</span> \
  <span class="o">--</span><span class="n">drilldowns</span><span class="p">[</span><span class="n">tag</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span> <span class="n">tag</span> \
  <span class="o">--</span><span class="n">drilldowns</span><span class="p">[</span><span class="n">tag</span><span class="p">]</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="n">vector</span><span class="p">]</span><span class="o">.</span><span class="n">stage</span> <span class="n">initial</span> \
  <span class="o">--</span><span class="n">drilldowns</span><span class="p">[</span><span class="n">tag</span><span class="p">]</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="n">vector</span><span class="p">]</span><span class="o">.</span><span class="n">flags</span> <span class="n">COLUMN_VECTOR</span> \
  <span class="o">--</span><span class="n">drilldowns</span><span class="p">[</span><span class="n">tag</span><span class="p">]</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="n">vector</span><span class="p">]</span><span class="o">.</span><span class="n">type</span> <span class="n">ShortText</span> \
  <span class="o">--</span><span class="n">drilldowns</span><span class="p">[</span><span class="n">tag</span><span class="p">]</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="n">vector</span><span class="p">]</span><span class="o">.</span><span class="n">value</span> <span class="s1">&#39;vector_new(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;)&#39;</span> \
  <span class="o">--</span><span class="n">drilldowns</span><span class="p">[</span><span class="n">tag</span><span class="p">]</span><span class="o">.</span><span class="n">output_columns</span> <span class="n">_key</span><span class="p">,</span><span class="n">vector</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         5</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_id&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ]</span>
<span class="c1">#     ],</span>
<span class="c1">#     {</span>
<span class="c1">#       &quot;tag&quot;: [</span>
<span class="c1">#         [</span>
<span class="c1">#           3</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           [</span>
<span class="c1">#             &quot;_key&quot;,</span>
<span class="c1">#             &quot;ShortText&quot;</span>
<span class="c1">#           ],</span>
<span class="c1">#           [</span>
<span class="c1">#             &quot;vector&quot;,</span>
<span class="c1">#             &quot;ShortText&quot;</span>
<span class="c1">#           ]</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;Hello&quot;,</span>
<span class="c1">#           [</span>
<span class="c1">#             &quot;a&quot;,</span>
<span class="c1">#             &quot;b&quot;,</span>
<span class="c1">#             &quot;c&quot;</span>
<span class="c1">#           ]</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;Groonga&quot;,</span>
<span class="c1">#           [</span>
<span class="c1">#             &quot;a&quot;,</span>
<span class="c1">#             &quot;b&quot;,</span>
<span class="c1">#             &quot;c&quot;</span>
<span class="c1">#           ]</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;Senna&quot;,</span>
<span class="c1">#           [</span>
<span class="c1">#             &quot;a&quot;,</span>
<span class="c1">#             &quot;b&quot;,</span>
<span class="c1">#             &quot;c&quot;</span>
<span class="c1">#           ]</span>
<span class="c1">#         ]</span>
<span class="c1">#       ]</span>
<span class="c1">#     }</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
</div>
<div class="section" id="drilldowns-label-columns-name-type">
<span id="logical-select-drilldowns-label-columns-name-type"></span><h4><span class="section-number">7.3.35.5.9.12. </span><code class="docutils literal notranslate"><span class="pre">drilldowns[${LABEL}].columns[${NAME}].type</span></code><a class="headerlink" href="#drilldowns-label-columns-name-type" title="Permalink to this headline">¶</a></h4>
<div class="versionadded">
<p><span class="versionmodified added">New in version 7.0.1.</span></p>
</div>
<p>Corresponds to <a class="reference internal" href="#logical-select-columns-name-type"><span class="std std-ref">columns[${NAME}].type</span></a> in main
search.</p>
<p>This is a required parameter.</p>
<p>Here is an example that creates a <code class="docutils literal notranslate"><span class="pre">ShortText</span></code> type column. Stored
value is casted to <code class="docutils literal notranslate"><span class="pre">ShortText</span></code> automatically. In this example,
number is casted to <code class="docutils literal notranslate"><span class="pre">ShortText</span></code>:</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">logical_select</span> \
  <span class="o">--</span><span class="n">logical_table</span> <span class="n">Entries</span> \
  <span class="o">--</span><span class="n">shard_key</span> <span class="n">created_at</span> \
  <span class="o">--</span><span class="n">limit</span> <span class="mi">0</span> \
  <span class="o">--</span><span class="n">output_columns</span> <span class="n">_id</span> \
  <span class="o">--</span><span class="n">drilldowns</span><span class="p">[</span><span class="n">tag</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span> <span class="n">tag</span> \
  <span class="o">--</span><span class="n">drilldowns</span><span class="p">[</span><span class="n">tag</span><span class="p">]</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="n">nsubrecs_string</span><span class="p">]</span><span class="o">.</span><span class="n">stage</span> <span class="n">initial</span> \
  <span class="o">--</span><span class="n">drilldowns</span><span class="p">[</span><span class="n">tag</span><span class="p">]</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="n">nsubrecs_string</span><span class="p">]</span><span class="o">.</span><span class="n">type</span> <span class="n">ShortText</span> \
  <span class="o">--</span><span class="n">drilldowns</span><span class="p">[</span><span class="n">tag</span><span class="p">]</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="n">nsubrecs_string</span><span class="p">]</span><span class="o">.</span><span class="n">value</span> <span class="n">_nsubrecs</span> \
  <span class="o">--</span><span class="n">drilldowns</span><span class="p">[</span><span class="n">tag</span><span class="p">]</span><span class="o">.</span><span class="n">output_columns</span> <span class="n">_key</span><span class="p">,</span><span class="n">_nsubrecs</span><span class="p">,</span><span class="n">nsubrecs_string</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         5</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_id&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ]</span>
<span class="c1">#     ],</span>
<span class="c1">#     {</span>
<span class="c1">#       &quot;tag&quot;: [</span>
<span class="c1">#         [</span>
<span class="c1">#           3</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           [</span>
<span class="c1">#             &quot;_key&quot;,</span>
<span class="c1">#             &quot;ShortText&quot;</span>
<span class="c1">#           ],</span>
<span class="c1">#           [</span>
<span class="c1">#             &quot;_nsubrecs&quot;,</span>
<span class="c1">#             &quot;Int32&quot;</span>
<span class="c1">#           ],</span>
<span class="c1">#           [</span>
<span class="c1">#             &quot;nsubrecs_string&quot;,</span>
<span class="c1">#             &quot;ShortText&quot;</span>
<span class="c1">#           ]</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;Hello&quot;,</span>
<span class="c1">#           1,</span>
<span class="c1">#           &quot;1&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;Groonga&quot;,</span>
<span class="c1">#           2,</span>
<span class="c1">#           &quot;2&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;Senna&quot;,</span>
<span class="c1">#           2,</span>
<span class="c1">#           &quot;2&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ]</span>
<span class="c1">#     }</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
</div>
<div class="section" id="drilldowns-label-columns-name-value">
<span id="logical-select-drilldowns-label-columns-name-value"></span><h4><span class="section-number">7.3.35.5.9.13. </span><code class="docutils literal notranslate"><span class="pre">drilldowns[${LABEL}].columns[${NAME}].value</span></code><a class="headerlink" href="#drilldowns-label-columns-name-value" title="Permalink to this headline">¶</a></h4>
<div class="versionadded">
<p><span class="versionmodified added">New in version 7.0.1.</span></p>
</div>
<p>Corresponds to <a class="reference internal" href="#logical-select-columns-name-value"><span class="std std-ref">columns[${NAME}].value</span></a> in main
search.</p>
<p>This is a required parameter.</p>
<p>Here is an example that creates a new dynamic column that stores the
number of characters of content. This example uses
<a class="reference internal" href="../functions/string_length.html"><span class="doc">string_length</span></a> function in
<code class="docutils literal notranslate"><span class="pre">functions/string</span></code> plugin to compute the number of characters in a
string. <a class="reference internal" href="plugin_register.html"><span class="doc">plugin_register</span></a> is used to register
<code class="docutils literal notranslate"><span class="pre">functions/string</span></code> plugin:</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">plugin_register</span> <span class="n">functions</span><span class="o">/</span><span class="n">string</span> \
<span class="n">logical_select</span> \
  <span class="o">--</span><span class="n">logical_table</span> <span class="n">Entries</span> \
  <span class="o">--</span><span class="n">shard_key</span> <span class="n">created_at</span> \
  <span class="o">--</span><span class="n">limit</span> <span class="mi">0</span> \
  <span class="o">--</span><span class="n">output_columns</span> <span class="n">_id</span> \
  <span class="o">--</span><span class="n">drilldowns</span><span class="p">[</span><span class="n">tag</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span> <span class="n">tag</span> \
  <span class="o">--</span><span class="n">drilldowns</span><span class="p">[</span><span class="n">tag</span><span class="p">]</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="n">tag_length</span><span class="p">]</span><span class="o">.</span><span class="n">stage</span> <span class="n">initial</span> \
  <span class="o">--</span><span class="n">drilldowns</span><span class="p">[</span><span class="n">tag</span><span class="p">]</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="n">tag_length</span><span class="p">]</span><span class="o">.</span><span class="n">type</span> <span class="n">UInt32</span> \
  <span class="o">--</span><span class="n">drilldowns</span><span class="p">[</span><span class="n">tag</span><span class="p">]</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="n">tag_length</span><span class="p">]</span><span class="o">.</span><span class="n">value</span> <span class="s1">&#39;string_length(_key)&#39;</span> \
  <span class="o">--</span><span class="n">drilldowns</span><span class="p">[</span><span class="n">tag</span><span class="p">]</span><span class="o">.</span><span class="n">output_columns</span> <span class="n">_key</span><span class="p">,</span><span class="n">tag_length</span>
<span class="c1"># [[0, 1337566253.89858, 0.000355720520019531], true]</span>
</pre></div>
</div>
</div>
<div class="section" id="drilldowns-label-columns-name-window-sort-keys">
<span id="logical-select-drilldowns-label-columns-name-window-sort-keys"></span><h4><span class="section-number">7.3.35.5.9.14. </span><code class="docutils literal notranslate"><span class="pre">drilldowns[${LABEL}].columns[${NAME}].window.sort_keys</span></code><a class="headerlink" href="#drilldowns-label-columns-name-window-sort-keys" title="Permalink to this headline">¶</a></h4>
<div class="versionadded">
<p><span class="versionmodified added">New in version 7.0.1.</span></p>
</div>
<p>Corresponds to <a class="reference internal" href="#logical-select-columns-name-window-sort-keys"><span class="std std-ref">columns[${NAME}].window.sort_keys</span></a> in
main search.</p>
<p>You must specify
<a class="reference internal" href="#logical-select-drilldowns-label-columns-name-window-sort-keys"><span class="std std-ref">drilldowns[${LABEL}].columns[${NAME}].window.sort_keys</span></a>
or
<a class="reference internal" href="#logical-select-drilldowns-label-columns-name-window-group-keys"><span class="std std-ref">drilldowns[${LABEL}].columns[${NAME}].window.group_keys</span></a>
to use window function.</p>
<p>Here is an example that computes the Nth record in the number of sub
records order:</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">logical_select</span> \
  <span class="o">--</span><span class="n">logical_table</span> <span class="n">Entries</span> \
  <span class="o">--</span><span class="n">shard_key</span> <span class="n">created_at</span> \
  <span class="o">--</span><span class="n">limit</span> <span class="mi">0</span> \
  <span class="o">--</span><span class="n">output_columns</span> <span class="n">_id</span> \
  <span class="o">--</span><span class="n">drilldowns</span><span class="p">[</span><span class="n">tag</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span> <span class="n">tag</span> \
  <span class="o">--</span><span class="n">drilldowns</span><span class="p">[</span><span class="n">tag</span><span class="p">]</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="n">record_number</span><span class="p">]</span><span class="o">.</span><span class="n">stage</span> <span class="n">initial</span> \
  <span class="o">--</span><span class="n">drilldowns</span><span class="p">[</span><span class="n">tag</span><span class="p">]</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="n">record_number</span><span class="p">]</span><span class="o">.</span><span class="n">type</span> <span class="n">UInt32</span> \
  <span class="o">--</span><span class="n">drilldowns</span><span class="p">[</span><span class="n">tag</span><span class="p">]</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="n">record_number</span><span class="p">]</span><span class="o">.</span><span class="n">value</span> <span class="s1">&#39;window_record_number()&#39;</span> \
  <span class="o">--</span><span class="n">drilldowns</span><span class="p">[</span><span class="n">tag</span><span class="p">]</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="n">record_number</span><span class="p">]</span><span class="o">.</span><span class="n">window</span><span class="o">.</span><span class="n">sort_keys</span> <span class="n">_nsubrecs</span><span class="p">,</span><span class="n">_key</span> \
  <span class="o">--</span><span class="n">drilldowns</span><span class="p">[</span><span class="n">tag</span><span class="p">]</span><span class="o">.</span><span class="n">sort_keys</span> <span class="n">record_number</span> \
  <span class="o">--</span><span class="n">drilldowns</span><span class="p">[</span><span class="n">tag</span><span class="p">]</span><span class="o">.</span><span class="n">output_columns</span> <span class="n">_key</span><span class="p">,</span><span class="n">_nsubrecs</span><span class="p">,</span><span class="n">record_number</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         5</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_id&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ]</span>
<span class="c1">#     ],</span>
<span class="c1">#     {</span>
<span class="c1">#       &quot;tag&quot;: [</span>
<span class="c1">#         [</span>
<span class="c1">#           3</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           [</span>
<span class="c1">#             &quot;_key&quot;,</span>
<span class="c1">#             &quot;ShortText&quot;</span>
<span class="c1">#           ],</span>
<span class="c1">#           [</span>
<span class="c1">#             &quot;_nsubrecs&quot;,</span>
<span class="c1">#             &quot;Int32&quot;</span>
<span class="c1">#           ],</span>
<span class="c1">#           [</span>
<span class="c1">#             &quot;record_number&quot;,</span>
<span class="c1">#             &quot;UInt32&quot;</span>
<span class="c1">#           ]</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;Hello&quot;,</span>
<span class="c1">#           1,</span>
<span class="c1">#           1</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;Groonga&quot;,</span>
<span class="c1">#           2,</span>
<span class="c1">#           2</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;Senna&quot;,</span>
<span class="c1">#           2,</span>
<span class="c1">#           3</span>
<span class="c1">#         ]</span>
<span class="c1">#       ]</span>
<span class="c1">#     }</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
</div>
<div class="section" id="drilldowns-label-columns-name-window-group-keys">
<span id="logical-select-drilldowns-label-columns-name-window-group-keys"></span><h4><span class="section-number">7.3.35.5.9.15. </span><code class="docutils literal notranslate"><span class="pre">drilldowns[${LABEL}].columns[${NAME}].window.group_keys</span></code><a class="headerlink" href="#drilldowns-label-columns-name-window-group-keys" title="Permalink to this headline">¶</a></h4>
<div class="versionadded">
<p><span class="versionmodified added">New in version 7.0.1.</span></p>
</div>
<p>Corresponds to <a class="reference internal" href="#logical-select-columns-name-window-group-keys"><span class="std std-ref">columns[${NAME}].window.group_keys</span></a> in
main search.</p>
<p>You must specify
<a class="reference internal" href="#logical-select-drilldowns-label-columns-name-window-sort-keys"><span class="std std-ref">drilldowns[${LABEL}].columns[${NAME}].window.sort_keys</span></a>
or
<a class="reference internal" href="#logical-select-drilldowns-label-columns-name-window-group-keys"><span class="std std-ref">drilldowns[${LABEL}].columns[${NAME}].window.group_keys</span></a>
to use window function.</p>
<p>Here is an example that computes the Nth record ordered by tag name
for each the same number of sub records:</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">logical_select</span> \
  <span class="o">--</span><span class="n">logical_table</span> <span class="n">Entries</span> \
  <span class="o">--</span><span class="n">shard_key</span> <span class="n">created_at</span> \
  <span class="o">--</span><span class="n">limit</span> <span class="mi">0</span> \
  <span class="o">--</span><span class="n">output_columns</span> <span class="n">_id</span> \
  <span class="o">--</span><span class="n">drilldowns</span><span class="p">[</span><span class="n">tag</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span> <span class="n">tag</span> \
  <span class="o">--</span><span class="n">drilldowns</span><span class="p">[</span><span class="n">tag</span><span class="p">]</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="n">record_number</span><span class="p">]</span><span class="o">.</span><span class="n">stage</span> <span class="n">initial</span> \
  <span class="o">--</span><span class="n">drilldowns</span><span class="p">[</span><span class="n">tag</span><span class="p">]</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="n">record_number</span><span class="p">]</span><span class="o">.</span><span class="n">type</span> <span class="n">UInt32</span> \
  <span class="o">--</span><span class="n">drilldowns</span><span class="p">[</span><span class="n">tag</span><span class="p">]</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="n">record_number</span><span class="p">]</span><span class="o">.</span><span class="n">value</span> <span class="s1">&#39;window_record_number()&#39;</span> \
  <span class="o">--</span><span class="n">drilldowns</span><span class="p">[</span><span class="n">tag</span><span class="p">]</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="n">record_number</span><span class="p">]</span><span class="o">.</span><span class="n">window</span><span class="o">.</span><span class="n">sort_keys</span> <span class="n">_key</span> \
  <span class="o">--</span><span class="n">drilldowns</span><span class="p">[</span><span class="n">tag</span><span class="p">]</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="n">record_number</span><span class="p">]</span><span class="o">.</span><span class="n">window</span><span class="o">.</span><span class="n">group_keys</span> <span class="n">_nsubrecs</span> \
  <span class="o">--</span><span class="n">drilldowns</span><span class="p">[</span><span class="n">tag</span><span class="p">]</span><span class="o">.</span><span class="n">sort_keys</span> <span class="n">_nsubrecs</span><span class="p">,</span><span class="n">record_number</span> \
  <span class="o">--</span><span class="n">drilldowns</span><span class="p">[</span><span class="n">tag</span><span class="p">]</span><span class="o">.</span><span class="n">output_columns</span> <span class="n">_key</span><span class="p">,</span><span class="n">_nsubrecs</span><span class="p">,</span><span class="n">record_number</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         5</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_id&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ]</span>
<span class="c1">#     ],</span>
<span class="c1">#     {</span>
<span class="c1">#       &quot;tag&quot;: [</span>
<span class="c1">#         [</span>
<span class="c1">#           3</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           [</span>
<span class="c1">#             &quot;_key&quot;,</span>
<span class="c1">#             &quot;ShortText&quot;</span>
<span class="c1">#           ],</span>
<span class="c1">#           [</span>
<span class="c1">#             &quot;_nsubrecs&quot;,</span>
<span class="c1">#             &quot;Int32&quot;</span>
<span class="c1">#           ],</span>
<span class="c1">#           [</span>
<span class="c1">#             &quot;record_number&quot;,</span>
<span class="c1">#             &quot;UInt32&quot;</span>
<span class="c1">#           ]</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;Hello&quot;,</span>
<span class="c1">#           1,</span>
<span class="c1">#           1</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;Groonga&quot;,</span>
<span class="c1">#           2,</span>
<span class="c1">#           1</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;Senna&quot;,</span>
<span class="c1">#           2,</span>
<span class="c1">#           2</span>
<span class="c1">#         ]</span>
<span class="c1">#       ]</span>
<span class="c1">#     }</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="cache-related-parameter">
<h3><span class="section-number">7.3.35.5.10. </span>Cache related parameter<a class="headerlink" href="#cache-related-parameter" title="Permalink to this headline">¶</a></h3>
<div class="section" id="cache">
<span id="logical-select-cache"></span><h4><span class="section-number">7.3.35.5.10.1. </span><code class="docutils literal notranslate"><span class="pre">cache</span></code><a class="headerlink" href="#cache" title="Permalink to this headline">¶</a></h4>
<p>Specifies whether caching the result of this query or not.</p>
<p>If the result of this query is cached, the next same query returns
response quickly by using the cache.</p>
<p>It doesn’t control whether existing cached result is used or not.</p>
<p>Here are available values:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Value</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">no</span></code></p></td>
<td><p>Don’t cache the output of this query.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">yes</span></code></p></td>
<td><p>Cache the output of this query.
It’s the default value.</p></td>
</tr>
</tbody>
</table>
<p>Here is an example to disable caching the result of this query:</p>
<p>Execution example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">logical_select</span> \
  <span class="o">--</span><span class="n">logical_table</span> <span class="n">Entries</span> \
  <span class="o">--</span><span class="n">shard_key</span> <span class="n">created_at</span> \
  <span class="o">--</span><span class="n">cache</span> <span class="n">no</span>
<span class="c1"># [</span>
<span class="c1">#   [</span>
<span class="c1">#     0,</span>
<span class="c1">#     1337566253.89858,</span>
<span class="c1">#     0.000355720520019531</span>
<span class="c1">#   ],</span>
<span class="c1">#   [</span>
<span class="c1">#     [</span>
<span class="c1">#       [</span>
<span class="c1">#         5</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_id&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;_key&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;content&quot;,</span>
<span class="c1">#           &quot;Text&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;created_at&quot;,</span>
<span class="c1">#           &quot;Time&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;n_likes&quot;,</span>
<span class="c1">#           &quot;UInt32&quot;</span>
<span class="c1">#         ],</span>
<span class="c1">#         [</span>
<span class="c1">#           &quot;tag&quot;,</span>
<span class="c1">#           &quot;ShortText&quot;</span>
<span class="c1">#         ]</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         1,</span>
<span class="c1">#         &quot;The first post!&quot;,</span>
<span class="c1">#         &quot;Welcome! This is my first post!&quot;,</span>
<span class="c1">#         1436281200.0,</span>
<span class="c1">#         5,</span>
<span class="c1">#         &quot;Hello&quot;</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         2,</span>
<span class="c1">#         &quot;Groonga&quot;,</span>
<span class="c1">#         &quot;I started to use Groonga. It&#39;s very fast!&quot;,</span>
<span class="c1">#         1436284800.0,</span>
<span class="c1">#         10,</span>
<span class="c1">#         &quot;Groonga&quot;</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         3,</span>
<span class="c1">#         &quot;Mroonga&quot;,</span>
<span class="c1">#         &quot;I also started to use Mroonga. It&#39;s also very fast! Really fast!&quot;,</span>
<span class="c1">#         1436288400.0,</span>
<span class="c1">#         15,</span>
<span class="c1">#         &quot;Groonga&quot;</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         1,</span>
<span class="c1">#         &quot;Good-bye Senna&quot;,</span>
<span class="c1">#         &quot;I migrated all Senna system!&quot;,</span>
<span class="c1">#         1436367600.0,</span>
<span class="c1">#         3,</span>
<span class="c1">#         &quot;Senna&quot;</span>
<span class="c1">#       ],</span>
<span class="c1">#       [</span>
<span class="c1">#         2,</span>
<span class="c1">#         &quot;Good-bye Tritonn&quot;,</span>
<span class="c1">#         &quot;I also migrated all Tritonn system!&quot;,</span>
<span class="c1">#         1436371200.0,</span>
<span class="c1">#         3,</span>
<span class="c1">#         &quot;Senna&quot;</span>
<span class="c1">#       ]</span>
<span class="c1">#     ]</span>
<span class="c1">#   ]</span>
<span class="c1"># ]</span>
</pre></div>
</div>
<p>The default value is <code class="docutils literal notranslate"><span class="pre">yes</span></code>.</p>
</div>
</div>
</div>
<div class="section" id="return-value">
<h2><span class="section-number">7.3.35.6. </span>Return value<a class="headerlink" href="#return-value" title="Permalink to this headline">¶</a></h2>
<p>The return value format of <code class="docutils literal notranslate"><span class="pre">logical_select</span></code> is compatible with
<a class="reference internal" href="select.html"><span class="doc">select</span></a>. See <a class="reference internal" href="select.html#select-return-value"><span class="std std-ref">Return value</span></a> for details.</p>
</div>
</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">7.3.35. <code class="docutils literal notranslate"><span class="pre">logical_select</span></code></a><ul>
<li><a class="reference internal" href="#summary">7.3.35.1. Summary</a></li>
<li><a class="reference internal" href="#syntax">7.3.35.2. Syntax</a></li>
<li><a class="reference internal" href="#differences-from-select">7.3.35.3. Differences from <code class="docutils literal notranslate"><span class="pre">select</span></code></a></li>
<li><a class="reference internal" href="#usage">7.3.35.4. Usage</a><ul>
<li><a class="reference internal" href="#simple-usage">7.3.35.4.1. Simple usage</a></li>
</ul>
</li>
<li><a class="reference internal" href="#parameters">7.3.35.5. Parameters</a><ul>
<li><a class="reference internal" href="#required-parameters">7.3.35.5.1. Required parameters</a><ul>
<li><a class="reference internal" href="#logical-table">7.3.35.5.1.1. <code class="docutils literal notranslate"><span class="pre">logical_table</span></code></a></li>
<li><a class="reference internal" href="#shard-key">7.3.35.5.1.2. <code class="docutils literal notranslate"><span class="pre">shard_key</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#optional-parameters">7.3.35.5.2. Optional parameters</a><ul>
<li><a class="reference internal" href="#min">7.3.35.5.2.1. <code class="docutils literal notranslate"><span class="pre">min</span></code></a></li>
<li><a class="reference internal" href="#min-border">7.3.35.5.2.2. <code class="docutils literal notranslate"><span class="pre">min_border</span></code></a></li>
<li><a class="reference internal" href="#max">7.3.35.5.2.3. <code class="docutils literal notranslate"><span class="pre">max</span></code></a></li>
<li><a class="reference internal" href="#max-border">7.3.35.5.2.4. <code class="docutils literal notranslate"><span class="pre">max_border</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#search-related-parameters">7.3.35.5.3. Search related parameters</a><ul>
<li><a class="reference internal" href="#match-columns">7.3.35.5.3.1. <code class="docutils literal notranslate"><span class="pre">match_columns</span></code></a></li>
<li><a class="reference internal" href="#query">7.3.35.5.3.2. <code class="docutils literal notranslate"><span class="pre">query</span></code></a></li>
<li><a class="reference internal" href="#filter">7.3.35.5.3.3. <code class="docutils literal notranslate"><span class="pre">filter</span></code></a></li>
<li><a class="reference internal" href="#post-filter">7.3.35.5.3.4. <code class="docutils literal notranslate"><span class="pre">post_filter</span></code></a></li>
<li><a class="reference internal" href="#load-table">7.3.35.5.3.5. <code class="docutils literal notranslate"><span class="pre">load_table</span></code></a></li>
<li><a class="reference internal" href="#load-columns">7.3.35.5.3.6. <code class="docutils literal notranslate"><span class="pre">load_columns</span></code></a></li>
<li><a class="reference internal" href="#load-values">7.3.35.5.3.7. <code class="docutils literal notranslate"><span class="pre">load_values</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#advanced-search-parameters">7.3.35.5.4. Advanced search parameters</a><ul>
<li><a class="reference internal" href="#match-escalation-threshold">7.3.35.5.4.1. <code class="docutils literal notranslate"><span class="pre">match_escalation_threshold</span></code></a></li>
<li><a class="reference internal" href="#query-flags">7.3.35.5.4.2. <code class="docutils literal notranslate"><span class="pre">query_flags</span></code></a></li>
<li><a class="reference internal" href="#query-expander">7.3.35.5.4.3. <code class="docutils literal notranslate"><span class="pre">query_expander</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#output-related-parameters">7.3.35.5.5. Output related parameters</a><ul>
<li><a class="reference internal" href="#output-columns">7.3.35.5.5.1. <code class="docutils literal notranslate"><span class="pre">output_columns</span></code></a></li>
<li><a class="reference internal" href="#sortby">7.3.35.5.5.2. <code class="docutils literal notranslate"><span class="pre">sortby</span></code></a></li>
<li><a class="reference internal" href="#sort-keys">7.3.35.5.5.3. <code class="docutils literal notranslate"><span class="pre">sort_keys</span></code></a></li>
<li><a class="reference internal" href="#offset">7.3.35.5.5.4. <code class="docutils literal notranslate"><span class="pre">offset</span></code></a></li>
<li><a class="reference internal" href="#limit">7.3.35.5.5.5. <code class="docutils literal notranslate"><span class="pre">limit</span></code></a></li>
<li><a class="reference internal" href="#scorer">7.3.35.5.5.6. <code class="docutils literal notranslate"><span class="pre">scorer</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#dynamic-column-related-parameters">7.3.35.5.6. Dynamic column related parameters</a><ul>
<li><a class="reference internal" href="#columns-name-stage">7.3.35.5.6.1. <code class="docutils literal notranslate"><span class="pre">columns[${NAME}].stage</span></code></a></li>
<li><a class="reference internal" href="#columns-name-flags">7.3.35.5.6.2. <code class="docutils literal notranslate"><span class="pre">columns[${NAME}].flags</span></code></a></li>
<li><a class="reference internal" href="#columns-name-type">7.3.35.5.6.3. <code class="docutils literal notranslate"><span class="pre">columns[${NAME}].type</span></code></a></li>
<li><a class="reference internal" href="#columns-name-value">7.3.35.5.6.4. <code class="docutils literal notranslate"><span class="pre">columns[${NAME}].value</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#window-function-related-parameters">7.3.35.5.7. Window function related parameters</a><ul>
<li><a class="reference internal" href="#columns-name-window-sort-keys">7.3.35.5.7.1. <code class="docutils literal notranslate"><span class="pre">columns[${NAME}].window.sort_keys</span></code></a></li>
<li><a class="reference internal" href="#columns-name-window-group-keys">7.3.35.5.7.2. <code class="docutils literal notranslate"><span class="pre">columns[${NAME}].window.group_keys</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#drilldown-related-parameters">7.3.35.5.8. Drilldown related parameters</a><ul>
<li><a class="reference internal" href="#drilldown">7.3.35.5.8.1. <code class="docutils literal notranslate"><span class="pre">drilldown</span></code></a></li>
<li><a class="reference internal" href="#drilldown-sortby">7.3.35.5.8.2. <code class="docutils literal notranslate"><span class="pre">drilldown_sortby</span></code></a></li>
<li><a class="reference internal" href="#drilldown-sort-keys">7.3.35.5.8.3. <code class="docutils literal notranslate"><span class="pre">drilldown_sort_keys</span></code></a></li>
<li><a class="reference internal" href="#drilldown-output-columns">7.3.35.5.8.4. <code class="docutils literal notranslate"><span class="pre">drilldown_output_columns</span></code></a></li>
<li><a class="reference internal" href="#drilldown-offset">7.3.35.5.8.5. <code class="docutils literal notranslate"><span class="pre">drilldown_offset</span></code></a></li>
<li><a class="reference internal" href="#drilldown-limit">7.3.35.5.8.6. <code class="docutils literal notranslate"><span class="pre">drilldown_limit</span></code></a></li>
<li><a class="reference internal" href="#drilldown-calc-types">7.3.35.5.8.7. <code class="docutils literal notranslate"><span class="pre">drilldown_calc_types</span></code></a></li>
<li><a class="reference internal" href="#drilldown-calc-target">7.3.35.5.8.8. <code class="docutils literal notranslate"><span class="pre">drilldown_calc_target</span></code></a></li>
<li><a class="reference internal" href="#drilldown-filter">7.3.35.5.8.9. <code class="docutils literal notranslate"><span class="pre">drilldown_filter</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#advanced-drilldown-related-parameters">7.3.35.5.9. Advanced drilldown related parameters</a><ul>
<li><a class="reference internal" href="#drilldowns-label-keys">7.3.35.5.9.1. <code class="docutils literal notranslate"><span class="pre">drilldowns[${LABEL}].keys</span></code></a></li>
<li><a class="reference internal" href="#drilldowns-label-output-columns">7.3.35.5.9.2. <code class="docutils literal notranslate"><span class="pre">drilldowns[${LABEL}].output_columns</span></code></a></li>
<li><a class="reference internal" href="#drilldowns-label-sortby">7.3.35.5.9.3. <code class="docutils literal notranslate"><span class="pre">drilldowns[${LABEL}].sortby</span></code></a></li>
<li><a class="reference internal" href="#drilldowns-label-sort-keys">7.3.35.5.9.4. <code class="docutils literal notranslate"><span class="pre">drilldowns[${LABEL}].sort_keys</span></code></a></li>
<li><a class="reference internal" href="#drilldowns-label-offset">7.3.35.5.9.5. <code class="docutils literal notranslate"><span class="pre">drilldowns[${LABEL}].offset</span></code></a></li>
<li><a class="reference internal" href="#drilldowns-label-limit">7.3.35.5.9.6. <code class="docutils literal notranslate"><span class="pre">drilldowns[${LABEL}].limit</span></code></a></li>
<li><a class="reference internal" href="#drilldowns-label-calc-types">7.3.35.5.9.7. <code class="docutils literal notranslate"><span class="pre">drilldowns[${LABEL}].calc_types</span></code></a></li>
<li><a class="reference internal" href="#drilldowns-label-calc-target">7.3.35.5.9.8. <code class="docutils literal notranslate"><span class="pre">drilldowns[${LABEL}].calc_target</span></code></a></li>
<li><a class="reference internal" href="#drilldowns-label-filter">7.3.35.5.9.9. <code class="docutils literal notranslate"><span class="pre">drilldowns[${LABEL}].filter</span></code></a></li>
<li><a class="reference internal" href="#drilldowns-label-columns-name-stage">7.3.35.5.9.10. <code class="docutils literal notranslate"><span class="pre">drilldowns[${LABEL}].columns[${NAME}].stage</span></code></a></li>
<li><a class="reference internal" href="#drilldowns-label-columns-name-flags">7.3.35.5.9.11. <code class="docutils literal notranslate"><span class="pre">drilldowns[${LABEL}].columns[${NAME}].flags</span></code></a></li>
<li><a class="reference internal" href="#drilldowns-label-columns-name-type">7.3.35.5.9.12. <code class="docutils literal notranslate"><span class="pre">drilldowns[${LABEL}].columns[${NAME}].type</span></code></a></li>
<li><a class="reference internal" href="#drilldowns-label-columns-name-value">7.3.35.5.9.13. <code class="docutils literal notranslate"><span class="pre">drilldowns[${LABEL}].columns[${NAME}].value</span></code></a></li>
<li><a class="reference internal" href="#drilldowns-label-columns-name-window-sort-keys">7.3.35.5.9.14. <code class="docutils literal notranslate"><span class="pre">drilldowns[${LABEL}].columns[${NAME}].window.sort_keys</span></code></a></li>
<li><a class="reference internal" href="#drilldowns-label-columns-name-window-group-keys">7.3.35.5.9.15. <code class="docutils literal notranslate"><span class="pre">drilldowns[${LABEL}].columns[${NAME}].window.group_keys</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#cache-related-parameter">7.3.35.5.10. Cache related parameter</a><ul>
<li><a class="reference internal" href="#cache">7.3.35.5.10.1. <code class="docutils literal notranslate"><span class="pre">cache</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#return-value">7.3.35.6. Return value</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="logical_range_filter.html"
                        title="previous chapter"><span class="section-number">7.3.34. </span><code class="docutils literal notranslate"><span class="pre">logical_range_filter</span></code></a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="logical_shard_list.html"
                        title="next chapter"><span class="section-number">7.3.36. </span><code class="docutils literal notranslate"><span class="pre">logical_shard_list</span></code></a></p>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="logical_shard_list.html" title="7.3.36. logical_shard_list"
             >next</a> |</li>
        <li class="right" >
          <a href="logical_range_filter.html" title="7.3.34. logical_range_filter"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">Groonga v11.0.6 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../reference.html" ><span class="section-number">7. </span>Reference manual</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../command.html" ><span class="section-number">7.3. </span>Command</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><span class="section-number">7.3.35. </span><code class="docutils literal notranslate"><span class="pre">logical_select</span></code></a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2009-2021, Brazil, Inc.
    </div>
      <script src="http://connect.facebook.net/en_US/all.js"></script>

    <script>
      FB.init({
         appId  : null,
         status : true, // check login status
         cookie : true, // enable cookies to allow the server to access the session
         xfbml  : true  // parse XFBML
      });
    </script>
  </body>

</html>