---
layout: post.ja
title: groonga 2.1.1リリース
description: groonga 2.1.1をリリースしました！
---

先月12/29にgroonga 2.1.0をリリースしましたが、その直後に2.1.1をリリースしました。
このリリースはバグフィックスリリースで、 @KEY_NORMALIZE@ 関連の深刻なバグを修正しました。

h2. groonga 2.1.1リリース

2012-12-29に "groonga 2.1.1":/ja/docs/news.html#release-2-1-1 をリリースしました。

それぞれの環境毎のインストール方法: "インストール":/ja/docs/install.html
2.1.0からの変更点は "2.1.1リリース 2012/12/29":/ja/docs/news.html#release-2-1-1 をご覧ください。

今回のリリースはバグフィックスリリースです。次に修正されたバグについて説明します。

h3. KEY_NORMALIZE関連の情報が失われるバグについて

1つ前のバージョンである2.1.0には、2.0.9以前で作成したデータベースを開くと、データベース中の @KEY_NORMALIZE@ 関連の情報が失われてしまうバグがありました。（ @KEY_NORMALIZE@ を使っていないデータベースでは問題ありません。）
@KEY_NORMALIZE@ は "table_createコマンドのflagsオプション":/ja/docs/reference/commands/table_create.html#flags に指定する値です。2.1.0から @--normalizer@ オプションが追加されたことにともなって非推奨になり、代わりに @--normlizer@ オプションに @NormalizerAuto@ を指定するようになりました。
この変更によって、データベース内のテーブルの @flags@ オプションに @KEY_NORMALIZE@ オプションが指定されていた場合は、データベースを開く際に @--normalizer@ オプションに @NormalizerAuto@ が指定されたように @flags@ の値をgroonga内部で修正するようにしました。しかし、この時の処理に不具合があり、 @flags@ の値が正しく修正されていませんでした。そのため @KEY_NORMALIZE@ が設定されてないとみなしてしまい、情報が消えてしまう結果になりました。

このバグを、2.1.1では修正しました。もし、2.1.0を使用している場合はアップデートして2.1.1を利用するようにしてください。

h3. 2.0.9以前のデータベースを開く際の注意点

@--normalizer@ オプションの追加にともなって、2.0.9以前のgroongaで作成したデータベースを開く際に注意点があります。
@--normalizer@ オプションの副作用により、1度でも2.0.9以前（ @--normalizer@ オプションがサポートされる前）のgroongaで作成したデータベースを開くと、2.0.9以前のgroongaではデータベースを開けなくなります。
複数のバージョンのgroongaを同時に使わないようにご留意をお願いします。

h3. さいごに

2.1.0では、他にもコマンドリストでの継続行サポートや、 @snippet_html()@ 関数での引数への式のサポートなど、いろいろ改善が行われました。
詳しくは "2.1.0リリース時の変更点":/ja/docs/news.html#release-2-1-0 をご覧ください。

それでは、groongaを使ってガンガン検索してください！
