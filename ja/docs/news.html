<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="ja">
  <head>
    <meta charset="utf-8" />
    <title>お知らせ &#8212; Groonga v9.0.7ドキュメント</title>
    <link rel="stylesheet" href="static/groonga.css" type="text/css" />
    <link rel="stylesheet" href="static/pygments.css" type="text/css" />
    
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="static/documentation_options.js"></script>
    <script type="text/javascript" src="static/jquery.js"></script>
    <script type="text/javascript" src="static/underscore.js"></script>
    <script type="text/javascript" src="static/doctools.js"></script>
    <script type="text/javascript" src="static/language_data.js"></script>
    <script type="text/javascript" src="static/translations.js"></script>
    
    <link rel="shortcut icon" href="static/favicon.ico"/>
    <link rel="index" title="索引" href="genindex.html" />
    <link rel="search" title="検索" href="search.html" /> 
      <meta property="fb:page_id" content="201193596592346" /><!-- groonga -->
    <meta property="fb:admins" content="664204556" /><!-- kouhei.sutou -->
    <meta property="og:type" content="product" />
    <meta property="og:image" content="http://groonga.org/images/logos/groonga-icon-full-size.png" />
    <meta property="og:site_name" content="groonga" />

    <link rel="stylesheet" href="/css/sphinx.css" type="text/css" />
  </head>
  <body>
    <div id="fb-root"></div>

<div class="header">
  <h1 class="title">
    <a id="top-link" href="./../">
      <span class="project">groonga</span>
      <span class="separator">-</span>
      <span class="description">オープンソースのカラムストア機能付き全文検索エンジン</span>
    </a>
  </h1>

      <div class="facebook-buttons">
      <fb:like href="http://www.facebook.com/pages/groonga/201193596592346"
               layout="standard"
               width="290"></fb:like>
    </div>
    <div class="other-language-links">

    <ul>
      <li><a href="../../docs/news.html">English</a></li>
    </ul>
  </div>
</div>
  

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>ナビゲーション</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="総合索引"
             accesskey="I">索引</a></li>
        <li class="nav-item nav-item-0"><a href="index.html">Groonga v9.0.7ドキュメント</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="news">
<h1>お知らせ<a class="headerlink" href="#news" title="このヘッドラインへのパーマリンク">¶</a></h1>
<div class="section" id="release-9-0-7-2019-08-29">
<span id="release-9-0-7"></span><h2>9.0.7リリース - 2019-08-29<a class="headerlink" href="#release-9-0-7-2019-08-29" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="improvements">
<h3>改良<a class="headerlink" href="#improvements" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li><p>[httpd] バンドルしているnginxのバージョンを1.17.3に更新しました。</p>
<ul>
<li><p>CVE-2019-9511、CVE-2019-9513、CVE-2019-9516のセキュリティの修正が含まれています。</p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="fixes">
<h3>修正<a class="headerlink" href="#fixes" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li><p>ポスティングリストが巨大になった時にGroongaがクラッシュする問題を修正しました。</p>
<ul>
<li><p>ただし、このバグは、一般的なデータでは殆ど発生しません。ポスティングリストは、一般的なデータでは、そこまで大きくならないためです。</p></li>
</ul>
</li>
<li><p>動的カラムのステージに <code class="docutils literal notranslate"><span class="pre">initial</span></code> を指定し、インデックスを使用した検索をすると空の結果を返す問題を修正しました。 [GitHub#683]</p></li>
<li><p>configure時にlibeditがインストールされているにもかかわらず、検知しない問題を修正しました。 [GitHub#1030][yuさんがパッチ提供]</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--slices</span></code> と <code class="docutils literal notranslate"><span class="pre">--sort_keys</span></code> オプション使用時に <code class="docutils literal notranslate"><span class="pre">--offset</span></code> と <code class="docutils literal notranslate"><span class="pre">--limit</span></code> オプションが動作しない問題を修正しました。 [clear-code/redmine_full_text_search#70][a9zawaさんの報告]</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">select</span></code> コマンドの結果が巨大な時、検索結果が空になる問題を修正しました。[groonga-dev,04770][Yutaro Shimamuraさんの報告]</p></li>
<li><p>前方一致検索や後方一致検索時に適切なインデックスを使わない問題を修正しました。[GitHub#1007, PGroonga#GitHub#96][oknjさんの報告]</p></li>
</ul>
</div>
<div class="section" id="thanks">
<h3>感謝<a class="headerlink" href="#thanks" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li><p>oknjさん</p></li>
<li><p>Yutaro Shimamuraさん</p></li>
<li><p>yuさん</p></li>
<li><p>a9zawaさん</p></li>
</ul>
</div>
</div>
<div class="section" id="release-9-0-6-2019-08-05">
<span id="release-9-0-6"></span><h2>9.0.6リリース - 2019-08-05<a class="headerlink" href="#release-9-0-6-2019-08-05" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id1">
<h3>改良<a class="headerlink" href="#id1" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li><p>Debian 10 (buster)をサポートしました。</p></li>
</ul>
</div>
<div class="section" id="id2">
<h3>修正<a class="headerlink" href="#id2" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li><p>[<a class="reference internal" href="reference/commands/select.html"><span class="doc">select</span></a>] 検索エスカレーションが起こった際に検索がエラーになるバグを修正しました。</p></li>
<li><p>[<a class="reference internal" href="reference/commands/select.html"><span class="doc">select</span></a>] ネストされた等価演算を使った際に、誤った検索結果を返すことがあるバグを修正しました。</p></li>
<li><p>[geo_distance_location_rectangle] <code class="docutils literal notranslate"><span class="pre">load</span></code> のフォーマットが誤っている例を修正しました。 [GitHub#1023] [yagisumiさんがパッチ提供]</p></li>
<li><p>[<a class="reference internal" href="tutorial/micro_blog.html"><span class="doc">マイクロブログ検索システムの作成</span></a>] 検索結果が誤っている例を修正しました。[GitHub#1024][yagisumiさんがパッチ提供]</p></li>
</ul>
</div>
<div class="section" id="id3">
<h3>感謝<a class="headerlink" href="#id3" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li><p>yagisumiさん</p></li>
</ul>
</div>
</div>
<div class="section" id="release-9-0-5-2019-07-30">
<span id="release-9-0-5"></span><h2>9.0.5リリース - 2019-07-30<a class="headerlink" href="#release-9-0-5-2019-07-30" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="admonition warning">
<p class="admonition-title">警告</p>
<p>このリリースには影響の大きい不具合があることがわかりました。<code class="docutils literal notranslate"><span class="pre">select</span></code> コマンドが誤った結果を返します。この問題を修正し、9.0.6をリリースする予定です。Groonga 9.0.5は使わず、後日リリースされる9.0.6を使ってください。問題の詳細については <a class="reference external" href="http://groonga.org/ja/blog/2019/07/30/groonga-9.0.5.html">http://groonga.org/ja/blog/2019/07/30/groonga-9.0.5.html</a> で解説しています。</p>
</div>
<div class="section" id="id4">
<h3>改良<a class="headerlink" href="#id4" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li><p>[<a class="reference internal" href="reference/commands/logical_range_filter.html"><span class="doc">logical_range_filter</span></a>] 検索対象のシャードが十分に大きい時にのみ最適化を適用するように改良しました。</p>
<ul>
<li><p>この機能は、ソートキーが同じ時にオフセット間で検索結果が重複するのを減らします。</p></li>
<li><p>十分に大きいのしきい値はデフォルトで10000レコードです。</p></li>
</ul>
</li>
<li><p>[<a class="reference internal" href="reference/normalizers.html"><span class="doc">ノーマライザー</span></a>] <code class="docutils literal notranslate"><span class="pre">NormalizerNFKC100</span></code> に新しいオプション <code class="docutils literal notranslate"><span class="pre">unify_to_katakana</span></code> を追加しました。</p>
<ul>
<li><p>このオプションは、平仮名を片仮名にノーマライズします。</p></li>
<li><p>例えば、 <code class="docutils literal notranslate"><span class="pre">ゔぁゔぃゔゔぇゔぉ</span></code> を <code class="docutils literal notranslate"><span class="pre">ヴァヴィヴヴェヴォ</span></code> にノーマライズします。</p></li>
</ul>
</li>
<li><p>[<a class="reference internal" href="reference/commands/select.html"><span class="doc">select</span></a>] slicesパラメーターでdrilldownsをサポートしました。</p></li>
<li><p>[<a class="reference internal" href="reference/commands/select.html"><span class="doc">select</span></a>] slicesパラメーターでcolumnsをサポートしました。</p></li>
<li><p>[<a class="reference internal" href="reference/commands/select.html"><span class="doc">select</span></a>] initialステージ内でslicesパラメーターが <code class="docutils literal notranslate"><span class="pre">_score</span></code> を参照できるよう改良しました。</p></li>
<li><p>[<a class="reference internal" href="reference/functions/highlight_html.html"><span class="doc">highlight_html</span></a>], [<a class="reference internal" href="reference/functions/snippet_html.html"><span class="doc">snippet_html</span></a>] slicesパラメータ指定時に、slices実行前の式からもキーワードを抽出するように改良しました。</p></li>
<li><p>slicesパラメータ指定時に、slices実行前の式からもスコアーを収集するように改良しました。</p></li>
<li><p>ポスティングリストにポスティングを追加する際に自動的にスコアーを1増やすのをやめました。</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">grn_ii_posting_add</span></code> は、この変更によって後方互換性がなくなりました。互換性を保つには、呼び出し側でスコアーを増やす必要があります。</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">XXX.YYY.ZZZ</span> <span class="pre">==</span> <span class="pre">AAA</span></code> のようなネストされた等価演算のインデックス検索をサポートしました。</p></li>
<li><p>ハッシュテーブル使用時にハッシュの再構築の間隔を少なくしました。</p>
<ul>
<li><p>この昨日によって、結果出力のパフォーマンスが改善します。</p></li>
</ul>
</li>
<li><p>クエリーログにプレフィックスを追加できるようになりました。</p>
<ul>
<li><p>どの条件のフィルターなのかわかりやすくなります。</p></li>
</ul>
</li>
<li><p>Apache Arrow 1.0.0 をサポートしました。</p>
<ul>
<li><p>ただし、このバージョンはまだ、リリースされていません。</p></li>
</ul>
</li>
<li><p>Amazon Linux 2 をサポートしました。</p></li>
</ul>
</div>
<div class="section" id="id5">
<h3>修正<a class="headerlink" href="#id5" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;[1,</span> <span class="pre">2,</span> <span class="pre">3]&quot;</span></code> のようなJSONのベクター値がインデックスされないバグを修正しました。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">table_create</span></code> のテストのパラメーター名が誤っていたバグを修正しました。[GitHub#1000][yagisumiさんがパッチ提供]</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">command_version=3</span></code> でdrilldownコマンドが実行された際に、ドリルダウンのラベルが空になるバグを修正しました。[GitHub#1001][yagisumiさんの報告]</p></li>
<li><p>MinGWでWindows版のパッケージのビルドが失敗するバグを修正しました。</p></li>
<li><p>MinGWのWindows版パッケージにCOPYINGがインストールされないバグを修正しました。</p></li>
<li><p>ハイライト対象として、クエリーにテキスト以外を指定した際に、キーワードがハイライトされないバグを修正しました。</p></li>
<li><p>[<a class="reference internal" href="reference/commands/object_inspect.html"><span class="doc">object_inspect</span></a>] のMessagePack形式の出力が壊れるバグを修正しました。[GitHub#1009][yagisumiさんの報告]</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">index_column_diff</span></code> のMessagePack形式の出力が壊れるバグを修正しました。[GitHub#1009][yagisumiさんの報告]</p></li>
<li><p>[<a class="reference internal" href="reference/commands/suggest.html"><span class="doc">suggest</span></a>] のMessagePack形式の出力が壊れるバグを修正しました。[GitHub#1011][yagisumiさんの報告]</p></li>
<li><p>パトリシアトライのテーブルの検索時などにreallocのサイズが十分に確保されないバグを修正しました。[島津製作所さんの報告]</p>
<ul>
<li><p>Groongaはこのバグでクラッシュする可能性があります。</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">groonga-release</span></code> version 1.5.0より前から1.5.0-1へアップデートした際に <code class="docutils literal notranslate"><span class="pre">groonga.repo</span></code> が削除されるバグを修正しました。[groonga-talk:429][Josep Sanzさんの報告]</p></li>
</ul>
</div>
<div class="section" id="id6">
<h3>感謝<a class="headerlink" href="#id6" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li><p>yagisumiさん</p></li>
<li><p>島津製作所さん</p></li>
<li><p>Josep Sanzさん</p></li>
</ul>
</div>
</div>
<div class="section" id="release-9-0-4-2019-06-29">
<span id="release-9-0-4"></span><h2>9.0.4リリース - 2019-06-29<a class="headerlink" href="#release-9-0-4-2019-06-29" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id7">
<h3>改良<a class="headerlink" href="#id7" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li><p>配列リテラルの複数要素をサポートしました。</p></li>
<li><p>ベクターの等価演算をサポートしました。</p></li>
<li><p>[<a class="reference internal" href="reference/commands/logical_range_filter.html"><span class="doc">logical_range_filter</span></a>] 出力するクエリーログを追加しました。</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">logical_range_filter</span></code> コマンドが、以下のタイミングでログを出力するようになります。</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">logical_range_filter</span></code> によるフィルター後</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">logical_range_filter</span></code> によるソート後</p></li>
<li><p>動的カラム適用後</p></li>
<li><p>結果出力後</p></li>
</ul>
</li>
<li><p>この機能によって、このコマンドがどこまで完了したかを見ることができます。</p></li>
</ul>
</li>
<li><p>[<a class="reference internal" href="reference/tokenizers.html"><span class="doc">トークナイザー</span></a>] <code class="docutils literal notranslate"><span class="pre">TokenPattern</span></code> の説明をドキュメントに追加しました。</p></li>
<li><p>[<a class="reference internal" href="reference/tokenizers.html"><span class="doc">トークナイザー</span></a>] <code class="docutils literal notranslate"><span class="pre">TokenTable</span></code> の説明をドキュメントに追加しました。</p></li>
<li><p>[<a class="reference internal" href="reference/tokenizers.html"><span class="doc">トークナイザー</span></a>] <code class="docutils literal notranslate"><span class="pre">TokenNgram</span></code> の説明をドキュメントに追加しました。</p></li>
<li><p>[<a class="reference internal" href="reference/executables/grndb.html"><span class="doc">grndb</span></a>] groonga.logへの操作ログの出力を追加しました。</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">grndb</span></code> コマンドが実行結果と実行過程を出力するようになります。</p></li>
</ul>
</li>
<li><p>[<a class="reference internal" href="reference/executables/grndb.html"><span class="doc">grndb</span></a>] 空のファイルのチェックをサポートしました。</p>
<ul>
<li><p>この機能によって、空のファイルが存在するかどうかをチェックできます。</p></li>
</ul>
</li>
<li><p>[<a class="reference internal" href="reference/executables/grndb.html"><span class="doc">grndb</span></a>] 新しいオプション <code class="docutils literal notranslate"><span class="pre">--since</span></code> を追加しました。</p>
<ul>
<li><p>検査の範囲を指定できます。</p></li>
</ul>
</li>
<li><p>[<a class="reference internal" href="reference/executables/grndb.html"><span class="doc">grndb</span></a>] 新しいオプション <code class="docutils literal notranslate"><span class="pre">--since</span></code> についてのドキュメントを追加しました。</p></li>
<li><p>RapidJSONをバンドルしました。</p>
<ul>
<li><p>部分的にGroongaのJSONパーサーとしてRapidJSONを使うことができます。(この機能はまだ部分的です。)</p></li>
<li><p>これを使うことでより厳格なJSONのパースができます。</p></li>
</ul>
</li>
<li><p>JSON文字列からint32のベクターへのキャストをサポートしました。</p>
<ul>
<li><p>この機能は、RapidJSONが必要です。</p></li>
</ul>
</li>
<li><p>[<a class="reference internal" href="reference/functions/query.html"><span class="doc">query</span></a>] <code class="docutils literal notranslate"><span class="pre">default_operator</span></code> を追加しました。</p>
<ul>
<li><p>&quot;keyword1 keyword2&quot;時の演算子をカスタマイズできます。</p></li>
<li><p>デフォルトでは、&quot;keyword1 keyword2&quot;はAND演算です。</p></li>
<li><p>&quot;keyword1 keyword2&quot;の演算子をAND以外に変更できます。</p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="id8">
<h3>修正<a class="headerlink" href="#id8" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li><p>[optimizer] 複数のfilter条件と <code class="docutils literal notranslate"><span class="pre">xxx.yyy==&quot;keyword&quot;</span></code> のような条件を指定した際にエラーが発生するバグを修正しました。</p></li>
<li><p>GroongaのWindows用のパッケージ(VC++版)に不足していたライセンスファイルを追加しました。</p></li>
<li><p>GroongaのWindows用のパッケージ(VC++版)UCRTランタイムを追加しました。</p></li>
<li><p>[<a class="reference internal" href="reference/window_function.html"><span class="doc">ウィンドウ関数</span></a>] メモリリークを修正しました。</p>
<ul>
<li><p>これは、複数のウインドウに対してソートキーを適用した際に発生します。 [Takashi Hashidaさんがパッチ提供]</p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="id9">
<h3>感謝<a class="headerlink" href="#id9" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li><p>Takashi Hashidaさん</p></li>
</ul>
</div>
</div>
<div class="section" id="release-9-0-3-2019-05-29">
<span id="release-9-0-3"></span><h2>9.0.3リリース - 2019-05-29<a class="headerlink" href="#release-9-0-3-2019-05-29" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id10">
<h3>改良<a class="headerlink" href="#id10" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li><p>[<a class="reference internal" href="reference/commands/select.html"><span class="doc">select</span></a>] より多くのクエリーログを追加しました。</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">select</span></code> コマンドが、以下のタイミングでログを出力するようになります。</p>
<ul>
<li><p>ドリルダウンによるソート後</p></li>
<li><p>ドリルダウンによるフィルター後</p></li>
</ul>
</li>
<li><p>この機能によって、このコマンドがどこまで完了したかを見ることができます。</p></li>
</ul>
</li>
<li><p>[<a class="reference internal" href="reference/commands/logical_select.html"><span class="doc">logical_select</span></a>] より多くのクエリーログを追加しました。</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">logical_select</span></code> コマンドが、以下のタイミングでログを出力するようになります。</p>
<ul>
<li><p>動的カラム作成後</p></li>
<li><p>ドリルダウンによるグループ化後</p></li>
<li><p>ドリルダウンによるソート後</p></li>
<li><p>ドリルダウンによるフィルター後</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">logical_select</span></code> によるソート後</p></li>
</ul>
</li>
<li><p>この機能によって、このコマンドがどこまで完了したかを見ることができます。</p></li>
</ul>
</li>
<li><p>[<a class="reference internal" href="reference/commands/logical_select.html"><span class="doc">logical_select</span></a>] <code class="docutils literal notranslate"><span class="pre">limit</span></code> オプションを使用したときのソートのパフォーマンスを少し改善しました。</p></li>
<li><p>[index_column_diff] パフォーマンスを改善しました。</p>
<ul>
<li><p>このコマンドの実行速度を大幅に短くしました。</p></li>
</ul>
</li>
<li><p>[index_column_diff] 無効な参照を無視するように改良しました。</p></li>
<li><p>[index_column_diff] ベクター要素の重複に対応しました。</p></li>
<li><p>[Normalizers] Unicode 12.1 の NFKC（Normalization Form Compatibility Composition）をベースにしたノーマライザー <code class="docutils literal notranslate"><span class="pre">NormalizerNFKC121</span></code> を追加しました。</p></li>
<li><p>[TokenFilters] Unicode 12.1 の NFKC（Normalization Form Compatibility Composition）をベースにしたトークンフィルター <code class="docutils literal notranslate"><span class="pre">NormalizerNFKC121</span></code> を追加しました。</p></li>
<li><p>[<a class="reference internal" href="reference/executables/grndb.html"><span class="doc">grndb</span></a>] 新しいオプション <code class="docutils literal notranslate"><span class="pre">--log-flags</span></code> を追加しました。</p>
<ul>
<li><p>groonga実行ファイルと同様、ログに出力する項目を指定できます。</p></li>
<li><p>サポートされているログフラグについては、[<a class="reference internal" href="reference/executables/groonga.html"><span class="doc">groonga 実行ファイル</span></a>] を参照してください。</p></li>
</ul>
</li>
<li><p>[<a class="reference internal" href="reference/functions/snippet_html.html"><span class="doc">snippet_html</span></a>] 検索にマッチしない時の戻り値を変更する新しいオプションを追加しました。</p></li>
<li><p>[<a class="reference internal" href="reference/commands/plugin_unregister.html"><span class="doc">plugin_unregister</span></a>] Windowsのフルパスをサポートしました。</p></li>
<li><p>複数行のログメッセージをサポートしました。</p>
<ul>
<li><p>この機能によって、複数行に渡るログメッセージが見やすくなります。</p></li>
</ul>
</li>
<li><p>インデックスを使って検索した際、キーをGroongaのログに出力するようにしました。</p></li>
<li><p>[<a class="reference internal" href="tutorial/match_columns.html"><span class="doc">match_columnsパラメータ</span></a>] インデックスの重みのドキュメントを追加しました。</p></li>
<li><p>[<a class="reference internal" href="reference/commands/logical_range_filter.html"><span class="doc">logical_range_filter</span></a>] <code class="docutils literal notranslate"><span class="pre">order</span></code> パラメータの説明を追加しました。</p></li>
<li><p>[<a class="reference internal" href="reference/commands/object_inspect.html"><span class="doc">object_inspect</span></a>] 新しい統計 <code class="docutils literal notranslate"><span class="pre">INDEX_COLUMN_VALUE_STATISTICS_NEXT_PHYSICAL_SEGMENT_ID</span></code> と <code class="docutils literal notranslate"><span class="pre">INDEX_COLUMN_VALUE_STATISTICS_N_PHYSICAL_SEGMENTS</span></code> の説明を追加しました。</p></li>
<li><p>Ubuntu 14.04 のサポートをやめました。</p></li>
</ul>
</div>
<div class="section" id="id11">
<h3>修正<a class="headerlink" href="#id11" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li><p>[index_column_diff] <code class="docutils literal notranslate"><span class="pre">remains</span></code> を多く報告するバグを修正しました。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--without-onigmo</span></code> オプションを使った際にビルドエラーになるバグを修正しました。[GitHub#951] [Tomohiro KATOさんが報告]</p></li>
<li><p>&quot;CVE: 2019-11675&quot;の脆弱性を修正しました。[Wolfgang Hotwagnerさんが報告]</p></li>
<li><p>Windows版のGroongaにて、拡張パスプレフィックス <code class="docutils literal notranslate"><span class="pre">\\?\</span></code> を削除しました。[GitHub#958] [yagisumiさんが報告]</p>
<ul>
<li><p>この拡張プレフィックスは、プラグインを正確に見つけられないというバグを引き起こします。</p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="id12">
<h3>感謝<a class="headerlink" href="#id12" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li><p>Tomohiro KATOさん</p></li>
<li><p>Wolfgang Hotwagnerさん</p></li>
<li><p>yagisumiさん</p></li>
</ul>
</div>
</div>
<div class="section" id="release-9-0-2-2019-04-29">
<span id="release-9-0-2"></span><h2>9.0.2リリース - 2019-04-29<a class="headerlink" href="#release-9-0-2-2019-04-29" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>このリリースからVC++で作成したWindows版パッケージを提供します。</p>
<p>今までどおり、MinGWで作成したWindows版パッケージも提供しますが、近いうちにMinGWで作ったパッケージの代わりにVC++で作ったパッケージを提供する予定です。</p>
<div class="section" id="id13">
<h3>改良<a class="headerlink" href="#id13" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li><p>[<a class="reference internal" href="reference/commands/column_create.html"><span class="doc">column_create</span></a>] 新しいフラグ <code class="docutils literal notranslate"><span class="pre">INDEX_LARGE</span></code> を追加しました。</p>
<ul>
<li><p>このフラグによって、デフォルトの2倍の領域を持つインデックスカラムを作成できます。</p></li>
<li><p>ただ、メモリ使用量も2倍となることに注意して下さい。</p></li>
<li><p>このフラグは、インデックス対象のデータが大きい時に有用です。</p></li>
<li><p>大きいデータとは、大量のレコード（通常は少なくとも1000万レコード以上）があり、少なくとも次のうちの1つ以上の特徴があります。</p>
<ul>
<li><p>インデックス対象が複数のカラム</p></li>
<li><p>インデックステーブルにトークナイザーが付いている</p></li>
</ul>
</li>
</ul>
</li>
<li><p>[<a class="reference internal" href="reference/commands/object_inspect.html"><span class="doc">object_inspect</span></a>] セグメントの新しい統計値 <code class="docutils literal notranslate"><span class="pre">next_physical_segment_id</span></code> と <code class="docutils literal notranslate"><span class="pre">max_n_physical_segments</span></code> を追加しました。</p>
<ul>
<li><p>この情報で、インデックスカラムの領域の使用量とインデックスカラムの領域の最大値を確認できます。</p></li>
</ul>
</li>
<li><p>[<a class="reference internal" href="reference/commands/logical_select.html"><span class="doc">logical_select</span></a>] シャードをまたがったウィンドウ関数をサポートしました。</p></li>
<li><p>[<a class="reference internal" href="reference/commands/logical_range_filter.html"><span class="doc">logical_range_filter</span></a>] シャードをまたがったウインドウ関数をサポートしました。</p></li>
<li><p>[<a class="reference internal" href="reference/commands/logical_count.html"><span class="doc">logical_count</span></a>] シャードをまたがったウインドウ関数をサポートしました。</p></li>
<li><p>このリリースからVC++で作成したWindows版パッケージを提供するようにしました。</p></li>
<li><p>[<a class="reference internal" href="reference/commands/io_flush.html"><span class="doc">io_flush</span></a>] 新しいオプション <code class="docutils literal notranslate"><span class="pre">--recursive</span> <span class="pre">dependent</span></code> を追加しました。</p>
<ul>
<li><p>指定した書き出し対象オブジェクトとその子オブジェクトすべて、参照先のテーブル、インデックスが張られているカラムがある場合、対応するインデックスカラムとそのインデックスカラムのテーブルを書き出し対象オブジェクトにできます。</p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="id14">
<h3>修正<a class="headerlink" href="#id14" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li><p>一部の環境でコンパイルエラー &quot;unknown type name 'bool'&quot; が発生する問題を修正しました。</p></li>
<li><p>mrubyを経由して実行するコマンド(例えば、 <code class="docutils literal notranslate"><span class="pre">logical_select</span></code>、 <code class="docutils literal notranslate"><span class="pre">logical_range_filter</span></code>、 <code class="docutils literal notranslate"><span class="pre">logical_count</span></code> 等)で、Int32を超える数を正しく出力できない問題を修正しました。[GitHub#936] [HashidaTKSさんがパッチ提供]</p></li>
</ul>
</div>
<div class="section" id="id15">
<h3>感謝<a class="headerlink" href="#id15" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li><p>HashidaTKSさん</p></li>
</ul>
</div>
</div>
<div class="section" id="release-9-0-1-2019-03-29">
<span id="release-9-0-1"></span><h2>9.0.1リリース - 2019-03-29<a class="headerlink" href="#release-9-0-1-2019-03-29" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id16">
<h3>改良<a class="headerlink" href="#id16" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li><p>ベクターの値にnullが使えるようになりました。</p>
<ul>
<li><p><cite>select ... --columns[vector].flags COLUMN_VECTOR --columns[vector].value &quot;null&quot;</cite> のように使用できます。</p></li>
</ul>
</li>
<li><p>[<a class="reference internal" href="reference/commands/dump.html"><span class="doc">dump</span></a>] ドキュメントを英語に翻訳しました。</p></li>
<li><p>無効なインデックスのチェックとログへの記録を強化しました。インデックス関連のバグを発見するのに役立ちます。</p></li>
<li><p><a class="reference internal" href="#release-8-0-6"><span class="std std-ref">8.0.6リリース - 2018-08-29</span></a> の <code class="docutils literal notranslate"><span class="pre">GRN_TABLE_SELECT_ENOUGH_FILTERED_RATIO</span></code> の説明を改善しました。</p></li>
<li><p>[<a class="reference internal" href="reference/commands/select.html"><span class="doc">select</span></a>] 新しい引数 <code class="docutils literal notranslate"><span class="pre">--load_table</span></code> 、<code class="docutils literal notranslate"><span class="pre">--load_columns</span></code> 、 <code class="docutils literal notranslate"><span class="pre">--load_values</span></code> を追加しました。</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">select</span></code> の結果を <code class="docutils literal notranslate"><span class="pre">--load_table</span></code> で指定したテーブルへ格納できます。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--load_values</span></code> オプションは、<code class="docutils literal notranslate"><span class="pre">select</span></code> の結果のカラムを指定します。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--load_columns</span></code> オプションは、<code class="docutils literal notranslate"><span class="pre">--load_table</span></code> で指定したテーブルのカラムを指定します。</p></li>
<li><p>このようにして、<code class="docutils literal notranslate"><span class="pre">--load_values</span></code> で指定したカラムの値を、 <code class="docutils literal notranslate"><span class="pre">--load_columns</span></code> で指定したカラムへ格納できます。</p></li>
</ul>
</li>
<li><p>[<a class="reference internal" href="reference/commands/select.html"><span class="doc">select</span></a>] 新しい引数 <code class="docutils literal notranslate"><span class="pre">--load_table</span></code> 、<code class="docutils literal notranslate"><span class="pre">--load_columns</span></code> 、 <code class="docutils literal notranslate"><span class="pre">--load_values</span></code> を追加しました。</p></li>
<li><p>[<a class="reference internal" href="reference/commands/load.html"><span class="doc">load</span></a>] ロード先のテーブルをクエリーログに表示するようにしました。</p>
<ul>
<li><p>以下のように、ロード先のテーブル名は <code class="docutils literal notranslate"><span class="pre">[]</span></code> 内の文字列として表示します　。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">:000000000000000</span> <span class="pre">load(3):</span> <span class="pre">[LoadedLogs][3]</span></code></p></li>
</ul>
</li>
<li><p>以下のAPIを追加しました。</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">grn_ii_get_flags()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">grn_index_column_diff()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">grn_memory_get_usage()</span></code></p></li>
</ul>
</li>
<li><p>壊れたインデックスをチェックするためのコマンド <code class="docutils literal notranslate"><span class="pre">index_column_diff</span></code> を追加しました。コマンド実行の進捗を記録したい場合は、ログレベルをdebugに設定してください。</p></li>
</ul>
</div>
<div class="section" id="id17">
<h3>修正<a class="headerlink" href="#id17" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li><p>[<a class="reference internal" href="reference/functions/snippet_html.html"><span class="doc">snippet_html</span></a>] 一致しない場合、空のベクターを返すよう変更しました。</p>
<ul>
<li><p>そのような場合、 <code class="docutils literal notranslate"><span class="pre">null</span></code> の代わりに空のベクター <code class="docutils literal notranslate"><span class="pre">[]</span></code> が返されます。</p></li>
</ul>
</li>
<li><p>スレッドカウントがオーバフローする可能性についての警告を修正しました。実運用では、膨大な数のスレッドが使用されていないため、ユーザーに影響はありません。[GitHub#904]</p></li>
<li><p>maxOSでのビルドエラーを修正しました。 [GitHub#909] [shiro615さんが報告]</p></li>
<li><p>ストップワードの処理のバグを修正しました。</p>
<ul>
<li><p>このバグは、クエリーの最初のトークンをストップワードとして設定すると発生します。</p></li>
<li><p>このバグが発生した場合、検索クエリーはヒットしません。</p></li>
</ul>
</li>
<li><p>[<a class="reference internal" href="reference/api/global_configurations.html"><span class="doc">全体設定</span></a>] <code class="docutils literal notranslate"><span class="pre">grn_lock_set_timeout</span></code> のパラメーター名の誤字を修正しました。</p></li>
<li><p>インデックスの破損によって、削除されたレコードがマッチするバグを修正しました。</p>
<ul>
<li><p>大量のレコードを追加または、削除した時に発生することがあります。</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">logical_range_filter</span></code> がレコードを返さない場合のメモリリークを修正しました。[GitHub#911] [HashidaTKSさんがパッチ提供]</p></li>
<li><p>ロードしているデータが正しくノーマライズされないことによってクエリーにマッチしないバグを修正しました。[PGroonga#GitHub#93, GitHub#912,GitHub#913] [kamicupさんとdodaisukeさんが報告]</p>
<ul>
<li><p>このバグは、カタカナの後ろに空白のあるデータをロードし、ノーマライザーに <code class="docutils literal notranslate"><span class="pre">unify_kana</span></code> オプションが使用された時に発生します。</p></li>
</ul>
</li>
<li><p>インデックスの更新中にインデックスが破損するバグを修正しました。</p>
<ul>
<li><p>長期間、大量のレコードの追加、削除を繰り返した時に発生することがあります。</p></li>
</ul>
</li>
<li><p>インデックス更新時に十分な作業領域を確保できずにクラッシュするバクを修正しました。</p></li>
</ul>
</div>
<div class="section" id="id18">
<h3>感謝<a class="headerlink" href="#id18" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li><p>shiro615さん</p></li>
<li><p>HashidaTKSさん</p></li>
<li><p>kamicupさん</p></li>
<li><p>dodaisukeさん</p></li>
</ul>
</div>
</div>
<div class="section" id="release-9-0-0-2019-02-09">
<span id="release-9-0-0"></span><h2>9.0.0リリース - 2019-02-09<a class="headerlink" href="#release-9-0-0-2019-02-09" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>メジャーバージョンアップです! メジャーバージョンアップですが、互換性は壊れていないので、データベースを再構築することなく9.0.0へアップグレードできます。</p>
<div class="section" id="id19">
<h3>改良<a class="headerlink" href="#id19" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li><p>[<a class="reference internal" href="reference/tokenizers.html"><span class="doc">トークナイザー</span></a>] 新しいトークナイザー <code class="docutils literal notranslate"><span class="pre">TokenPattern</span></code> を追加しました。</p>
<ul>
<li><p>正規表現を使ってトークンを抽出できます。</p>
<ul>
<li><p>このトークナイザーは正規表現にマッチしたトークンのみを抽出します。</p></li>
</ul>
</li>
<li><p>正規表現のパターンは複数指定できます。</p></li>
</ul>
</li>
<li><p>[<a class="reference internal" href="reference/tokenizers.html"><span class="doc">トークナイザー</span></a>] 新しいトークナイザー <code class="docutils literal notranslate"><span class="pre">TokenTable</span></code> を追加しました。</p>
<ul>
<li><p>既存のテーブルのカラムの値を使ってトークンを抽出できます。</p></li>
</ul>
</li>
<li><p>[<a class="reference internal" href="reference/commands/dump.html"><span class="doc">dump</span></a>] バイナリデータのダンプに対応しました。</p></li>
<li><p>[<a class="reference internal" href="reference/commands/select.html"><span class="doc">select</span></a>] インデックスカラムに対する類似文書検索をサポートしました。</p>
<ul>
<li><p>マルチカラムインデックスを使用している場合、この機能を使って、全てのソースカラムに対して類似文書検索ができます。</p></li>
</ul>
</li>
<li><p>[<a class="reference internal" href="reference/normalizers.html"><span class="doc">ノーマライザー</span></a>] <code class="docutils literal notranslate"><span class="pre">NormalizerNFKC100</span></code> に新しいオプション <code class="docutils literal notranslate"><span class="pre">remove_blank</span></code> を追加しました。</p>
<ul>
<li><p>このオプションは空白を取り除きます。</p></li>
</ul>
</li>
<li><p>[<a class="reference internal" href="reference/executables/groonga.html"><span class="doc">groonga 実行ファイル</span></a>] ログ内のThreadIDの表示を改善しました。</p>
<ul>
<li><p>Windows版では、ProcessIDとThreadIDを混同しやすかったので、どちらがThreadIDでどちらがProcessIDかを明確にしました。</p></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="release-8-1-1-2019-01-29">
<span id="release-8-1-1"></span><h2>8.1.1リリース - 2019-01-29<a class="headerlink" href="#release-8-1-1-2019-01-29" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id20">
<h3>改良<a class="headerlink" href="#id20" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li><p>[<a class="reference internal" href="reference/commands/logical_select.html"><span class="doc">logical_select</span></a>] 新しい引数 <code class="docutils literal notranslate"><span class="pre">--load_table</span></code> 、<code class="docutils literal notranslate"><span class="pre">--load_columns</span></code> 、 <code class="docutils literal notranslate"><span class="pre">--load_values</span></code> を追加しました。</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">logical_select</span></code> の結果を <code class="docutils literal notranslate"><span class="pre">--load_table</span></code> で指定したテーブルへ格納できます。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--load_values</span></code> オプションは、<code class="docutils literal notranslate"><span class="pre">logical_select</span></code> の結果のカラムを指定します。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--load_columns</span></code> オプションは、<code class="docutils literal notranslate"><span class="pre">--load_table</span></code> で指定したテーブルのカラムを指定します。</p></li>
<li><p>このようにして、<code class="docutils literal notranslate"><span class="pre">--load_values</span></code> で指定したカラムの値を、 <code class="docutils literal notranslate"><span class="pre">--load_columns</span></code> で指定したカラムへ格納できます。</p></li>
</ul>
</li>
<li><p>インデックスの更新エラー時のログを改善しました。</p>
<ul>
<li><p>ログに、より詳細な情報を追加しました。</p>
<ul>
<li><p>例えば、ポスティングリストのマージに失敗した時にマージ元のバッファーとチャンクを出力します。</p></li>
<li><p>また、バッファー確保のエラーが発生した時は、バッファーの空き領域と要求サイズをログに出力します。</p></li>
</ul>
</li>
</ul>
</li>
<li><p>[<a class="reference internal" href="reference/executables/groonga.html"><span class="doc">groonga 実行ファイル</span></a>] 新しいオプション <code class="docutils literal notranslate"><span class="pre">--log-flags</span></code> を追加しました。</p>
<ul>
<li><p>Groongaのログに出力する項目を指定できます。</p></li>
<li><p>以下のような項目を出力できます。</p>
<ul>
<li><p>タイムスタンプ</p></li>
<li><p>ログメッセージ</p></li>
<li><p>ロケーション(ログが出力された場所)</p></li>
<li><p>プロセスID</p></li>
<li><p>スレッドID</p></li>
</ul>
</li>
<li><p>以下のように接頭辞を指定できます。</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">+</span></code></p>
<ul>
<li><p>この接頭辞は、 &quot;フラグを追加する&quot;という意味です。</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">-</span></code></p>
<ul>
<li><p>この接頭辞は、&quot;フラグを削除する&quot;という意味です。</p></li>
</ul>
</li>
<li><p>接頭辞無しは、&quot;存在しているフラグを置き換える&quot;という意味です。</p></li>
</ul>
</li>
<li><p>具体的には、以下のようにフラグ指定できます。</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">none</span></code></p>
<ul>
<li><p>ログに何も出力しません。</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">time</span></code></p>
<ul>
<li><p>ログにタイムスタンプを出力します。</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">message</span></code></p>
<ul>
<li><p>ログにメッセージを出力します。</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">location</span></code></p>
<ul>
<li><p>ログの出力場所(ファイル名、行数、関数名)とプロセスIDを出力します。</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">process_id</span></code></p>
<ul>
<li><p>ログにプロセスIDを出力します。</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">pid</span></code></p>
<ul>
<li><p>このフラグは、 <code class="docutils literal notranslate"><span class="pre">process_id</span></code> のエイリアスです。</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">thread_id</span></code></p>
<ul>
<li><p>ログにスレッドIDを出力します。</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">all</span></code></p>
<ul>
<li><p>このフラグは、 <code class="docutils literal notranslate"><span class="pre">none</span></code> と <code class="docutils literal notranslate"><span class="pre">default</span></code> 以外の全てのフラグを指定します。</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">default</span></code></p>
<ul>
<li><p>ログに、タイムスタンプとログメッセージを出力します。</p></li>
</ul>
</li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">|</span></code> を使って、複数のフラグを指定することもできます。</p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="id21">
<h3>修正<a class="headerlink" href="#id21" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul>
<li><p>インデックスの更新エラー発生時にメモリリークする問題を修正しました。</p></li>
<li><p>[<a class="reference internal" href="reference/normalizers.html"><span class="doc">ノーマライザー</span></a>] ステートレスなノーマライザーとステートフルなノーマライザーを同時に使用した時に、それらが誤った結果を返すバグを修正しました。</p>
<blockquote>
<div><ul class="simple">
<li><p>ステートレスなノーマライザーとは以下です。</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">unify_kana</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">unify_kana_case</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">unify_kana_voiced_sound_mark</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">unify_hyphen</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">unify_prolonged_sound_mark</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">unify_hyphen_and_prolonged_sound_mark</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">unify_middle_dot</span></code></p></li>
</ul>
</li>
<li><p>ステートフルなノーマライザーとは以下です。</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">unify_katakana_v_sounds</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">unify_katakana_bu_sound</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">unify_to_romaji</span></code></p></li>
</ul>
</li>
</ul>
</div></blockquote>
</li>
</ul>
</div>
</div>
<div class="section" id="release-8-1-0-2018-12-29">
<span id="release-8-1-0"></span><h2>8.1.0リリース - 2018-12-29<a class="headerlink" href="#release-8-1-0-2018-12-29" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id22">
<h3>改良<a class="headerlink" href="#id22" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li><p>[httpd] バンドルしているnginxのバージョンを1.15.8に更新しました。</p></li>
</ul>
</div>
<div class="section" id="id23">
<h3>修正<a class="headerlink" href="#id23" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">io_flush</span></code> コマンド実行後に、DBに対するアンロックが常にフラッシュの実行後になってしまうバグを修正しました。</p></li>
<li><p>参照先を持たないレコードを持つテーブルに対して <code class="docutils literal notranslate"><span class="pre">reindex</span></code> コマンドを実行した際に、 <code class="docutils literal notranslate"><span class="pre">reindex</span></code> コマンドが終了しないバグを修正しました。</p></li>
</ul>
</div>
</div>
<div class="section" id="release-8-0-9-2018-11-29">
<span id="release-8-0-9"></span><h2>8.0.9リリース - 2018-11-29<a class="headerlink" href="#release-8-0-9-2018-11-29" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id24">
<h3>改良<a class="headerlink" href="#id24" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li><p>[<a class="reference internal" href="reference/tokenizers.html"><span class="doc">トークナイザー</span></a>] トークナイザーの作成に失敗した際のエラーメッセージにトークナイザーの名前を出力するよう改良。</p></li>
<li><p>[<a class="reference internal" href="reference/tokenizers.html"><span class="doc">トークナイザー</span></a>][TokenDelimit] トークンの区切り文字のカスタマイズをサポートしました。</p>
<ul>
<li><p>空白以外のトークンを区切り文字に使えます。</p></li>
</ul>
</li>
<li><p>[<a class="reference internal" href="reference/tokenizers.html"><span class="doc">トークナイザー</span></a>][TokenDelimit] 新しいオプション <code class="docutils literal notranslate"><span class="pre">pattern</span></code> を追加しました。</p>
<ul>
<li><p>このオプションにより、区切り文字にに正規表現を指定できます。</p></li>
</ul>
</li>
<li><p>[<a class="reference internal" href="reference/tokenizers.html"><span class="doc">トークナイザー</span></a>] 各トークンの情報に <code class="docutils literal notranslate"><span class="pre">force_prefix_search</span></code> の値を追加しました。</p>
<ul>
<li><p>&quot;force_prefix&quot; は後方互換のため残しています。</p></li>
</ul>
</li>
<li><p>[<a class="reference internal" href="reference/token_filters.html"><span class="doc">トークンフィルター</span></a>] ビルトインのトークンフィルタ <code class="docutils literal notranslate"><span class="pre">TokenFilterNFKC100</span></code> を追加しました。</p>
<ul>
<li><p>NormalizerNFKC100のように <code class="docutils literal notranslate"><span class="pre">unify_kana</span></code> オプションで、カタカナをひらがなへ変換できます。</p></li>
</ul>
</li>
<li><p>[<a class="reference internal" href="reference/token_filters.html"><span class="doc">トークンフィルター</span></a>][TokenFilterStem] 新しオプション <code class="docutils literal notranslate"><span class="pre">algorithm</span></code> を追加しました。</p>
<ul>
<li><p>このオプションによって、英語以外の言語(フランス語、スペイン語、ポルトガル語、イタリア語、ルーマニア語、ドイツ語、オランダ語、スウェーデン語、ノルウェー語、デンマーク語、ロシア語、フィンランド語)をステミングできます。</p></li>
</ul>
</li>
<li><p>[<a class="reference internal" href="reference/token_filters.html"><span class="doc">トークンフィルター</span></a>][TokenFilterStopWord] 新しいオプション <code class="docutils literal notranslate"><span class="pre">column</span></code> を追加しました</p>
<ul>
<li><p>このオプションによって、is_stop_word以外のカラムをスットプワードに指定できます。</p></li>
</ul>
</li>
<li><p>[<a class="reference internal" href="reference/commands/dump.html"><span class="doc">dump</span></a>] トークンフィルターのオプションの出力をサポートしました。</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">TokenNgram</span></code> や <code class="docutils literal notranslate"><span class="pre">TokenMecab</span></code> 等のようなオプションを持つトークナイザーを指定した場合、それらのオプションも <code class="docutils literal notranslate"><span class="pre">table_list</span></code> コマンドで出力できます。</p></li>
</ul>
</li>
<li><p>[<a class="reference internal" href="reference/commands/truncate.html"><span class="doc">truncate</span></a>] トークンフィルターのオプションを持ったテーブルをサポートしました。</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">TokenFilterStem</span></code> や <code class="docutils literal notranslate"><span class="pre">TokenStopWord</span></code> 等のようなオプションを持つトークナイザーを持つテーブルでも <code class="docutils literal notranslate"><span class="pre">truncate</span></code> できます。</p></li>
</ul>
</li>
<li><p>[<a class="reference internal" href="reference/commands/schema.html"><span class="doc">schema</span></a>] トークンフィルターのオプションの出力をサポートしました。</p></li>
<li><p>[<a class="reference internal" href="reference/normalizers.html"><span class="doc">ノーマライザー</span></a>] <code class="docutils literal notranslate"><span class="pre">NormalizerNFKC100</span></code> に新しいオプション <code class="docutils literal notranslate"><span class="pre">unify_to_romaji</span></code> を追加しました。</p>
<ul>
<li><p>このオプションによって、ひらがなとカタカナをローマ字に正規化できます。</p></li>
</ul>
</li>
<li><p>[query-log][show-condition] &quot;func() &gt; 0&quot;をサポートしました。</p></li>
<li><p>[Windows] アンマップ前のフラッシュを確実にするよう改善しました。</p></li>
<li><p>ファイル入力のエラーメッセージを改善しました。</p></li>
<li><p>[httpd] バンドルしているnginxのバージョンを1.15.7に更新しました。</p>
<ul>
<li><p>CVE-2018-16843とCVE-2018-16844のセキュリティの修正が含まれています。</p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="id25">
<h3>修正<a class="headerlink" href="#id25" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul>
<li><p>ウインドウ関数を評価する際にメモリリークする問題を修正しました。</p></li>
<li><p>[<a class="reference internal" href="reference/executables/groonga-httpd.html"><span class="doc">groonga-httpd</span></a>] ログの内容が混在することがあるバグを修正しました。</p></li>
<li><p>output_columnsのスライスのエラーが発生した際に、無効なJSONが生成されるバグを修正しました。</p></li>
<li><p>ネストして参照されているベクターカラムの値を取得する際にメモリリークする問題を修正しました。</p></li>
<li><p>インデックス破損を警告するログを出力する際にクラッシュするバグを修正しました。</p></li>
<li><p>式の評価で一時的なベクターが再利用された時にクラッシュするバグを修正しました。</p>
<ul class="simple">
<li><p>例えば、以下のようにベクターを使った式を評価する時にクラッシュします。</p></li>
</ul>
<p><code class="docutils literal notranslate"><span class="pre">_score</span> <span class="pre">=</span> <span class="pre">_score</span> <span class="pre">+</span> <span class="pre">(vector_size(categories)</span> <span class="pre">&gt;</span> <span class="pre">0)</span></code></p>
</li>
<li><p>deleteコマンドで削除したベクターカラムの値がヒットするバグを修正しました。[dodaisukeさんの報告]</p></li>
</ul>
</div>
<div class="section" id="id26">
<h3>感謝<a class="headerlink" href="#id26" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li><p>dodaisukeさん</p></li>
</ul>
</div>
</div>
<div class="section" id="release-8-0-8-2018-10-29">
<span id="release-8-0-8"></span><h2>8.0.8リリース - 2018-10-29<a class="headerlink" href="#release-8-0-8-2018-10-29" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id27">
<h3>改良<a class="headerlink" href="#id27" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul>
<li><p>[<a class="reference internal" href="reference/commands/table_list.html"><span class="doc">table_list</span></a>] デフォルトトークナイザーのオプションをサポートしました。</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">TokenNgram</span></code> や <code class="docutils literal notranslate"><span class="pre">TokenMecab</span></code> 等のようなオプションを持つトークナイザーを指定した場合、それらのオプションも <code class="docutils literal notranslate"><span class="pre">table_list</span></code> コマンドで出力できます。</p></li>
</ul>
</li>
<li><p>[<a class="reference internal" href="reference/commands/select.html"><span class="doc">select</span></a>] <code class="docutils literal notranslate"><span class="pre">record</span> <span class="pre">&#64;</span> <span class="pre">'query'</span></code> を使ったシーケンシャルマッチでノーマライザーのオプションをサポートしました。</p></li>
<li><p>[<a class="reference internal" href="reference/commands/truncate.html"><span class="doc">truncate</span></a>] トークナイザーのオプションを持ったテーブルをサポートしました。</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">TokenNgram</span></code> や <code class="docutils literal notranslate"><span class="pre">TokenMecab</span></code> 等のようなオプションを持つトークナイザーを持つテーブルでも <code class="docutils literal notranslate"><span class="pre">truncate</span></code> できます。</p></li>
</ul>
</li>
<li><p>[<a class="reference internal" href="reference/tokenizers.html"><span class="doc">トークナイザー</span></a>][TokenMecab] <code class="docutils literal notranslate"><span class="pre">TokenMecab</span></code> に <code class="docutils literal notranslate"><span class="pre">target_class</span></code> オプションを追加しました。</p>
<ul>
<li><p>このオプションは、指定した品詞のトークンを検索します。例えば、名詞のみを検索することができます。</p></li>
<li><p>このオプションは、以下のようにサブクラスを指定することや、 <code class="docutils literal notranslate"><span class="pre">+</span></code> や <code class="docutils literal notranslate"><span class="pre">-</span></code> を使って、特定の品詞を追加または除外することもできます。したがって、以下のように代名詞を除外して検索することもできます。</p>
<p><code class="docutils literal notranslate"><span class="pre">'TokenMecab(&quot;target_class&quot;,</span> <span class="pre">&quot;-名詞/代名詞&quot;,</span> <span class="pre">&quot;target_class&quot;,</span> <span class="pre">&quot;+&quot;)'</span></code></p>
</li>
</ul>
</li>
<li><p>[<a class="reference internal" href="reference/commands/io_flush.html"><span class="doc">io_flush</span></a>] <code class="docutils literal notranslate"><span class="pre">io_flush</span></code> 中のデータベースのロックをサポートしました。</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">io_flush</span></code> 実行中に <code class="docutils literal notranslate"><span class="pre">io_flush</span></code> 対象のテーブルを削除するとGroongaがクラッシュする問題があったためです。</p></li>
</ul>
</li>
<li><p>[<a class="reference internal" href="reference/functions/cast_loose.html"><span class="doc">cast_loose</span></a>] 新しい関数 <code class="docutils literal notranslate"><span class="pre">cast_loose()</span></code> を追加しました。</p>
<ul class="simple">
<li><p>この関数は、指定した型へキャストします。もし、指定した値がキャストできない場合、値は、指定したデフォルト値になります。</p></li>
</ul>
</li>
<li><p>条件式の評価順序の最適化を追加しました。(実験的)</p>
<ul>
<li><p>以下のように環境変数を設定することでこの機能を有効にできます。</p>
<p><code class="docutils literal notranslate"><span class="pre">GRN_EXPR_OPTIMIZE=yes</span></code></p>
</li>
</ul>
</li>
<li><p>インデックス検索可能な正規表現に <code class="docutils literal notranslate"><span class="pre">(?-mix:XXX)</span></code> 記法をサポートしました。 [groonga-dev,04683][ Masatoshi SEKIさんの報告]</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">(?-mix:XXX)</span></code> は XXX と同じ扱いです。</p></li>
</ul>
</li>
<li><p>[httpd] バンドルしているnginxのバージョンを1.15.5に更新しました。</p></li>
<li><p>Ubuntu 18.10 (Cosmic Cuttlefish)をサポートしました。</p></li>
</ul>
</div>
<div class="section" id="id28">
<h3>修正<a class="headerlink" href="#id28" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li><p>Groonga GQTP サーバーが新しい接続を受け付けなくなることがあるバグを修正しました。[groonga-dev,04688][Yutaro Shimamuraさんの報告]</p>
<ul>
<li><p>quitを使わずにクライアントプロセスを中断した時に発生します。</p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="id29">
<h3>感謝<a class="headerlink" href="#id29" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li><p>Masatoshi SEKIさん</p></li>
<li><p>Yutaro Shimamuraさん</p></li>
</ul>
</div>
</div>
<div class="section" id="release-8-0-7-2018-09-29">
<span id="release-8-0-7"></span><h2>8.0.7リリース - 2018-09-29<a class="headerlink" href="#release-8-0-7-2018-09-29" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id30">
<h3>改良<a class="headerlink" href="#id30" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul>
<li><p>[<a class="reference internal" href="reference/tokenizers.html"><span class="doc">トークナイザー</span></a>][TokenMecab] Mecabのメタデータの出力をサポートしました。</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">TokenMecab</span></code> に <code class="docutils literal notranslate"><span class="pre">include_class</span></code> オプションを追加しました。</p>
<p>このオプションは、Mecabのメタデータの <code class="docutils literal notranslate"><span class="pre">class</span></code> と <code class="docutils literal notranslate"><span class="pre">subclass</span></code> を出力します。</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">TokenMecab</span></code> に <code class="docutils literal notranslate"><span class="pre">include_reading</span></code> オプションを追加しました。</p>
<p>このオプションは、Mecabのメタデータの <code class="docutils literal notranslate"><span class="pre">reading</span></code> を出力します。</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">TokenMecab</span></code> に <code class="docutils literal notranslate"><span class="pre">include_form</span></code> オプションを追加しました。</p>
<p>このオプションは、Mecabのメタデータの <code class="docutils literal notranslate"><span class="pre">inflected_type</span></code> と <code class="docutils literal notranslate"><span class="pre">inflected_form</span></code> 、 <code class="docutils literal notranslate"><span class="pre">base_form</span></code> を出力します。</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">TokenMecab</span></code> に <code class="docutils literal notranslate"><span class="pre">use_reading</span></code> オプションを追加しました。</p>
<p>このオプションは、読みがなによる検索をサポートします。</p>
<p>このオプションは、読みがなを使った検索をするため、表記ゆれの対策として有用です。</p>
</li>
</ul>
</li>
<li><p>[plugin] 複数のディレクトリからプラグインを取得できるようになりました。</p>
<p><code class="docutils literal notranslate"><span class="pre">GRN_PLUGINS_PATH</span></code> に複数のディレクトリを指定できます。Windowsの場合は、&quot;:&quot;でWindows以外では、&quot;;&quot;で区切ります。</p>
<p><code class="docutils literal notranslate"><span class="pre">GRN_PLUGINS_PATH</span></code> は、 <code class="docutils literal notranslate"><span class="pre">GRN_PLUGINS_DIR</span></code> より優先度が高いです。現状、このオプションはWindowsではサポートされていません。</p>
</li>
<li><p>[<a class="reference internal" href="reference/tokenizers.html"><span class="doc">トークナイザー</span></a>][TokenNgram] <code class="docutils literal notranslate"><span class="pre">TokenNgram</span></code> に <code class="docutils literal notranslate"><span class="pre">unify_alphabet</span></code> オプションを追加しました。</p>
<p><code class="docutils literal notranslate"><span class="pre">unify_alphabet</span></code> を <code class="docutils literal notranslate"><span class="pre">false</span></code> として使うと、 <code class="docutils literal notranslate"><span class="pre">TokenNgram</span></code> はASCII文字のトークナイズ方法にバイグラムを使います。</p>
</li>
<li><p>[<a class="reference internal" href="reference/tokenizers.html"><span class="doc">トークナイザー</span></a>][TokenNgram] <code class="docutils literal notranslate"><span class="pre">TokenNgram</span></code> に <code class="docutils literal notranslate"><span class="pre">unify_symbol</span></code> オプションを追加しました。</p>
<p><code class="docutils literal notranslate"><span class="pre">TokenNgram(&quot;unify_symbol&quot;,</span> <span class="pre">false)</span></code> は、 <code class="docutils literal notranslate"><span class="pre">TokenBigramSplitSymbol</span></code> と同じ動作です。</p>
</li>
<li><p>[<a class="reference internal" href="reference/tokenizers.html"><span class="doc">トークナイザー</span></a>][TokenNgram] <code class="docutils literal notranslate"><span class="pre">TokenNgram</span></code> に <code class="docutils literal notranslate"><span class="pre">unify_digit</span></code> オプションを追加しました。</p>
<p><code class="docutils literal notranslate"><span class="pre">unify_digit</span></code> を <code class="docutils literal notranslate"><span class="pre">false</span></code> として使うと、 <code class="docutils literal notranslate"><span class="pre">TokenNgram</span></code> は数字のトークナイズ方法にバイグラムを使います。</p>
</li>
<li><p>[httpd] バンドルしているnginxのバージョンを1.15.4に更新しました。</p></li>
</ul>
</div>
<div class="section" id="id31">
<h3>修正<a class="headerlink" href="#id31" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li><p>いくつかのケースでの誤ったスコア計算を修正しました。</p>
<ul>
<li><p>ブール値に数値を加算、乗算または除算するときに発生します。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">！=</span></code> や <code class="docutils literal notranslate"><span class="pre">==</span></code> を使ってスカラーとベクトルの列を比較するときに発生します。</p></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="release-8-0-6-2018-08-29">
<span id="release-8-0-6"></span><h2>8.0.6リリース - 2018-08-29<a class="headerlink" href="#release-8-0-6-2018-08-29" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id32">
<h3>改良<a class="headerlink" href="#id32" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul>
<li><p>[<a class="reference internal" href="reference/tokenizers.html"><span class="doc">トークナイザー</span></a>][TokenMecab] <code class="docutils literal notranslate"><span class="pre">chunked_tokenize</span></code> と <code class="docutils literal notranslate"><span class="pre">chunk_size_threshold</span></code> の両オプションに対応しました。</p></li>
<li><p>[optimizer] query family expressionの推定に対応しました。<code class="docutils literal notranslate"><span class="pre">column</span> <span class="pre">&#64;</span> <span class="pre">query</span></code> や <code class="docutils literal notranslate"><span class="pre">column</span> <span class="pre">&#64;~</span> <span class="pre">pattern</span></code> のようなquery family expressionについて、より効果的な実行計画を立てられます。</p></li>
<li><p>[optimizer] オプティマイザをプラグインから組み込みの機能に変更し、初期状態で無効としました。環境変数を <code class="docutils literal notranslate"><span class="pre">GRN_EXPR_OPTIMIZE=yes</span></code> と定義するか、従来通りに <code class="docutils literal notranslate"><span class="pre">expression_rewriters</span></code> テーブルを使う事で機能を有効化できます。</p></li>
<li><p>充分に絞り込み済みの場合において、初期状態でシーケンシャルサーチを行うようにしました。現在の結果が充分に少数である場合、シーケンシャルサーチはインデックス検索よりも高速です。現在の結果がテーブル内の全レコードの1%で1000件未満の場合、インデックス検索可能な場合であってもシーケンシャルサーチが使われます。</p>
<p>現在、この最適化は、 <code class="docutils literal notranslate"><span class="pre">==</span></code> と <code class="docutils literal notranslate"><span class="pre">&gt;</span></code> と <code class="docutils literal notranslate"><span class="pre">&lt;</span></code> と <code class="docutils literal notranslate"><span class="pre">&gt;=</span></code> と <code class="docutils literal notranslate"><span class="pre">&lt;=</span></code> を使った検索時に適用されます。</p>
<p>絞り込みに指定したカラムを持つテーブルのキーが <code class="docutils literal notranslate"><span class="pre">ShortText</span></code> の場合、この最適化を適用するためには、そのテーブルのノーマライザーを <code class="docutils literal notranslate"><span class="pre">NormalizerAuto</span></code> にする必要があります。</p>
<p>この機能は環境変数で <code class="docutils literal notranslate"><span class="pre">GRN_TABLE_SELECT_ENOUGH_FILTERED_RATIO=0.0</span></code> と設定する事で無効化できます。</p>
</li>
<li><p>[load] エラーメッセージにテーブル名を含めるようにしました。</p></li>
<li><p>[load] <code class="docutils literal notranslate"><span class="pre">lock_table</span></code> オプションを追加しました。<code class="docutils literal notranslate"><span class="pre">--lock_table</span> <span class="pre">yes</span></code> が指定された場合、カラムの更新と <code class="docutils literal notranslate"><span class="pre">--each</span></code> の適用を行っている間、<code class="docutils literal notranslate"><span class="pre">load</span></code> は対象のテーブルをロックします。このオプションは <code class="docutils literal notranslate"><span class="pre">load</span></code> と <code class="docutils literal notranslate"><span class="pre">delete</span></code> の衝突を防ぎますが、読み込みの性能を低下させるでしょう。</p></li>
<li><p>[vector_find] サポートされていないモードでクラッシュしないようにしました。</p></li>
</ul>
</div>
<div class="section" id="id33">
<h3>修正<a class="headerlink" href="#id33" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li><p>[index] <code class="docutils literal notranslate"><span class="pre">HASH_KEY</span></code> を伴ったテキストのベクターに対するオフラインでのインデックス構築に関して、誤ったセクションIDを持つインデックスが構築されてしまうバグを修正しました。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--match_columns</span> <span class="pre">'index[0]</span> <span class="pre">||</span> <span class="pre">index[9]'</span></code> が誤ったセクションを使用してしまう問題を修正しました。</p></li>
<li><p>[highlighter] 語彙表がハッシュテーブルで、且つキーワードがN-gramのNよりも少ない文字数の場合に、誤ったハイライトが行われていた問題を修正しました。</p></li>
<li><p>[mruby] 本当のエラーが隠されていた問題を修正しました。mrubyは引数無しで投げられたエラーの伝搬に対応していません。<a class="reference external" href="https://github.com/mruby/mruby/issues/290">https://github.com/mruby/mruby/issues/290</a></p></li>
<li><p>[<a class="reference internal" href="reference/tokenizers.html"><span class="doc">トークナイザー</span></a>][TokenNgram loose]: クエリが曖昧な種類のみであった場合に検索結果が見つからない問題を修正しました。語彙表を伴っての <code class="docutils literal notranslate"><span class="pre">highlight_html()</span></code> も同様に壊れていました。</p></li>
<li><p>テキストから数値への変換において、後続するゴミ部分が無視されていた問題を修正しました。 &quot;0garbage&quot; は変換エラーになります。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">reference_column</span> <span class="pre">&gt;=</span> <span class="pre">'key_value'</span></code> に当てはまる場合の最適化の問題を修正しました。</p></li>
</ul>
</div>
</div>
<div class="section" id="release-8-0-5-2018-07-29">
<span id="release-8-0-5"></span><h2>8.0.5リリース - 2018-07-29<a class="headerlink" href="#release-8-0-5-2018-07-29" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id34">
<h3>改良<a class="headerlink" href="#id34" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li><p>[<a class="reference internal" href="reference/grn_expr/script_syntax.html"><span class="doc">スクリプト構文</span></a>] 類似文書検索の補足説明とその日本語訳を追加しました。 [GitHub groonga/GitHub#858] [堀本さんがパッチ提供]</p></li>
<li><p>[<a class="reference internal" href="reference/functions/time_classify_day_of_week.html"><span class="doc">time_classify_day_of_week</span></a>] 新しい関数 <code class="docutils literal notranslate"><span class="pre">time_classify_day_of_week()</span></code> を追加しました。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-fstack-protector</span></code> で警告を抑制するようにしました。（OBATA Akioさんが提案）</p></li>
<li><p>新しいAPI <code class="docutils literal notranslate"><span class="pre">time_format_iso8601()</span></code> を追加しました。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">grn_raw_string</span></code> 構造体を公開。</p></li>
<li><p>新しいAPI: <code class="docutils literal notranslate"><span class="pre">grn_obj_clear_option_values()</span></code> を追加しました。永続的なデータベースのremoveと一時的なデータベースのcloseの際にオプションの値を消去できます。</p></li>
<li><p>[log] <code class="docutils literal notranslate"><span class="pre">[ii][update][one]</span></code> のエラーメッセージにインデックスカラム名を出力するようにしました。</p></li>
<li><p>[httpd] バンドルしているnginxのバージョンを1.15.2に更新しました。</p></li>
<li><p>[<a class="reference internal" href="install/ubuntu.html"><span class="doc">Ubuntu</span></a>] Ubuntu 17.10 (Artful Aardvark）のサポートをやめました。2018年7月19日でサポートが切れた（EOLになった）ためです。</p></li>
<li><p>[<a class="reference internal" href="install/debian.html"><span class="doc">Debian GNU/Linux</span></a>] jessieのサポートをやめました。Debianのセキュリティ＆リリースチームはもはやjessieの更新を提供しません。</p></li>
</ul>
</div>
<div class="section" id="id35">
<h3>修正<a class="headerlink" href="#id35" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li><p>POSTでの <code class="docutils literal notranslate"><span class="pre">/d/load</span></code> へのデータ送信が中断された後に誤った結果が返されていたのを修正しました。</p></li>
<li><p>KyTeaに関する間違った関数呼び出しを修正しました。</p></li>
<li><p>[<a class="reference internal" href="reference/executables/grndb.html"><span class="doc">grndb</span></a>] <code class="docutils literal notranslate"><span class="pre">--force-truncate</span></code> オプションのラベルを追加しました。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">groonga-normalizer-mysql</span></code> のようにプラグインとして提供されているノーマライザーでオプションを使った場合に、データベースを終了するときにクラッシュする問題を修正しました。</p></li>
<li><p>ノーマライザーとトークナイザーのオプションが無視される場合があった問題を修正しました。この問題は同じオブジェクトIDが再利用された場合に発生していました。</p></li>
</ul>
</div>
</div>
<div class="section" id="release-8-0-4-2018-06-29">
<span id="release-8-0-4"></span><h2>8.0.4リリース - 2018-06-29<a class="headerlink" href="#release-8-0-4-2018-06-29" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id36">
<h3>改良<a class="headerlink" href="#id36" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li><p>[log] <code class="docutils literal notranslate"><span class="pre">[ii][update][one]</span></code> のエラーメッセージにサブエラーを追加しました。</p></li>
<li><p>新しいAPI <code class="docutils literal notranslate"><span class="pre">grn_highlighter_clear_keywords()</span></code> を追加しました。</p></li>
<li><p>新しいpredicate <code class="docutils literal notranslate"><span class="pre">grn_obj_is_number_family_bulk()</span></code> を追加しました。</p></li>
<li><p>新しいAPI <code class="docutils literal notranslate"><span class="pre">grn_plugin_proc_get_value_mode()</span></code> を追加しました。</p></li>
<li><p>[<a class="reference internal" href="reference/functions/vector_find.html"><span class="doc">vector_find</span></a>] 新しい関数 <code class="docutils literal notranslate"><span class="pre">vector_find()</span></code> を追加しました。</p></li>
<li><p>msgpackでのmemcpyの警告を抑制しました。</p></li>
<li><p>mrubyを1.0.0から1.4.1に更新しました。</p></li>
<li><p>[doc][<a class="reference internal" href="reference/api/grn_obj.html"><span class="doc">grn_obj</span></a>] <code class="docutils literal notranslate"><span class="pre">grn_obj_is_index_column()</span></code> のAPIリファレンスを追加しました。</p></li>
<li><p>[windows] printfフォーマットの警告を抑制しました。</p></li>
<li><p>[windows] msgpackによる警告を抑制しました。</p></li>
<li><p>[<a class="reference internal" href="reference/api/grn_obj.html"><span class="doc">grn_obj</span></a>][<a class="reference internal" href="reference/api/plugin.html"><span class="doc">Plugin</span></a>] エンコーディングコンバーターを追加しました。ルール:</p>
<ul>
<li><p>grn_ctx::errbuf: grn_encoding</p></li>
<li><p>grn_logger_put: grn_encoding</p></li>
<li><p>mruby: UTF-8</p></li>
<li><p>path: locale</p></li>
</ul>
</li>
<li><p>[mrb] <code class="docutils literal notranslate"><span class="pre">LocaleOutput</span></code> を追加しました。</p></li>
<li><p>[windows] イメージのパスのgrn_encodingへの変換をサポートしました。</p></li>
<li><p>[<a class="reference internal" href="reference/tokenizers.html"><span class="doc">トークナイザー</span></a>][TokenMecab] エラーメッセージのエンコーディングを変換するようにしました。</p></li>
<li><p>[<a class="reference internal" href="reference/window_functions/window_sum.html"><span class="doc">window_sum</span></a>] 対象カラムとしての動的カラムをサポートしました。</p></li>
<li><p>[doc][<a class="reference internal" href="reference/api/grn_obj.html"><span class="doc">grn_obj</span></a>] <code class="docutils literal notranslate"><span class="pre">grn_obj_is_vector_column()</span></code> のAPIリファレンスを追加しました。</p></li>
<li><p>[<a class="reference internal" href="reference/commands/column_create.html"><span class="doc">column_create</span></a>] より多くのバリデーションを追加しました。</p>
<ul>
<li><p>1: ベクターカラムの全文検索インデックスは <code class="docutils literal notranslate"><span class="pre">WITH_SECTION</span></code> フラグが必要です。（ただし、 <code class="docutils literal notranslate"><span class="pre">WITH_POSITION</span></code> あり、 <code class="docutils literal notranslate"><span class="pre">WITH_SECTION</span></code> なしのTokenDelmitは許容されます。これはタグ検索に便利なパターンです。)</p></li>
<li><p>2: ベクターカラムの全文検索インデックスはマルチカラムインデックスであってはいけません。詳細: <a class="reference external" href="https://github.com/groonga/groonga/commit/08e2456ba35407e3d5172f71a0200fac2a770142">https://github.com/groonga/groonga/commit/08e2456ba35407e3d5172f71a0200fac2a770142</a></p></li>
</ul>
</li>
<li><p>[<a class="reference internal" href="reference/executables/grndb.html"><span class="doc">grndb</span></a>] 実装が不十分だったため、ログのチェックを一時的に無効にしました</p></li>
</ul>
</div>
<div class="section" id="id37">
<h3>修正<a class="headerlink" href="#id37" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li><p>[<a class="reference internal" href="reference/functions/sub_filter.html"><span class="doc">sub_filter</span></a>] 十分にフィルターされたケースで、スコアが多すぎる問題を修正</p></li>
<li><p>KyTeaがインストールされているとビルドに失敗する問題を修正しました。</p></li>
<li><p>[<a class="reference internal" href="reference/executables/grndb.html"><span class="doc">grndb</span></a>] 出力チャネルを修正しました。</p></li>
<li><p>[query-log][show-condition] クラッシュするバグを修正しました（まだ残っている可能性があります）。</p></li>
<li><p>[highlighter][lexicon] ハイライトされないバグを修正しました。キーワードの長さがN未満（N-gramのN。多くの場合はBigramなので2未満）の場合、キーワードがハイライトされていませんでした。</p></li>
<li><p>[windows] base path検出時の問題を修正しました。システムロケールのDLLパスが、CP932での「U+8868 CJK UNIFIED IDEOGRAPH-8868」のように0x5c （ASCIIでの <code class="docutils literal notranslate"><span class="pre">\</span></code> )を含む場合に問題がありました。</p></li>
<li><p>[<a class="reference internal" href="reference/tokenizers.html"><span class="doc">トークナイザー</span></a>][TokenNgram] 最初の文字の長さの誤りを修正しました。この問題は、「U+3231 PARENTHESIZED IDEOGRAPH STOCK」のような「PARENTHESIZED IDEOGRAPH」文字で起きていました。</p></li>
</ul>
</div>
</div>
<div class="section" id="release-8-0-3-2018-05-29">
<span id="release-8-0-3"></span><h2>8.0.3リリース - 2018-05-29<a class="headerlink" href="#release-8-0-3-2018-05-29" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id38">
<h3>改良<a class="headerlink" href="#id38" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul>
<li><p>[<a class="reference internal" href="reference/functions/highlight_html.html"><span class="doc">highlight_html</span></a>] <code class="docutils literal notranslate"><span class="pre">NormalizerNFKC100</span></code> または <code class="docutils literal notranslate"><span class="pre">TokenNgram</span></code> を使って検索した結果のハイライトをサポートしました。</p></li>
<li><p>[<a class="reference internal" href="reference/tokenizers.html"><span class="doc">トークナイザー</span></a>] <code class="docutils literal notranslate"><span class="pre">TokenNgram</span></code> に新しいオプション <code class="docutils literal notranslate"><span class="pre">report_source_location</span> <span class="pre">option</span></code> を追加しました。このオプションは、<code class="docutils literal notranslate"><span class="pre">highlight_html</span></code> で語彙表を使ったハイライトをする時に使用します。</p></li>
<li><p>[<a class="reference internal" href="reference/normalizers.html"><span class="doc">ノーマライザー</span></a>] <code class="docutils literal notranslate"><span class="pre">NormalizerNFKC100</span></code> に新しいオプション <code class="docutils literal notranslate"><span class="pre">unify_middle_dot</span> <span class="pre">option</span></code> を追加しました。このオプションは、中点を正規化します。<code class="docutils literal notranslate"><span class="pre">・</span></code> の有無や <code class="docutils literal notranslate"><span class="pre">・</span></code> 位置にかかわらず検索できます。</p></li>
<li><p>[<a class="reference internal" href="reference/normalizers.html"><span class="doc">ノーマライザー</span></a>] <code class="docutils literal notranslate"><span class="pre">NormalizerNFKC100</span></code> に新しいオプション <code class="docutils literal notranslate"><span class="pre">unify_katakana_v_sounds</span> <span class="pre">option</span></code> を追加しました。このオプションは、<code class="docutils literal notranslate"><span class="pre">ヴァヴィヴヴェヴォ</span></code> を <code class="docutils literal notranslate"><span class="pre">バビブベボ</span></code>  へ正規化します。例えば <code class="docutils literal notranslate"><span class="pre">バイオリン</span></code> を <code class="docutils literal notranslate"><span class="pre">ヴァイオリン</span></code> で検索できます。</p></li>
<li><p>[<a class="reference internal" href="reference/normalizers.html"><span class="doc">ノーマライザー</span></a>] <code class="docutils literal notranslate"><span class="pre">NormalizerNFKC100</span></code> に新しいオプション <code class="docutils literal notranslate"><span class="pre">unify_katakana_bu_sound</span> <span class="pre">option</span></code> を追加しました。このオプションは、<code class="docutils literal notranslate"><span class="pre">ヴァヴィヴゥヴェヴォ</span></code> を <code class="docutils literal notranslate"><span class="pre">ブ</span></code> に正規化します。例えば、<code class="docutils literal notranslate"><span class="pre">セーブル</span></code> や <code class="docutils literal notranslate"><span class="pre">セーヴル</span></code> を <code class="docutils literal notranslate"><span class="pre">セーヴェル</span></code> で検索できます。</p></li>
<li><p>[<a class="reference internal" href="reference/functions/sub_filter.html"><span class="doc">sub_filter</span></a>] 十分にフィルターされたケースでの <code class="docutils literal notranslate"><span class="pre">sub_filter</span></code> の動作を最適化しました。この最適化は、 <code class="docutils literal notranslate"><span class="pre">sub_filter</span></code> 実行前に十分にレコードが絞り込まれているケースで有効になります。</p></li>
<li><p>[<a class="reference internal" href="reference/executables/groonga-httpd.html"><span class="doc">groonga-httpd</span></a>] 全てのワーカのコンテキストアドレスをユニークにしました。コンテキストアドレスは、以下のクエリーログの <code class="docutils literal notranslate"><span class="pre">#{ID}</span></code> です。</p>
<div class="line-block">
<div class="line">#{TIME_STAMP}|#{MESSAGE}</div>
<div class="line">#{TIME_STAMP}|#{ID}|&gt;#{QUERY}</div>
<div class="line">#{TIME_STAMP}|#{ID}|:#{ELAPSED_TIME} #{PROGRESS}</div>
<div class="line">#{TIME_STAMP}|#{ID}|&lt;#{ELAPSED_TIME} #{RETURN_CODE}</div>
</div>
</li>
<li><p>[<a class="reference internal" href="reference/commands/delete.html"><span class="doc">delete</span></a>] 新しいオプション <code class="docutils literal notranslate"><span class="pre">limit</span></code> を追加しました。以下の例のように、削除するレコードの件数を制限できます。<code class="docutils literal notranslate"><span class="pre">delete</span> <span class="pre">--table</span> <span class="pre">Users</span> <span class="pre">--filter</span> <span class="pre">'_key</span> <span class="pre">&#64;^</span> <span class="pre">&quot;b&quot;'</span> <span class="pre">--limit</span> <span class="pre">4</span></code></p></li>
<li><p>[httpd] バンドルしているnginxのバージョンを1.14.0に更新しました。</p></li>
</ul>
</div>
<div class="section" id="id39">
<h3>修正<a class="headerlink" href="#id39" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li><p>[<a class="reference internal" href="reference/commands/logical_select.html"><span class="doc">logical_select</span></a>] 動的カラムをフィルターした時にエラーが発生するとメモリリークする不具合を修正しました。</p></li>
<li><p>[<a class="reference internal" href="reference/commands/logical_count.html"><span class="doc">logical_count</span></a>] 動的カラムの初期化に失敗した際にメモリリークする不具合を修正しました。</p></li>
<li><p>[<a class="reference internal" href="reference/commands/logical_range_filter.html"><span class="doc">logical_range_filter</span></a>] 動的カラムの評価に失敗した際にメモリリークする不具合を修正しました。</p></li>
<li><p>[<a class="reference internal" href="reference/tokenizers.html"><span class="doc">トークナイザー</span></a>] <code class="docutils literal notranslate"><span class="pre">loose_symbol</span></code> のように緩いトークナイズをした時に <code class="docutils literal notranslate"><span class="pre">source_offset</span></code> が誤った値になる不具合を修正しました。</p></li>
<li><p>[<a class="reference internal" href="reference/normalizers.html"><span class="doc">ノーマライザー</span></a>] <code class="docutils literal notranslate"><span class="pre">U+FF21</span> <span class="pre">FULLWIDTH</span> <span class="pre">LATIN</span> <span class="pre">CAPITAL</span> <span class="pre">LETTER</span> <span class="pre">A</span></code> のような全角ラテン大文字が、<code class="docutils literal notranslate"><span class="pre">U+0061</span> <span class="pre">LATIN</span> <span class="pre">SMALL</span> <span class="pre">LETTER</span> <span class="pre">A</span></code> のようなラテン小文字に正規化されない不具合を修正しました。すでに、 <code class="docutils literal notranslate"><span class="pre">NormalizerNFKC100</span></code> を使用している場合は、インデックスを再生成する必要があります。</p></li>
</ul>
</div>
</div>
<div class="section" id="release-8-0-2-2018-04-29">
<span id="release-8-0-2"></span><h2>8.0.2リリース - 2018-04-29<a class="headerlink" href="#release-8-0-2-2018-04-29" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id40">
<h3>改良<a class="headerlink" href="#id40" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul>
<li><p>[<a class="reference internal" href="reference/executables/grndb.html"><span class="doc">grndb</span></a>][<a class="reference internal" href="reference/executables/grndb.html#grndb-force-truncate"><span class="std std-ref">--force-truncate</span></a>]  <code class="docutils literal notranslate"><span class="pre">grndb</span> <span class="pre">recover</span> <span class="pre">--force-truncate</span></code> オプションを指定することで、テーブルにロックが残ったままの状態でも truncate できるようにしました。</p></li>
<li><p>[<a class="reference internal" href="reference/commands/logical_range_filter.html"><span class="doc">logical_range_filter</span></a>] <code class="docutils literal notranslate"><span class="pre">sort_keys</span></code> オプションに対応しました。</p></li>
<li><p>新しい関数 <code class="docutils literal notranslate"><span class="pre">time_format()</span></code> を追加しました。<code class="docutils literal notranslate"><span class="pre">Time</span></code> 型のカラムの値を時刻表記で出力できます。書式は <code class="docutils literal notranslate"><span class="pre">strftime</span></code> 用の形式を指定できます。</p></li>
<li><p>[<a class="reference internal" href="reference/tokenizers.html"><span class="doc">トークナイザー</span></a>] 新しいトークナイザー <code class="docutils literal notranslate"><span class="pre">TokenNgram</span></code> を追加しました。このトークナイザーは、オプションを通じて挙動を動的に変えることができます。対応しているオプションは以下の通りです。</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code> : Ngram の「N」を指定します。例えば trigram の場合は「3」です。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">loose_symbol</span></code> : 記号を含む語句について、記号の有無の違いを無視して検索できるようにトークナイズします。例えば「090-1111-2222」という語句は、「09011112222」「090」「1111」「2222」「090-1111-2222」のいずれで検索した場合にも検索結果としてヒットするようになります。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">loose_blank</span></code> : 空白を含む語句について、空白の有無の違いを無視して検索できるようにトークナイズします。例えば「090 1111 2222」という語句は、「09011112222」「090」「1111」「2222」「090 1111 2222」のいずれで検索した場合にも検索結果としてヒットするようになります。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">remove_blank</span></code> : 空白を含む語句について、空白無しの語句で検索できるようにトークナイズします。例えば「090 1111 2222」という語句は、「09011112222」「090」「1111」「2222」のいずれで検索した場合にも検索結果としてヒットするようになります。空白を含む語句「090 1111 2222」での検索にはヒットしない点にご注意下さい。</p></li>
</ul>
</div></blockquote>
</li>
<li><p>[<a class="reference internal" href="reference/normalizers.html"><span class="doc">ノーマライザー</span></a>] Unicode 10.0 の NFKC（Normalization Form Compatibility Composition）に基づくノーマライザーである &quot;NormalizerNFKC100&quot; を追加しました。</p></li>
<li><p>[<a class="reference internal" href="reference/normalizers.html"><span class="doc">ノーマライザー</span></a>] ノーマライザーの &quot;NormalizerNFKC51&quot; と &quot;NormalizerNFKC100&quot; でのオプション指定に対応しました。ノーマライザーの挙動を動的に変えることができます。対応しているオプションは以下の通りです。</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">unify_kana</span></code> : 同じ音となる全角ひらがな、全角カタカナ、半角カタカナの文字を同一視します。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">unify_kana_case</span></code> : 全角ひらがな、全角カタカナ、半角カタカナで拗音、促音などを表す小さな文字（例：「ぁ」「ゃ」「っ」）を大きな文字と同一視します。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">unify_kana_voiced_sound_mark</span></code> : 全角ひらがな、全角カタカナ、半角カタカナで濁点や半濁点の有無を同一視します。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">unify_hyphen</span></code> : ハイフンに類する文字すべてをハイフンと同一視します。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">unify_prolonged_sound_mark</span></code> : 長音記号に類する文字すべてを長音記号と同一視します。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">unify_hyphen_and_prolonged_sound_mark</span></code> : ハイフンに類する文字と長音記号に類する文字のすべてをハイフンと同一視します。</p></li>
</ul>
</div></blockquote>
</li>
<li><p>[<a class="reference internal" href="reference/commands/dump.html"><span class="doc">dump</span></a>] トークナイザーとノーマライザーのオプションの出力に対応しました。トークナイザーまたはノーマライザーのオプションを含んだ状態でGroonga 8.0.2およびそれ以降で出力した dump は、Grooga 8.0.1以前のバージョンでは読み込めず、未対応の情報によりエラーとなります。</p></li>
<li><p>[<a class="reference internal" href="reference/commands/dump.html"><span class="doc">dump</span></a>] トークナイザーとノーマライザーのオプションの出力に対応しました。トークナイザーまたはノーマライザーのオプションを含んだ状態でGroonga 8.0.2およびそれ以降で出力した schema は、Grooga 8.0.1以前のバージョンでは読み込めず、未対応の情報によりエラーとなります。</p></li>
<li><p>Ubuntu 18.04 (Bionic Beaver)をサポートしました。</p></li>
</ul>
</div>
<div class="section" id="id41">
<h3>修正<a class="headerlink" href="#id41" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li><p>スペースのみの検索クエリが意図しないレコードにマッチする不具合を修正しました。[groonga-dev,04609][satouyuzhさんの報告]</p></li>
<li><p>誤ったスコアラーが使われる場合があった不具合を修正しました。この問題は以下のように複数のスコアラーが使われた時に発生していました： <code class="docutils literal notranslate"><span class="pre">--match_columns</span> <span class="pre">'title</span> <span class="pre">||</span> <span class="pre">scorer_tf_at_most(content,</span> <span class="pre">2.0)'</span></code></p></li>
<li><p>「thread_limit」の変更に時間がかかりすぎる問題を修正しました。</p></li>
</ul>
</div>
<div class="section" id="id42">
<h3>感謝<a class="headerlink" href="#id42" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li><p>satouyuzhさん</p></li>
</ul>
</div>
</div>
<div class="section" id="release-8-0-1-2018-03-29">
<span id="release-8-0-1"></span><h2>8.0.1リリース - 2018-03-29<a class="headerlink" href="#release-8-0-1-2018-03-29" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id43">
<h3>改良<a class="headerlink" href="#id43" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul>
<li><p>[<a class="reference internal" href="reference/log.html"><span class="doc">ログ</span></a>] クエリーログ内で <code class="docutils literal notranslate"><span class="pre">filter</span></code> 条件を表示するようにしました。この機能はデフォルトでは、無効になっています。有効にするためには、環境変数 <code class="docutils literal notranslate"><span class="pre">GRN_QUERY_LOG_SHOW_CONDITION=yes</span></code> を設定します。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">*.pdb</span></code> を <code class="docutils literal notranslate"><span class="pre">*.dll</span></code> と <code class="docutils literal notranslate"><span class="pre">*.exe</span></code> と同じディレクトリにインストールされるようにしました。</p></li>
<li><p>[<a class="reference internal" href="reference/commands/logical_count.html"><span class="doc">logical_count</span></a>] <code class="docutils literal notranslate"><span class="pre">filtered</span></code> ステージの動的カラムをサポートしました。</p></li>
<li><p>[<a class="reference internal" href="reference/commands/logical_count.html"><span class="doc">logical_count</span></a>] [<a class="reference internal" href="reference/commands/logical_count.html#logical-count-post-filter"><span class="std std-ref">post_filter</span></a>] フィルタータイミングを新規追加しました。 <code class="docutils literal notranslate"><span class="pre">filtered</span></code> ステージのカラムが生成された後に実行されます。</p></li>
<li><p>[<a class="reference internal" href="reference/commands/logical_select.html"><span class="doc">logical_select</span></a>] [<a class="reference internal" href="reference/commands/logical_select.html#logical-select-post-filter"><span class="std std-ref">post_filter</span></a>] フィルタータイミングを新規追加しました。 <code class="docutils literal notranslate"><span class="pre">filtered</span></code> ステージのカラムが生成された後に実行されます。</p></li>
<li><p>ベクターデータに対してLZ4/Zstd/zlibの圧縮をサポートしました。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">_key</span></code> のようなアクセサへのエイリアスをサポートしました。</p></li>
<li><p>[<a class="reference internal" href="reference/commands/logical_range_filter.html"><span class="doc">logical_range_filter</span></a>] 大きい結果セットに対するウィンドウ関数の動作を最適化しました。一致するレコードが十分見つかった場合は、残りのウィンドウに対してウィンドウ関数を適用しません。</p>
<p>TODO: この最適化は、最適化によるオーバーヘッドが無視出来ない場合、小さな結果セットに対しては、無効になります。 オーバーヘッドがどのくらいになるのかは、まだ評価出来ていません。</p>
</li>
<li><p>[<a class="reference internal" href="reference/commands/select.html"><span class="doc">select</span></a>] <code class="docutils literal notranslate"><span class="pre">match_escalation</span></code> パラメーターを追加しました。<code class="docutils literal notranslate"><span class="pre">--match_escalation</span> <span class="pre">yes</span></code> とすることによって、マッチ演算のエスカレーションを強制的に有効にします。このパラメータは、 <code class="docutils literal notranslate"><span class="pre">--match_escalation_threshold</span> <span class="pre">99999....999</span></code> よりも強力です。<code class="docutils literal notranslate"><span class="pre">match_escalation</span> <span class="pre">yes</span></code> は、 <code class="docutils literal notranslate"><span class="pre">SOME_CONDITIONS</span> <span class="pre">&amp;&amp;</span> <span class="pre">column</span> <span class="pre">&#64;</span> <span class="pre">'query'</span></code> もエスカレーションしますが、 <code class="docutils literal notranslate"><span class="pre">--match_escalation_threshold</span></code> ではしないためです。</p>
<p>デフォルトは、 <code class="docutils literal notranslate"><span class="pre">--match_escalation</span> <span class="pre">auto</span></code> です。これは、既存の動作と同じです。</p>
<p><code class="docutils literal notranslate"><span class="pre">--match_escalation</span> <span class="pre">no</span></code> とすることで、マッチ演算のエスカレーションを無効にできます。これは、 <code class="docutils literal notranslate"><span class="pre">--match_escalation_threshold</span> <span class="pre">-1</span></code> と同様の動きになります。</p>
</li>
<li><p>[httpd] バンドルしているnginxのバージョンを1.13.10に更新しました。</p></li>
</ul>
</div>
<div class="section" id="id44">
<h3>修正<a class="headerlink" href="#id44" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li><p>共通接頭辞がどのトークンにもマッチしない時にメモリリークする問題を修正しました。[GitHub#820] [村上さんがパッチ提供]</p></li>
<li><p>同一プロセスで複数のデータベースを開いている時に、異なるデータベースのキャッシュを使用してしまう問題を修正しました。</p></li>
<li><p>誤ったインデックスが構築される問題を修正しました。この問題は、インデックスカラムのソースがベクターカラムでかつ、 <code class="docutils literal notranslate"><span class="pre">WITH_SECTION</span></code> を指定していない時だけ発生します。</p></li>
<li><p>比較時(&gt;,&gt;=,&lt;,&lt;=,==,!=)に定数がオーバーフローまたは、アンダーフローし得る問題を修正しました。</p></li>
</ul>
</div>
<div class="section" id="id45">
<h3>感謝<a class="headerlink" href="#id45" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li><p>村上さん</p></li>
</ul>
</div>
</div>
<div class="section" id="release-8-0-0-2018-02-09">
<span id="release-8-0-0"></span><h2>8.0.0リリース - 2018-02-09<a class="headerlink" href="#release-8-0-0-2018-02-09" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>メジャーバージョンアップです! メジャーバージョンアップですが、互換性は壊れていないので、データベースを再構築することなくアップグレードできます。</p>
<div class="section" id="id46">
<h3>改良<a class="headerlink" href="#id46" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul>
<li><p>[<a class="reference internal" href="reference/commands/select.html"><span class="doc">select</span></a>] <code class="docutils literal notranslate"><span class="pre">--drilldown_adjuster</span></code> と <code class="docutils literal notranslate"><span class="pre">drilldowns[LABEL].adjuster</span></code> を追加しました。drilldown結果に対して、スコア調整できるようになります。</p></li>
<li><p>[<a class="reference internal" href="reference/indexing.html#online-index-construction"><span class="std std-ref">動的なインデックス構築方法</span></a>] 環境変数の名前を <code class="docutils literal notranslate"><span class="pre">GRN_II_REDUCE_EXPIRE_ENABLE</span></code> から <code class="docutils literal notranslate"><span class="pre">GRN_II_REDUCE_EXPIRE_THRESHOLD</span></code> へ変更しました。</p>
<p><code class="docutils literal notranslate"><span class="pre">GRN_II_REDUCE_EXPIRE_THRESHOLD=0</span> <span class="pre">==</span> <span class="pre">GRN_II_REDUCE_EXPIRE_ENABLE=no</span></code> 。 <code class="docutils literal notranslate"><span class="pre">GRN_II_REDUCE_EXPIRE_THRESHOLD=-1</span></code> とすると、しきい値は <code class="docutils literal notranslate"><span class="pre">ii-&gt;chunk-&gt;max_map_seg</span> <span class="pre">/</span> <span class="pre">2</span></code> となります。<code class="docutils literal notranslate"><span class="pre">GRN_II_REDUCE_EXPIRE_THRESHOLD</span> <span class="pre">&gt;</span> <span class="pre">0</span></code> とすると、しきい値は <code class="docutils literal notranslate"><span class="pre">MIN(ii-&gt;chunk-&gt;max_map_seg</span> <span class="pre">/</span> <span class="pre">2,</span> <span class="pre">GRN_II_REDUCE_EXPIRE_THRESHOLD)</span></code> となります。デフォルト値は、 <code class="docutils literal notranslate"><span class="pre">GRN_II_REDUCE_EXPIRE_THRESHOLD=32</span></code> です。</p>
</li>
<li><p>[<a class="reference internal" href="reference/functions/between.html"><span class="doc">between</span></a>] 境界値なしの <code class="docutils literal notranslate"><span class="pre">between()</span></code> を受け付けるようにしました。<code class="docutils literal notranslate"><span class="pre">between()</span></code> の引数の数が3つでも実行できます。2番目と3番目の引数が境界を含むものとして処理されます。</p></li>
</ul>
</div>
<div class="section" id="id47">
<h3>修正<a class="headerlink" href="#id47" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li><p>ハッシュテーブルのメモリリークを修正しました。 [GitHub:mroonga/mroonga#190][fuku1さんの報告]</p></li>
<li><p>配列のメモリリークを修正しました。</p></li>
<li><p>[<a class="reference internal" href="reference/commands/select.html"><span class="doc">select</span></a>] <code class="docutils literal notranslate"><span class="pre">output_columns</span></code> で結果の変化する関数を使っている時にキャッシュしないようにしました。</p></li>
<li><p>[Windows] <code class="docutils literal notranslate"><span class="pre">WSASend</span></code> が適切なエラーコードを返すようにしました。</p></li>
</ul>
</div>
<div class="section" id="id48">
<h3>感謝<a class="headerlink" href="#id48" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li><p>fuku1さん</p></li>
</ul>
</div>
</div>
<div class="section" id="release-7-1-1-2018-01-29">
<span id="release-7-1-1"></span><h2>7.1.1リリース - 2018-01-29<a class="headerlink" href="#release-7-1-1-2018-01-29" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id49">
<h3>改良<a class="headerlink" href="#id49" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul>
<li><p>[<a class="reference internal" href="install/ubuntu.html"><span class="doc">Ubuntu</span></a>] Ubuntu 17.04（Zesty Zapus）のサポートをやめました。2018年1月13日でサポートが切れた（EOLになった）ためです。</p></li>
<li><p>Quorum matchをサポートしました。スクリプト構文でもクエリー構文でもquorum matchを使うことができます。</p>
<p>TODO: quorum matchの構文をドキュメントへ追加、それらのドキュメントへのリンク生成</p>
</li>
<li><p>スクリプト構文で類似度のカスタマイズをサポートしました。スクリプト構文内で類似度のカスタマイズができます。</p>
<p>TODO: 類似度のカスタマイズの構文をドキュメントへ追加、それらのドキュメントへのリンク生成</p>
</li>
<li><p>[<a class="reference internal" href="reference/executables/grndb.html"><span class="doc">grndb</span></a>][<a class="reference internal" href="reference/executables/grndb.html#grndb-force-lock-clear"><span class="std std-ref">--force-lock-clear</span></a>] <code class="docutils literal notranslate"><span class="pre">--force-lock-clear</span></code> を追加しました。このオプションは、データベースやテーブル、データカラムのロックを強制的に解除します。データベースやテーブル、データカラムにロックが残っていても再度データベースを使えるようになります。</p>
<p>しかし、このオプションはとても危険です。通常は使うべきではありません。データベースが壊れている場合は、データベースは依然として破損しています。このオプションはロックを無視するだけです。</p>
</li>
<li><p>[<a class="reference internal" href="reference/commands/load.html"><span class="doc">load</span></a>] サロゲートペアをエスケープ可能にしました。例えば、 <code class="docutils literal notranslate"><span class="pre">\uD83C\uDF7A</span></code> は <code class="docutils literal notranslate"><span class="pre">🍺</span></code> として処理されます。</p></li>
<li><p>[Windows] Windows上でスパースファイルを使用するように変更しました。ディスク容量を節約できます。パフォーマンス上のデメリットはありません。</p></li>
<li><p>[<a class="reference internal" href="reference/indexing.html#online-index-construction"><span class="std std-ref">動的なインデックス構築方法</span></a>] インデックスカラム内のメモリーマップをいつ開放するかをコントロールする環境変数 <code class="docutils literal notranslate"><span class="pre">GRN_II_REDUCE_EXPIRE_THRESHOLD</span></code> を追加しました。デフォルトは <code class="docutils literal notranslate"><span class="pre">-1</span></code> です。 <code class="docutils literal notranslate"><span class="pre">-1</span></code> のときはインデックスカラムのサイズによって動的に開放するタイミングを決めます。インデックスカラムが小さければ頻繁に解放し、大きければ頻度を下げます。</p>
<p><code class="docutils literal notranslate"><span class="pre">0</span></code> を設定すると従来と同じ挙動になります。従来の挙動とは、Groongaは開放できそうなときはいつも開放しようとするという挙動です。</p>
</li>
<li><p>[<a class="reference internal" href="reference/commands/logical_range_filter.html"><span class="doc">logical_range_filter</span></a>] [<a class="reference internal" href="reference/commands/logical_range_filter.html#logical-range-filter-post-filter"><span class="std std-ref">post_filter</span></a>]フィルタータイミングを新規追加しました。 <code class="docutils literal notranslate"><span class="pre">filtered</span></code> ステージで生成されるカラムが生成された後に実行されます。</p></li>
</ul>
</div>
<div class="section" id="id50">
<h3>修正<a class="headerlink" href="#id50" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li><p>参照ベクタのインデックスを作成する際に使用するリソースを削減しました。[GitHub#806][村上さんが報告]</p></li>
<li><p>[<a class="reference internal" href="reference/commands/table_create.html"><span class="doc">table_create</span></a>] <code class="docutils literal notranslate"><span class="pre">token_filters</span></code> が無効であってもテーブルが作成される不具合を修正しました。</p></li>
</ul>
</div>
<div class="section" id="id51">
<h3>感謝<a class="headerlink" href="#id51" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li><p>付超群さん</p></li>
<li><p>村上さん</p></li>
</ul>
</div>
</div>
<div class="section" id="release-7-1-0-2017-12-29">
<span id="release-7-1-0"></span><h2>7.1.0リリース - 2017-12-29<a class="headerlink" href="#release-7-1-0-2017-12-29" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id52">
<h3>改良<a class="headerlink" href="#id52" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul>
<li><p>[<a class="reference internal" href="reference/commands/load.html"><span class="doc">load</span></a>] <code class="docutils literal notranslate"><span class="pre">load</span></code> コマンドのクエリーログのフォーマットを改良しました。<code class="docutils literal notranslate"><span class="pre">load</span></code> コマンドのクエリーログに以下の項目が追加されます。</p>
<blockquote>
<div><ul class="simple">
<li><p>ロードしたレコード数を表示します。</p></li>
<li><p>ロードがエラーになったレコードとカラムの数を表示します。</p></li>
<li><p>ロード後の総レコード数を表示します。</p></li>
</ul>
</div></blockquote>
</li>
<li><p>[<a class="reference internal" href="reference/commands/logical_count.html"><span class="doc">logical_count</span></a>] <code class="docutils literal notranslate"><span class="pre">logical_count</span></code> コマンドのクエリーログのフォーマットを改良しました。<code class="docutils literal notranslate"><span class="pre">logical_count</span></code> コマンドのクエリーログに以下の項目が追加されます。</p>
<blockquote>
<div><ul class="simple">
<li><p>マッチしたレコード数を表示します。</p></li>
</ul>
</div></blockquote>
</li>
<li><p>[<a class="reference internal" href="reference/commands/logical_select.html"><span class="doc">logical_select</span></a>] <code class="docutils literal notranslate"><span class="pre">logical_select</span></code> コマンドのクエリーログのフォーマットを改良しました。 <code class="docutils literal notranslate"><span class="pre">logical_select</span></code> コマンドのクエリーログに以下の項目が追加されます。</p>
<blockquote>
<div><ul class="simple">
<li><p>マッチしたレコード数を表示します。</p></li>
<li><p>ドリルダウンした数を表示します。</p></li>
<li><p>ラベルつきのドリルダウンをした数を表示します。</p></li>
<li><p>それぞれのシャードで検索にマッチした数を表示します。</p></li>
<li><p>検索対象のシャードの情報を&quot;[...]&quot;を使って表示します。</p></li>
</ul>
</div></blockquote>
</li>
<li><p>[<a class="reference internal" href="reference/commands/delete.html"><span class="doc">delete</span></a>] <code class="docutils literal notranslate"><span class="pre">delete</span></code> コマンドのクエリーログのフォーマットを改良しました。 <code class="docutils literal notranslate"><span class="pre">delete</span></code> コマンドのクエリーログに以下の項目が追加されます。</p>
<blockquote>
<div><ul class="simple">
<li><p>削除したレコード数と削除に失敗したレコード数を表示します。</p></li>
<li><p>削除後に残ったレコード数を表示します。</p></li>
</ul>
</div></blockquote>
</li>
<li><p>[<a class="reference internal" href="reference/executables/groonga-server-http.html"><span class="doc">Groonga HTTPサーバー</span></a>] <code class="docutils literal notranslate"><span class="pre">groonga</span> <span class="pre">-s</span></code> で実行したサーバーをC-c で確実に停止出来るようにしました。</p></li>
<li><p>Lisp表現( <code class="docutils literal notranslate"><span class="pre">#&lt;nan&gt;</span></code> 、 <code class="docutils literal notranslate"><span class="pre">#i1/0</span></code> 、 <code class="docutils literal notranslate"><span class="pre">#-i1/0</span></code> )の代わりに <code class="docutils literal notranslate"><span class="pre">Nan</span></code> と <code class="docutils literal notranslate"><span class="pre">Infinity</span></code> 、 <code class="docutils literal notranslate"><span class="pre">-Infinity</span></code> を使用するように改良しました。</p></li>
<li><p>ドリルダウンでベクター型のカラムをサポートしました。</p></li>
<li><p>部分的に正規表現を用いた検索から、キーワードを抽出出来るように改良しました。これにより、正規表現を用いた検索に <code class="docutils literal notranslate"><span class="pre">highlight_html</span></code> と <code class="docutils literal notranslate"><span class="pre">snippet_html</span></code> を使えるようになります。[takagi01さんに報告いただきました]</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">grn_bulk_*()</span></code> APIにおいて、 <code class="docutils literal notranslate"><span class="pre">realloc()</span></code> が呼ばれる回数を削減しました。</p>
<p>Windowsにおいて出力が大きいケースでパフォーマンスが向上します。例えば、出力が100MBを超える場合には、約100倍速くなります。</p>
<p><code class="docutils literal notranslate"><span class="pre">realloc()</span></code> はWindowsでは重い処理であるためです。</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">GRN_II_OVERLAP_TOKEN_SKIP_ENABLE</span></code> の値にyesが設定された時のみ <code class="docutils literal notranslate"><span class="pre">GRN_II_OVERLAP_TOKEN_SKIP_ENABLE</span></code> を有効にするようにしました。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GRN_NGRAM_TOKENIZER_REMOVE_BLANK_DISABLE</span></code> は非推奨になりました。代わりに <code class="docutils literal notranslate"><span class="pre">GRN_NGRAM_TOKENIZER_REMOVE_BLANK_ENABL=no</span></code> を使って下さい。</p></li>
<li><p>関数 <code class="docutils literal notranslate"><span class="pre">index_column_source_records</span></code> を新規に追加しました。インデックスカラムのソースを取得することができます。[村上さんがパッチを提供]</p></li>
<li><p>[<a class="reference internal" href="reference/commands/select.html"><span class="doc">select</span></a>] offsetに負の値を設定出来るようにしました。</p></li>
<li><p>固定サイズのカラムの値を取得する際のパフォーマンスを向上しました。</p></li>
<li><p>[<a class="reference internal" href="reference/executables/groonga.html"><span class="doc">groonga 実行ファイル</span></a>] groongaコマンドの引数に <code class="docutils literal notranslate"><span class="pre">--listen-backlog</span></code> オプションを追加しました。listenシステムコールのbacklogをカスタマイズできます。</p></li>
<li><p>[httpd] バンドルしているnginxのバージョンを1.13.8に更新しました。</p></li>
</ul>
</div>
<div class="section" id="id53">
<h3>修正<a class="headerlink" href="#id53" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">highlight_full</span></code> 関数を使用するとメモリリークする問題を修正しました。</p></li>
<li><p>Mroongaで以下ような呼び出しを行った際にクラッシュする問題を修正しました。</p>
<blockquote>
<div><ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">grn_expr_append_const(&quot;_id&quot;)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">grn_expr_append_op(GRN_OP_GET_VALUE)</span></code></p></li>
</ol>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="id54">
<h3>感謝<a class="headerlink" href="#id54" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li><p>takagi01</p></li>
<li><p>村上さん</p></li>
</ul>
</div>
</div>
<div class="section" id="release-7-0-9-2017-11-29">
<span id="release-7-0-9"></span><h2>7.0.9リリース - 2017-11-29<a class="headerlink" href="#release-7-0-9-2017-11-29" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id55">
<h3>改良<a class="headerlink" href="#id55" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li><p>Apache Arrowの新しいバージョンをサポートしました。このリリースでは、Apache Arrowサポートを有効にするには0.8.0以降が必要です。</p></li>
<li><p>[sharding] 動的カラムの新しいAPIを追加しました。</p>
<ul>
<li><p>Groonga::LabeledArguments</p></li>
</ul>
</li>
<li><p>[sharding] 便利メソッドである <code class="docutils literal notranslate"><span class="pre">Table#select_all</span></code> を追加しました。</p></li>
<li><p>[<a class="reference internal" href="reference/commands/logical_range_filter.html"><span class="doc">logical_range_filter</span></a>] 動的カラムをサポートしました。 <code class="docutils literal notranslate"><span class="pre">initial</span></code> と <code class="docutils literal notranslate"><span class="pre">filtered</span></code> ステージのみをサポートしています。</p></li>
<li><p>[<a class="reference internal" href="reference/commands/logical_range_filter.html"><span class="doc">logical_range_filter</span></a>] <code class="docutils literal notranslate"><span class="pre">cache</span></code> 引数と動的カラムに関するドキュメントを追加しました。</p></li>
<li><p>[<a class="reference internal" href="reference/commands/logical_count.html"><span class="doc">logical_count</span></a>] 動的カラムをサポートしました。<code class="docutils literal notranslate"><span class="pre">initial</span></code> ステージのみサポートしています。</p></li>
<li><p>[<a class="reference internal" href="reference/commands/logical_count.html"><span class="doc">logical_count</span></a>] 名前付き引数のドキュメントを追加しました。</p></li>
<li><p>[<a class="reference internal" href="reference/commands/select.html"><span class="doc">select</span></a>] <code class="docutils literal notranslate"><span class="pre">--match_columns</span> <span class="pre">_key</span></code> をインデックスを使わない場合でもサポートしました。</p></li>
<li><p>[<a class="reference internal" href="reference/functions/in_values.html"><span class="doc">in_values</span></a>] 126を超える引数を指定できるようにしました。 [GitHub#760] [GitHub#781] [groonga-dev,04449] [むらたさんが報告]</p></li>
<li><p>[httpd] バンドルしているnginxのバージョンを1.13.7に更新しました。</p></li>
</ul>
</div>
<div class="section" id="id56">
<h3>修正<a class="headerlink" href="#id56" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li><p>[httpd] 古いバージョンのGroongaがすでにインストールされている場合にそちらを参照してしまい、ビルドエラーになる問題を修正しました。　[GitHub#775] [myamanishi3さんが報告]</p></li>
<li><p>[<a class="reference internal" href="reference/functions/in_values.html"><span class="doc">in_values</span></a>] <code class="docutils literal notranslate"><span class="pre">in_values</span></code> に多すぎる引数を指定するとクラッシュする不具合を修正しました。この不具合は126を超える引数をサポートする過程で見つかりました。 [GitHub#780]</p></li>
<li><p>[cmake] LZ4 と MessagePack をビルド時に正しく検出できるようにしました。 [Sergei Golubchikさんが報告]</p></li>
<li><p>[<a class="reference internal" href="reference/indexing.html#offline-index-construction"><span class="std std-ref">静的なインデックス構築方法</span></a>] ベクターカラムの静的索引構築時に必要以上のリソースを使用する問題を修正しました。1つのベクターカラムの要素数が多く、大量のレコードがある場合はGroongaがクラッシュしていました。 [groonga-dev,04533][内山敏郎さんが報告]</p></li>
</ul>
</div>
<div class="section" id="id57">
<h3>感謝<a class="headerlink" href="#id57" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li><p>むらたさん</p></li>
<li><p>myamanishi3さん</p></li>
<li><p>Sergei Golubchikさん</p></li>
<li><p>内山敏郎さん</p></li>
</ul>
</div>
</div>
<div class="section" id="release-7-0-8-2017-10-29">
<span id="release-7-0-8"></span><h2>7.0.8リリース - 2017-10-29<a class="headerlink" href="#release-7-0-8-2017-10-29" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id58">
<h3>改良<a class="headerlink" href="#id58" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li><p>[windows] クラッシュした際にバックトレースを出せるようにしました。関数呼び出しだけでなく、ソースコードの該当行も可能な限り表示します。バックトレースのサポートにより、問題の素早い解決につながります。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">QUERY_NO_SYNTAX_ERROR</span></code> を指定してあれば &quot;( )&quot; を <code class="docutils literal notranslate"><span class="pre">--query</span></code> に指定して実行できるようにしました。 以前のバージョンでは、エラーになっていました。 [GitHub#767]</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">QUERY_NO_SYNTAX_ERROR</span></code> を指定してあれば &quot;(+)&quot; を <code class="docutils literal notranslate"><span class="pre">--query</span></code> に指定して実行できるようにしました。 以前のバージョンでは、エラーになっていました。 [GitHub#767]</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">QUERY_NO_SYNTAX_ERROR</span></code> を指定してあれば <code class="docutils literal notranslate"><span class="pre">--query</span> <span class="pre">&quot;~y&quot;</span></code> (~ではじまる)クエリーを実行できるようにしました。 以前のバージョンでは、エラーになっていました。 [GitHub#767]</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">expired</span></code> のログレベルを <code class="docutils literal notranslate"><span class="pre">info</span></code> から <code class="docutils literal notranslate"><span class="pre">debug</span></code> に変更しました。 <code class="docutils literal notranslate"><span class="pre">2017-10-29</span> <span class="pre">14:05:34.123456|i|</span> <span class="pre">&lt;0000000012345678:0&gt;</span> <span class="pre">expired</span> <span class="pre">i=000000000B123456</span> <span class="pre">max=10</span> <span class="pre">(2/2)</span></code> このメッセージはインデックスをメモリーにマップした後で開放されたときに記録されます。つまり、メモリーの使用状況に関するデバッグには有用ですが、通常の運用においては有用ではありません。そのためログレベルを <code class="docutils literal notranslate"><span class="pre">debug</span></code> に変更しました。</p></li>
<li><p>Ubuntu 17.10 Artful Aardvarkをサポート。</p></li>
</ul>
</div>
<div class="section" id="id59">
<h3>修正<a class="headerlink" href="#id59" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li><p>[dat] データベースを拡張する際、意図せず大きなファイルが(ワーストケースで)作成されてしまうことのある不具合を修正しました。この不具合はインデックスカラムを頻繁に作成/削除を繰り返したときに発生する可能性があります。7.0.7ではこの不具合に関連して&quot;大量にキーを削除したケースで <code class="docutils literal notranslate"><span class="pre">table_create</span></code> に失敗する&quot;問題を修正しましたが、その修正が不十分なケースに対応しました。</p></li>
<li><p>[<a class="reference internal" href="reference/commands/logical_select.html"><span class="doc">logical_select</span></a>] <code class="docutils literal notranslate"><span class="pre">offset</span></code> と <code class="docutils literal notranslate"><span class="pre">limit</span></code> が複数のシャードに対して適用されたとき、実際よりも少ないレコードが返される不具合を修正しました。</p></li>
</ul>
</div>
</div>
<div class="section" id="release-7-0-7-2017-09-29">
<span id="release-7-0-7"></span><h2>7.0.7リリース - 2017-09-29<a class="headerlink" href="#release-7-0-7-2017-09-29" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id60">
<h3>改良<a class="headerlink" href="#id60" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">QUERY_NO_SYNTAX_ERROR</span></code> を <code class="docutils literal notranslate"><span class="pre">+</span></code> のみのクエリーに指定したときにも動作するようにしました。以前のバージョンではそのようなクエリーはエラーになっていました。</p></li>
<li><p>[httpd] バンドルしているnginxのバージョンを1.13.5に更新しました。</p></li>
<li><p>[<a class="reference internal" href="reference/commands/dump.html"><span class="doc">dump</span></a>] 引数のデフォルト値を構文のセクションに追加しました。</p></li>
<li><p>[<a class="reference internal" href="reference/command/command_version.html"><span class="doc">コマンドバージョン</span></a>] <code class="docutils literal notranslate"><span class="pre">--default-command-version</span> <span class="pre">3</span></code> に対応しました。</p></li>
<li><p>関数呼び出し時に検索結果をキャッシュできるようにしました。ほとんどの関数の呼び出し結果はキャッシュされます。例外は <code class="docutils literal notranslate"><span class="pre">now()</span></code> と <code class="docutils literal notranslate"><span class="pre">rand()</span></code> を使った場合です。標準でキャッシュするように振る舞いを変更したので、新たにAPIを追加しました。</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">grn_proc_set_is_stable()</span></code> を追加。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">grn_proc_is_stable()</span></code> を追加。</p></li>
</ul>
<p>呼び出しごとに結果が異なる関数を新規に追加する場合、<code class="docutils literal notranslate"><span class="pre">grn_proc_is_stable(ctx,</span> <span class="pre">proc,</span> <span class="pre">GRN_FALSE)</span></code> を呼ばなければなりません。もし呼ばなかった場合には、検索結果がキャッシュされるので、期待と異なり誤った結果を返します。</p>
</li>
</ul>
</div>
<div class="section" id="id61">
<h3>修正<a class="headerlink" href="#id61" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul>
<li><p>[windows] <code class="docutils literal notranslate"><span class="pre">database_unmap</span></code> が実行される前のファイルハンドルのエラー処理を適切に行うようにしました。<code class="docutils literal notranslate"><span class="pre">database_unmap</span></code> 実行前にリクエストがキャンセルされた場合、排他制御部分が未初期化となる場合がありました。その場合、クラッシュしていました。</p></li>
<li><p>[<a class="reference internal" href="reference/tokenizers.html"><span class="doc">トークナイザー</span></a>] トークナイザー名のドキュメントを修正しました。<code class="docutils literal notranslate"><span class="pre">TokenBigramIgnoreBlankSplitSymbolAlpha</span></code> や <code class="docutils literal notranslate"><span class="pre">TokenBigramIgnoreBlankSplitSymbolAlphaDigit</span></code> であるべきでした。</p></li>
<li><p>エラー時に空のファイルが残らないようにしました。</p>
<p>以前のバージョンでは、空のファイルがエラー時に残っていました。</p>
<p>再現するためのシナリオは以下です。:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">grn_fileinfo_open</span></code> によりファイルの作成に成功する</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DO_MAP</span></code> によりファイルマッピングに失敗する</p></li>
</ol>
</div></blockquote>
<p>そのような場合、Groongaの管理下にないファイルのせいで「すでにファイルが存在します。」という別のエラーが発生します。そういったファイルは後始末の段階で削除すべきでした。</p>
</li>
<li><p>短時間に多数の更新を行っている状況で検索した場合にクラッシュすることがある不具合を修正しました。</p></li>
<li><p>[<a class="reference internal" href="reference/commands/table_create.html"><span class="doc">table_create</span></a>] 大量に削除されたキーがDATテーブルに存在する場合、<code class="docutils literal notranslate"><span class="pre">table_create</span></code> の実行に失敗する不具合を修正しました。</p></li>
</ul>
</div>
</div>
<div class="section" id="release-7-0-6-2017-08-29">
<span id="release-7-0-6"></span><h2>7.0.6リリース - 2017-08-29<a class="headerlink" href="#release-7-0-6-2017-08-29" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id62">
<h3>改良<a class="headerlink" href="#id62" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li><p>前方一致検索を複数インデックスを指定してできるようになりました。 (例 <code class="docutils literal notranslate"><span class="pre">--query</span> <span class="pre">&quot;Foo*&quot;</span> <span class="pre">--match_columns</span> <span class="pre">&quot;TITLE_INDEX_COLUMN||BODY_INDEX_COLUMN&quot;</span></code>)</p></li>
<li><p>[<a class="reference internal" href="reference/window_functions/window_count.html"><span class="doc">window_count</span></a>] <code class="docutils literal notranslate"><span class="pre">window_count</span></code> 関数を追加しました。検索した結果にカウントした値を追加するのに使います。検索結果をもとに分析したり、カウント結果をもとにフィルタしたりすると便利です。</p></li>
<li><p>以下のAPIを公開しました。</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">grn_obj_get_disk_usage()</span></code> を追加。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">GRN_EXPR_QUERY_NO_SYNTAX_ERROR</span></code> を追加。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">grn_expr_syntax_expand_query_by_table()</span></code> を追加。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">grn_table_find_reference_object()</span></code> を追加。</p></li>
</ul>
</li>
<li><p>[<a class="reference internal" href="reference/commands/object_inspect.html"><span class="doc">object_inspect</span></a>] 指定したオブジェクトのディスク使用量を表示できるようになりました。</p></li>
<li><p>クエリーをパースする際にフォールバックする機能をサポートしました。 <code class="docutils literal notranslate"><span class="pre">QUERY_NO_SYNTAX_ERROR</span></code> フラグが <code class="docutils literal notranslate"><span class="pre">query_flags</span></code> に指定されていると有効になります。(標準では無効です) このフラグが設定されていると、シンタックスエラーが発生しなくなります。例えば、&quot;A +&quot; というクエリーは自動的にエスケープされて &quot;A +&quot; という扱いになります。この振る舞いはアプリケーションがユーザーの入力をそのまま検索語句として使い、シンタックスエラーやログに記録されないようにしたい場合に便利です。</p></li>
<li><p>クエリー内の語のスコアを調整できるようになりました。&quot;&gt;&quot;, &quot;&lt;&quot; と &quot;~&quot;がサポートされています。例えば &quot;&gt;Groonga&quot; は &quot;Groonga&quot; のスコアをインクリメントします。&quot;&lt;Groonga&quot; は &quot;Groonga&quot; のスコアをデクリメントします。&quot;~Groonga&quot; は検索結果についてマッチしたドキュメントのスコアをデクリメントします。&quot;~&quot; は検索結果そのものには影響しません。</p></li>
<li><p>テーブルを削除するときのパフォーマンスを改善しました。 <code class="docutils literal notranslate"><span class="pre">thread_limit=1</span></code> する必要はありません。参照されているテーブルが存在するかチェックする処理をオブジェクトを開かなくてもできるようにしました。その結果としてパフォーマンスが改善しました。</p></li>
<li><p>[httpd] バンドルしているnginxのバージョンを1.13.4に更新しました。</p></li>
</ul>
</div>
<div class="section" id="id63">
<h3>修正<a class="headerlink" href="#id63" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li><p>[<a class="reference internal" href="reference/commands/dump.html"><span class="doc">dump</span></a>] 7番目の引数 ( <code class="docutils literal notranslate"><span class="pre">--sort_hash_table</span></code> )が名前無しだと無視される不具合を修正しました。</p></li>
<li><p>[<a class="reference internal" href="reference/commands/schema.html"><span class="doc">schema</span></a>] コマンドラインパラメータの誤りを修正しました。<cite>source</cite> であるべきところが <cite>sources</cite> になっていました。[groonga-dev,04449] [むらたさんが報告]</p></li>
<li><p>[<a class="reference internal" href="reference/commands/ruby_eval.html"><span class="doc">ruby_eval</span></a>] ruby_evalコマンドがシンタックスエラーのときにクラッシュする問題を修正しました。 [GitHub#751] [ryo-pinusさんがパッチ提供]</p></li>
</ul>
</div>
<div class="section" id="id64">
<h3>感謝<a class="headerlink" href="#id64" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li><p>murata satoshi</p></li>
<li><p>ryo-pinus</p></li>
</ul>
</div>
</div>
<div class="section" id="release-7-0-5-2017-07-29">
<span id="release-7-0-5"></span><h2>7.0.5リリース - 2017-07-29<a class="headerlink" href="#release-7-0-5-2017-07-29" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id65">
<h3>改良<a class="headerlink" href="#id65" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li><p>[httpd] バンドルしているnginxのバージョンを1.13.3に更新しました。セキュリティーに関する修正(CVE-2017-7529)を含んでいます。</p></li>
<li><p>[<a class="reference internal" href="reference/commands/load.html"><span class="doc">load</span></a>] UInt64の最大値をロードできるようにしました。以前のバージョンでは意図せず0に変換されてしまっていました。</p></li>
<li><p>以下のAPIを公開しました。</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">grn_window_get_size()</span></code> [GitHub#725] [村上さんがパッチ提供]</p></li>
</ul>
</li>
<li><p>[<a class="reference internal" href="reference/functions/math_abs.html"><span class="doc">math_abs</span></a>] 絶対値を計算するための <code class="docutils literal notranslate"><span class="pre">math_abs()</span></code> 関数を追加しました。 [GitHub#721]</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">grn_default_logger_set_path()</span></code> と <code class="docutils literal notranslate"><span class="pre">grn_default_query_logger_set_path()</span></code> をスレッドセーフにしました。</p></li>
<li><p>[Windows] バンドルしているpcreを8.41に更新しました。</p></li>
<li><p>[<a class="reference internal" href="reference/commands/normalize.html"><span class="doc">normalize</span></a>] エラー時に冗長な空文字列が出力されないようにしました。</p></li>
<li><p>[functions/time] 0除算が発生したときにエラーメッセージを出力するようにしました。 [GitHub#733] [村上さんがパッチ提供]</p></li>
<li><p>[windows] <code class="docutils literal notranslate"><span class="pre">ERROR_NO_SYSTEM_RESOURCES</span></code> エラーを <code class="docutils literal notranslate"><span class="pre">GRN_RESOURCE_TEMPORARILY_UNAVAILABLE</span></code> にマッピングするようにしました。以前は <code class="docutils literal notranslate"><span class="pre">rc=-1</span></code> をエラーコードとして返していました。ただし実際にどんな問題がおきたのかこれではわかりにくいので、 今回の修正では <code class="docutils literal notranslate"><span class="pre">rc=-12</span></code> を返すようにしています。</p></li>
<li><p>[functions/min][functions/max] ベクターカラムをサポートしました。これでカラムがスカラーなのかベクターなのか気にせず使えるようになりました。 [GitHub#735] [村上さんがパッチ提供]</p></li>
<li><p>[<a class="reference internal" href="reference/commands/dump.html"><span class="doc">dump</span></a>] <code class="docutils literal notranslate"><span class="pre">--sort_hash_table</span></code> オプションをサポートしました。ハッシュテーブルの <code class="docutils literal notranslate"><span class="pre">_key</span></code> でのソートには <code class="docutils literal notranslate"><span class="pre">--sort_hash_table</span> <span class="pre">yes</span></code> を指定します。</p></li>
<li><p>[<a class="reference internal" href="reference/functions/between.html"><span class="doc">between</span></a>] インデックスカラムを指定できるようになりました。 [GitHub#740] [村上さんがパッチ提供]</p></li>
<li><p>[load] Apache Arrow 0.5.0 以降をサポート。</p></li>
<li><p>[<a class="reference internal" href="troubleshooting/how_to_analyze_error_message.html"><span class="doc">エラーメッセージの解析方法</span></a>] エラーメッセージの解析方法のドキュメントを追加しました。</p></li>
<li><p>[<a class="reference internal" href="install/debian.html"><span class="doc">Debian GNU/Linux</span></a>] ソースからビルドするときに必要なパッケージのリストを更新しました。</p></li>
<li><p>[<a class="reference internal" href="install/ubuntu.html"><span class="doc">Ubuntu</span></a>] Ubuntu 16.10（Yakkety Yak）のサポートをやめました。2017年7月20日でサポートが切れた（EOLになった）ためです。</p></li>
</ul>
</div>
<div class="section" id="id66">
<h3>修正<a class="headerlink" href="#id66" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li><p>テキスト型( <code class="docutils literal notranslate"><span class="pre">ShortText</span></code> など)のベクターカラムに対するインデックスを正しく構築できるようにしました。この修正でインデックス更新後に全文検索でマッチしない問題が解決します。 [GitHub#494]</p></li>
<li><p>[<a class="reference internal" href="reference/commands/thread_limit.html"><span class="doc">thread_limit</span></a>] <code class="docutils literal notranslate"><span class="pre">thread_limit?max=1</span></code> というリクエストが同時にきたときにデッドロックが発生する問題を修正しました。</p></li>
<li><p>[<a class="reference internal" href="reference/executables/groonga-httpd.html"><span class="doc">groonga-httpd</span></a>] デフォルトのPIDのパスと再起動時に想定しているPIDのパスがあっていない問題を修正しました。そのせいで groonga-httpd の再起動に失敗していました。 [GitHub#743] [sozakiさんが報告]</p></li>
</ul>
</div>
<div class="section" id="id67">
<h3>感謝<a class="headerlink" href="#id67" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li><p>村上さん</p></li>
</ul>
</div>
</div>
<div class="section" id="release-7-0-4-2017-06-29">
<span id="release-7-0-4"></span><h2>7.0.4リリース - 2017-06-29<a class="headerlink" href="#release-7-0-4-2017-06-29" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id68">
<h3>改良<a class="headerlink" href="#id68" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li><p>物理的なファイルの作成/削除のログを障害の切り分けのために記録するようにしました。 [GitHub#700,#701]</p></li>
<li><p>[<a class="reference internal" href="reference/functions/in_records.html"><span class="doc">in_records</span></a>] 固定長カラムの検索パフォーマンスを改善しました。速度が50%程度改善する可能性があります。</p></li>
<li><p>[<a class="reference internal" href="reference/executables/grndb.html"><span class="doc">grndb</span></a>] <code class="docutils literal notranslate"><span class="pre">--log-path</span></code> オプションを追加しました。</p></li>
<li><p>[<a class="reference internal" href="reference/executables/grndb.html"><span class="doc">grndb</span></a>] <code class="docutils literal notranslate"><span class="pre">--log-level</span></code> オプションを追加しました。</p></li>
<li><p>以下のAPIを公開しました。</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">grn_operator_to_exec_func()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">grn_obj_is_corrupt()</span></code></p></li>
</ul>
</li>
<li><p>&quot;固定長カラム 演算子 定数&quot; というようなクエリのパフォーマンスを改善しました。対応している演算子は <code class="docutils literal notranslate"><span class="pre">==</span></code>, <code class="docutils literal notranslate"><span class="pre">!=</span></code>, <code class="docutils literal notranslate"><span class="pre">&lt;</span></code>, <code class="docutils literal notranslate"><span class="pre">&gt;</span></code>, <code class="docutils literal notranslate"><span class="pre">&lt;=</span></code> と <code class="docutils literal notranslate"><span class="pre">&gt;=</span></code> です。</p></li>
<li><p>&quot;カラム 演算子 値 &amp;&amp; カラム 演算子 値 &amp;&amp; ...&quot; というようなクエリのパフォーマンスを改善しました。</p></li>
<li><p>[<a class="reference internal" href="reference/executables/grndb.html"><span class="doc">grndb</span></a>] <code class="docutils literal notranslate"><span class="pre">grndb</span> <span class="pre">check</span></code> で壊れたオブジェクトの検出をサポートしました。</p></li>
<li><p>[<a class="reference internal" href="reference/commands/io_flush.html"><span class="doc">io_flush</span></a>] <code class="docutils literal notranslate"><span class="pre">--only_opened</span></code> オプションをサポートしました。開いているデータベースオブジェクトのみをフラッシュすることができます。</p></li>
<li><p>[<a class="reference internal" href="reference/executables/grndb.html"><span class="doc">grndb</span></a>] 参照先のない &quot;inspect&quot; オブジェクトの検出と削除をサポートしました。この状態はコマンド名が <code class="docutils literal notranslate"><span class="pre">inspect</span></code> から <code class="docutils literal notranslate"><span class="pre">object_inspect</span></code> に変更されたことによって発生していました。</p></li>
</ul>
</div>
<div class="section" id="id69">
<h3>修正<a class="headerlink" href="#id69" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li><p>[rpm][centos] カスタマイズ版のビルドで意図しないマクロ展開が発生する問題を修正しました。この不具合はGroongaをSRPMからビルドする際にspecファイルの <code class="docutils literal notranslate"><span class="pre">additional_configure_options</span></code> パラメータを使ってリビルドするときのみ発生していました。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">grn_table_setoperation()</span></code> のNULLチェックを追加しました。インデックスが壊れている際に、クラッシュする可能性がありました。 [GitHub#699]</p></li>
</ul>
</div>
<div class="section" id="id70">
<h3>感謝<a class="headerlink" href="#id70" title="このヘッドラインへのパーマリンク">¶</a></h3>
</div>
</div>
<div class="section" id="release-7-0-3-2017-05-29">
<span id="release-7-0-3"></span><h2>7.0.3リリース - 2017-05-29<a class="headerlink" href="#release-7-0-3-2017-05-29" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id71">
<h3>改良<a class="headerlink" href="#id71" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li><p>[<a class="reference internal" href="reference/commands/select.html"><span class="doc">select</span></a>] <a class="reference internal" href="tutorial/match_columns.html#full-text-search-with-specific-index-name"><span class="std std-ref">インデックス名を指定した全文検索</span></a> のドキュメントを追加しました。</p></li>
<li><p>[インデックス] どのレコードに対するポスティングリストが長すぎるのかわかるように、警告メッセージをログに出すようにしました。</p></li>
<li><p>[<a class="reference internal" href="reference/commands/load.html"><span class="doc">load</span></a>][<a class="reference internal" href="reference/commands/dump.html"><span class="doc">dump</span></a>] Apache Arrowをサポートするようにしました。 [GitHub#691]</p></li>
<li><p>[cmake] 静的ライブラリとしてビルドする際に、LZ4をリンクできるようにしました。 [Sergei Golubchikさんがパッチを提供]</p></li>
<li><p>[<a class="reference internal" href="reference/commands/delete.html"><span class="doc">delete</span></a>] キャンセルできるようにしました。</p></li>
<li><p>[httpd] バンドルしているnginxのバージョンを1.13.0に更新しました。</p></li>
<li><p>以下のAPIを公開しました。</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">grn_plugin_proc_get_caller()</span></code> を追加。</p></li>
</ul>
</li>
<li><p>インデックスカラムに関連した関数とセレクタを追加しました。</p>
<ul>
<li><p>追加されたセレクタ: <code class="docutils literal notranslate"><span class="pre">index_column_df_ratio_between()</span></code></p></li>
<li><p>追加された関数: <code class="docutils literal notranslate"><span class="pre">index_column_df_ratio()</span></code></p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="id72">
<h3>修正<a class="headerlink" href="#id72" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li><p>[<a class="reference internal" href="reference/commands/delete.html"><span class="doc">delete</span></a>] エラーが適切にクリアされていない不具合を修正しました。そのせいで、後続の削除処理に影響し意図しない振る舞いをしていました。</p></li>
<li><p>[windows] ファイルを <code class="docutils literal notranslate"><span class="pre">O_CREAT</span></code> フラグ付きで開くときに、IOのバージョンが正しく検出されない不具合を修正しました。</p></li>
<li><p>[<a class="reference internal" href="reference/functions/vector_slice.html"><span class="doc">vector_slice</span></a>] (型のサイズが)4バイトでないベクターカラムをsliceできない不具合を修正しました。 [GitHub#695] [村上さんがパッチ提供]</p></li>
<li><p>(型のサイズが)4バイトでないベクターカラムでベクターの要素をインデックスで指定するとシーケンシャルサーチでマッチしない不具合を修正しました。 [GitHub#696] [村上さんがパッチ提供]</p></li>
<li><p>[<a class="reference internal" href="reference/commands/logical_select.html"><span class="doc">logical_select</span></a>] <code class="docutils literal notranslate"><span class="pre">min</span></code> に月の最終日を指定すると &quot;argument out of range&quot; が発生する不具合を修正しました。</p></li>
</ul>
</div>
<div class="section" id="id73">
<h3>感謝<a class="headerlink" href="#id73" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li><p>Sergei Golubchikさん</p></li>
<li><p>村上さん</p></li>
</ul>
</div>
</div>
<div class="section" id="release-7-0-2-2017-04-29">
<span id="release-7-0-2"></span><h2>7.0.2リリース - 2017-04-29<a class="headerlink" href="#release-7-0-2-2017-04-29" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id74">
<h3>改良<a class="headerlink" href="#id74" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li><p>[<a class="reference internal" href="reference/commands/logical_select.html"><span class="doc">logical_select</span></a>] <a class="reference internal" href="reference/commands/logical_select.html#logical-select-drilldowns-label-columns-name-window-sort-keys"><span class="std std-ref">drilldowns[${LABEL}].columns[${NAME}].window.sort_keys</span></a> と <a class="reference internal" href="reference/commands/logical_select.html#logical-select-drilldowns-label-columns-name-window-group-keys"><span class="std std-ref">drilldowns[${LABEL}].columns[${NAME}].window.group_keys</span></a> で複数のキーを指定できるようになりました。</p></li>
<li><p>[Windows] バンドルしているLZ4を1.7.5に更新しました。</p></li>
<li><p>[cache] 永続化キャッシュをサポートしました。</p></li>
<li><p>[<a class="reference internal" href="reference/commands/log_level.html"><span class="doc">log_level</span></a>] 英語のドキュメントを更新しました。</p></li>
<li><p>以下のAPIを公開しました。</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">grn_set_default_cache_base_path()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">grn_get_default_cache_base_path()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">grn_persistent_cache_open()</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">grn_cache_default_open()</span></code></p></li>
</ul>
</li>
<li><p>[<a class="reference internal" href="reference/executables/groonga.html#cmdoption-groonga-cache-base-path"><code class="xref std std-option docutils literal notranslate"><span class="pre">groonga</span> <span class="pre">--cache-base-path</span></code></a>] 永続キャッシュを使うための新しいオプションを追加しました。</p></li>
<li><p>[<a class="reference internal" href="reference/executables/groonga-httpd.html"><span class="doc">groonga-httpd</span></a>] [<a class="reference internal" href="reference/executables/groonga-httpd.html#groonga-httpd-groonga-cache-base-path"><span class="std std-ref">groonga_cache_base_path</span></a>] 永続キャッシュを使うための新しい設定を追加しました。</p></li>
<li><p>[Windows] バンドルしているmsgpackを2.1.1に更新しました。</p></li>
<li><p>[<a class="reference internal" href="reference/commands/object_inspect.html"><span class="doc">object_inspect</span></a>] カラム情報を表示するだけでなく、インデックスカラムの統計情報も表示できるようにしました。</p></li>
<li><p>正規表現の「 <code class="docutils literal notranslate"><span class="pre">.*</span></code> 」というパターンでインデックスを使って検索できるようになりました。 この機能はデフォルトで有効です。環境変数に <code class="docutils literal notranslate"><span class="pre">GRN_SCAN_INFO_REGEXP_DOT_ASTERISK_ENABLE=no</span></code> を設定すると無効化できます。</p></li>
<li><p>[<a class="reference internal" href="reference/functions/in_records.html"><span class="doc">in_records</span></a>] 既存のテーブルを条件のパターンを指定するのに使うことのできる関数を追加しました。</p></li>
<li><p>[<a class="reference internal" href="install/ubuntu.html"><span class="doc">Ubuntu</span></a>] EOLのため、Ubuntu 12.04のサポートをやめました。</p></li>
</ul>
</div>
<div class="section" id="id75">
<h3>修正<a class="headerlink" href="#id75" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li><p>[<a class="reference internal" href="reference/commands/logical_select.html"><span class="doc">logical_select</span></a>] 異なるキャッシュが使われてしまう不具合を修正しました。この問題は動的カラムを使っているときに発生していました。</p></li>
<li><p>[<a class="reference internal" href="reference/commands/logical_select.html"><span class="doc">logical_select</span></a>] 動的カラムが作成されない不具合を修正しました。レコードにマッチしない場合に発生していました。</p></li>
<li><p>[<a class="reference internal" href="reference/commands/reindex.html"><span class="doc">reindex</span></a>] reindexコマンドの実行によりデータが失われてしまう不具合を修正しました。</p></li>
<li><p>[httpd] 別のユーザーでワーカーを動かしている時、 <a class="reference internal" href="reference/commands/quit.html"><span class="doc">quit</span></a> と <a class="reference internal" href="reference/commands/shutdown.html"><span class="doc">shutdown</span></a> のレスポンスが壊れている問題を修正しました。 [GitHub ranguba/groonga-client#12]</p></li>
</ul>
</div>
</div>
<div class="section" id="release-7-0-1-2017-03-29">
<span id="release-7-0-1"></span><h2>7.0.1リリース - 2017-03-29<a class="headerlink" href="#release-7-0-1-2017-03-29" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id76">
<h3>改良<a class="headerlink" href="#id76" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li><p>以下のAPIを公開しました。</p>
<ul>
<li><p>grn_ii_cursor_next_pos()</p></li>
<li><p>grn_table_apply_expr()</p></li>
<li><p>grn_obj_is_data_column()</p></li>
<li><p>grn_obj_is_expr()</p></li>
<li><p>grn_obj_is_scalar_column()</p></li>
</ul>
</li>
<li><p>[<a class="reference internal" href="reference/commands/column_copy.html"><span class="doc">column_copy</span></a>] 参照型のベクタのダンプをサポートしました。</p></li>
<li><p>[<a class="reference internal" href="reference/commands/load.html"><span class="doc">load</span></a>] <code class="docutils literal notranslate"><span class="pre">array&lt;object&gt;</span></code> スタイルの重み付きベクターカラムのloadをサポートしました。 <code class="docutils literal notranslate"><span class="pre">array&lt;object&gt;</span></code> の例: <code class="docutils literal notranslate"><span class="pre">[{&quot;key1&quot;:</span> <span class="pre">weight1},</span> <span class="pre">{&quot;key2&quot;:</span> <span class="pre">weight2}]</span></code></p></li>
<li><p>インデックスを使った <code class="docutils literal notranslate"><span class="pre">!(XXX</span> <span class="pre">OPERATOR</span> <span class="pre">VALUE)</span></code> の検索をサポートしました。演算子として <code class="docutils literal notranslate"><span class="pre">&gt;</span></code> だけでなく、 <code class="docutils literal notranslate"><span class="pre">&gt;=</span></code>、 <code class="docutils literal notranslate"><span class="pre">&lt;</span></code>、 <code class="docutils literal notranslate"><span class="pre">&lt;=</span></code>、 <code class="docutils literal notranslate"><span class="pre">==</span></code> や <code class="docutils literal notranslate"><span class="pre">!=</span></code> も使えます。</p></li>
<li><p>インデックスを使って <code class="docutils literal notranslate"><span class="pre">!(column</span> <span class="pre">==</span> <span class="pre">CONSTANT)</span></code> を検索できるようになりました。例えば <code class="docutils literal notranslate"><span class="pre">!(column</span> <span class="pre">==</span> <span class="pre">29)</span></code> などです。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">!</span></code> の最適化を以下のパターンでサポートしました。</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">!(column</span> <span class="pre">&#64;</span> <span class="pre">&quot;X&quot;)</span> <span class="pre">&amp;&amp;</span> <span class="pre">(column</span> <span class="pre">&#64;</span> <span class="pre">&quot;Y&quot;)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">(column</span> <span class="pre">&#64;</span> <span class="pre">&quot;Y&quot;)</span> <span class="pre">&amp;&amp;</span> <span class="pre">!(column</span> <span class="pre">&#64;</span> <span class="pre">&quot;X&quot;)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">(column</span> <span class="pre">&#64;</span> <span class="pre">&quot;Y&quot;)</span> <span class="pre">&amp;!</span> <span class="pre">!(column</span> <span class="pre">&#64;</span> <span class="pre">&quot;X&quot;)</span></code></p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">XXX</span> <span class="pre">||</span> <span class="pre">!(column</span> <span class="pre">&#64;</span> <span class="pre">&quot;xxx&quot;)</span></code> をインデックスを使って検索できるようになりました。</p></li>
<li><p>[<a class="reference internal" href="reference/commands/dump.html"><span class="doc">dump</span></a>]  <code class="docutils literal notranslate"><span class="pre">'{&quot;x&quot;:</span> <span class="pre">1,</span> <span class="pre">&quot;y&quot;:</span> <span class="pre">2}'</span></code> というスタイルを参照されていない重み付きベクターカラムで使うようにしました。この変更は古いGroongaには影響しません。もともとサポートされているからです。</p></li>
<li><p>[実験的] <code class="docutils literal notranslate"><span class="pre">GRN_ORDER_BY_ESTIMATED_SIZE_ENABLE</span></code> 環境変数をサポートしました。この変数はクエリの最適化を予想されるヒット件数に応じて行うかどうかを切り替えるのに使用します。この機能はデフォルトでは無効です。有効にするには <code class="docutils literal notranslate"><span class="pre">GRN_ORDER_BY_ESTIMATED_SIZE_ENABLE=yes</span></code> を指定します。</p></li>
<li><p>[<a class="reference internal" href="reference/commands/select.html"><span class="doc">select</span></a>] <code class="docutils literal notranslate"><span class="pre">columns</span></code> や <code class="docutils literal notranslate"><span class="pre">drilldown</span></code> の評価結果をクエリログに追加するようにしました。</p></li>
<li><p>[<a class="reference internal" href="reference/commands/select.html"><span class="doc">select</span></a>] <code class="docutils literal notranslate"><span class="pre">drilldown</span></code> のクエリログのフォーマットを変更しました。これは非互換な変更ですが、クエリログを変換するようなプログラムを独自に開発しているユーザー以外には影響ありません。</p></li>
<li><p>[<a class="reference internal" href="reference/commands/table_remove.html"><span class="doc">table_remove</span></a>] 一時的なメモリ使用量を削減しました。スレッドの最大数が0のときに有効になります。</p></li>
<li><p>[<a class="reference internal" href="reference/commands/select.html"><span class="doc">select</span></a>] <code class="docutils literal notranslate"><span class="pre">columns[LABEL](N)</span></code> がクエリログのフォーマットとして使われます。以前は <code class="docutils literal notranslate"><span class="pre">columns(N)[LABEL]</span></code> でした。</p></li>
<li><p>[<a class="reference internal" href="tutorial/query_expansion.html"><span class="doc">クエリ拡張</span></a>] ベクターカラムを使った推奨例に更新しました。[ぐるなびさんが報告]</p></li>
<li><p>ロック中にリクエストがキャンセルされたことを検出できるようにしました。これは <code class="docutils literal notranslate"><span class="pre">request_cancel</span></code> がロック中に意図せず無視されないようにします。</p></li>
<li><p>[<a class="reference internal" href="reference/commands/logical_select.html"><span class="doc">logical_select</span></a>]  <code class="docutils literal notranslate"><span class="pre">initial</span></code> および <code class="docutils literal notranslate"><span class="pre">filtered</span></code> 動的カラムをサポートしました。使用例は <code class="docutils literal notranslate"><span class="pre">--columns[LABEL].stage</span> <span class="pre">initial</span></code> や <code class="docutils literal notranslate"><span class="pre">--columns[LABEL].stage</span> <span class="pre">filtered</span></code> です。</p></li>
<li><p>[<a class="reference internal" href="reference/commands/logical_select.html"><span class="doc">logical_select</span></a>] <code class="docutils literal notranslate"><span class="pre">match_columns</span></code> や <code class="docutils literal notranslate"><span class="pre">query</span></code> 、 <code class="docutils literal notranslate"><span class="pre">drilldown_filter</span></code> オプションをサポートしました。</p></li>
<li><p>[<a class="reference internal" href="reference/functions/highlight_html.html"><span class="doc">highlight_html</span></a>] 類似文書検索をサポートしました。</p></li>
<li><p>[<a class="reference internal" href="reference/commands/logical_select.html"><span class="doc">logical_select</span></a>]  <code class="docutils literal notranslate"><span class="pre">initial</span></code> および <code class="docutils literal notranslate"><span class="pre">filtered</span></code> 動的カラムをサポートしました。使用例は <code class="docutils literal notranslate"><span class="pre">--columns[LABEL].stage</span> <span class="pre">initial</span></code> や <code class="docutils literal notranslate"><span class="pre">--columns[LABEL].stage</span> <span class="pre">filtered</span></code> です。</p></li>
<li><p>[<a class="reference internal" href="reference/commands/logical_select.html"><span class="doc">logical_select</span></a>] 動的カラムでウィンドウ関数をサポートしました。</p></li>
<li><p>[<a class="reference internal" href="reference/commands/select.html"><span class="doc">select</span></a>] 動的カラムに関するドキュメントを追加しました。</p></li>
<li><p>[<a class="reference internal" href="reference/window_function.html"><span class="doc">ウィンドウ関数</span></a>] ウィンドウ関数のセクションをドキュメントに追加しました。</p></li>
<li><p>[<a class="reference internal" href="install/centos.html"><span class="doc">CentOS</span></a>] EOLのため、CentOS 5のサポートをやめました。</p></li>
<li><p>[httpd] バンドルしているnginxのバージョンを1.11.12に更新しました。</p></li>
<li><p>ANDでのマッチ最適化を環境変数で無効化できるようにしました。この機能は <code class="docutils literal notranslate"><span class="pre">GRN_TABLE_SELECT_AND_MIN_SKIP_ENABLE=no</span></code> を設定することで無効化できます。デフォルトでは有効になっています。</p></li>
<li><p>[<a class="reference internal" href="reference/functions/vector_new.html"><span class="doc">vector_new</span></a>] 新規ベクターを作成するための関数を追加しました。</p></li>
<li><p>[<a class="reference internal" href="reference/commands/select.html"><span class="doc">select</span></a>] <code class="docutils literal notranslate"><span class="pre">drilldown_filter</span></code> のドキュメントを追加しました。</p></li>
</ul>
</div>
<div class="section" id="id77">
<h3>修正<a class="headerlink" href="#id77" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li><p>[<a class="reference internal" href="reference/commands/lock_clear.html"><span class="doc">lock_clear</span></a>] テンポラリデータベースに対して実行するとクラッシュする不具合を修正しました。</p></li>
<li><p>自然言語に対する動的インデックス更新でインデックスサイズが肥大化する問題を修正しました。Groonga 6.1.4から発生していました。</p></li>
<li><p>[<a class="reference internal" href="reference/commands/select.html"><span class="doc">select</span></a>] &quot;A &amp;&amp; B.C &#64; X&quot; というクエリでマッチすべきレコードを返さないことがある不具合を修正しました。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">grn_io_flush()</span></code> と <code class="docutils literal notranslate"><span class="pre">grn_io_expire()</span></code> がコンフリクトする問題を修正しました。この修正がないと、 <code class="docutils literal notranslate"><span class="pre">io_flush</span></code> と <code class="docutils literal notranslate"><span class="pre">load</span></code> が同時に特定のタイミングで実行されるとクラッシュする不具合がありました。</p></li>
<li><p>[<a class="reference internal" href="reference/commands/logical_table_remove.html"><span class="doc">logical_table_remove</span></a>] 最大スレッド数が1のときにクラッシュする不具合を修正しました。</p></li>
</ul>
</div>
<div class="section" id="id78">
<h3>感謝<a class="headerlink" href="#id78" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li><p>株式会社ぐるなびさん</p></li>
</ul>
</div>
</div>
<div class="section" id="release-7-0-0-2017-02-09">
<span id="release-7-0-0"></span><h2>7.0.0リリース - 2017-02-09<a class="headerlink" href="#release-7-0-0-2017-02-09" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="id79">
<h3>改良<a class="headerlink" href="#id79" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li><p>[<a class="reference internal" href="reference/functions/in_values.html"><span class="doc">in_values</span></a>] 参照型ベクターカラムのシーケンシャルサーチに対応しました。 [GitHub#629] [村上さんがパッチ提供]</p></li>
<li><p>[<a class="reference internal" href="reference/commands/select.html"><span class="doc">select</span></a>] 誤った <code class="docutils literal notranslate"><span class="pre">drilldown[LABEL].sort_keys</span></code> が指定されたとき、無視するのではなく、エラーを報告するようにしました。</p></li>
<li><p>[<a class="reference internal" href="reference/commands/select.html"><span class="doc">select</span></a>] DBのメタデータを不必要に更新しないようにしました。 <code class="docutils literal notranslate"><span class="pre">select</span></code> コマンドを使っているだけなのにDBにロックがかかったままになってしまうのを防ぎます。</p></li>
<li><p>[<a class="reference internal" href="reference/commands/lock_clear.html"><span class="doc">lock_clear</span></a>] <code class="docutils literal notranslate"><span class="pre">lock_clear</span></code> でDBのメタデータに対するロックも削除できるようにしました。</p></li>
<li><p>[<a class="reference internal" href="install/centos.html"><span class="doc">CentOS</span></a>] GroongaをAmazon LinuxでもインストールできるようにEPELをデフォルトで有効にするようにしました。</p></li>
<li><p>[<a class="reference internal" href="reference/functions/query.html"><span class="doc">query</span></a>] <code class="docutils literal notranslate"><span class="pre">default_mode</span></code> オプションで &quot;&#64;X&quot; スタイルのエイリアスが使えるようになりました。</p></li>
<li><p>[<a class="reference internal" href="reference/functions/query.html"><span class="doc">query</span></a>] 動作モードのリストに関するドキュメントを更新しました。動作モードの既定値は <code class="docutils literal notranslate"><span class="pre">MATCH</span></code> (&quot;&#64;&quot;) で全文検索を実行します。</p></li>
<li><p>[rpm][centos] CentOS 7で groonga-token-filter-stem パッケージを提供するようにしました。 ステミングに対応するための <code class="docutils literal notranslate"><span class="pre">TokenFilterStem</span></code> トークンフィルターを提供します。　[GitHub#633] [Tim Bellefleurさんが報告]</p></li>
<li><p>[<a class="reference internal" href="reference/window_functions/window_record_number.html"><span class="doc">window_record_number</span></a>] <code class="docutils literal notranslate"><span class="pre">record_number</span></code> が非推奨になりました。代わりに <code class="docutils literal notranslate"><span class="pre">window_record_number</span></code> を使ってください。 <code class="docutils literal notranslate"><span class="pre">record_number</span></code> は互換性のためだけに残っています。</p></li>
<li><p>[<a class="reference internal" href="reference/window_functions/window_sum.html"><span class="doc">window_sum</span></a>] <code class="docutils literal notranslate"><span class="pre">window_sum</span></code> ウィンドウ関数を追加しました。PostgreSQLのsum()と同様のウィンドウ関数を提供します。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">TABLE_DAT_KEY</span></code> テーブルをインメモリで使ったときに静的インデックス構築をできるようにしました。 [GitHub#623] [村上さんが報告]</p></li>
<li><p>バンドルしている鬼雲を6.1.1へと更新しました。</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">columns[LABEL].window.group_keys</span></code> をサポートしました。ウィンドウ関数をグループごとに提供することができます。</p></li>
<li><p>[<a class="reference internal" href="reference/commands/load.html"><span class="doc">load</span></a>] 誤ったキーが指定されていたときにエラーを報告するようにしました。キーの型が異なっている場合でも気付けるようになります。</p></li>
<li><p>[<a class="reference internal" href="reference/commands/load.html"><span class="doc">load</span></a>] <code class="docutils literal notranslate"><span class="pre">--output_errors</span> <span class="pre">yes</span></code> オプションをサポートしました。&quot;yes&quot;を指定すると、どのレコードのloadに失敗したのかエラーを取得できるようになります。この機能を使う場合には、コマンドバージョン3を指定します。</p></li>
<li><p>[<a class="reference internal" href="reference/commands/load.html"><span class="doc">load</span></a>] キーのキャストに失敗したときのエラーメッセージをわかりやすくしました。以前は単に &quot;cast failed&quot; と表示していましたが、テーブルのキーの型とキャスト対象となるキーの型もメッセージに含まれるようになりました。</p></li>
<li><p>[httpd] バンドルしているnginxのバージョンを1.11.9に更新しました。</p></li>
</ul>
</div>
<div class="section" id="id80">
<h3>修正<a class="headerlink" href="#id80" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li><p>存在しないソートキーを <code class="docutils literal notranslate"><span class="pre">drilldowns[LABEL]</span></code> や <code class="docutils literal notranslate"><span class="pre">slices[LABEL]</span></code> に指定するとJSONパースエラーとなる不具合を修正しました。 [GitHub#627] [村上さんがパッチ提供]</p></li>
<li><p>存在しないグループのサブレコードにアクセスしようとするとクラッシュする不具合を修正しました。例えば、 <code class="docutils literal notranslate"><span class="pre">drilldowns[LABEL].sort_keys</span> <span class="pre">_sum</span></code> を <code class="docutils literal notranslate"><span class="pre">calc_types</span></code> の指定なしに使っていた場合に問題が発生していました。 [GitHub#625] [村上さんがパッチ提供]</p></li>
<li><p>tokenizerでエラーが発生するとクラッシュする不具合を修正しました。tokenizer と token filterを登録していて、tokenizer にエラーがあると発生していました。</p></li>
<li><p>[<a class="reference internal" href="reference/window_functions/window_record_number.html"><span class="doc">window_record_number</span></a>] ウィンドウ関数の引数が正しく渡されていない不具合を修正しました。 [GitHub#634] [村上さんがパッチ提供]</p></li>
</ul>
</div>
<div class="section" id="id81">
<h3>感謝<a class="headerlink" href="#id81" title="このヘッドラインへのパーマリンク">¶</a></h3>
<ul class="simple">
<li><p>村上さん</p></li>
<li><p>aomi-nさん</p></li>
</ul>
</div>
</div>
<div class="section" id="the-old-releases">
<h2>古いリリース<a class="headerlink" href="#the-old-releases" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="news/6.x.html">News - 6.x</a><ul>
<li class="toctree-l2"><a class="reference internal" href="news/6.x.html#release-6-1-5-2017-01-23">6.1.5リリース - 2017-01-23</a></li>
<li class="toctree-l2"><a class="reference internal" href="news/6.x.html#release-6-1-4-2017-01-18">6.1.4リリース - 2017-01-18</a></li>
<li class="toctree-l2"><a class="reference internal" href="news/6.x.html#release-6-1-3-2017-01-06">6.1.3リリース - 2017-01-06</a></li>
<li class="toctree-l2"><a class="reference internal" href="news/6.x.html#release-6-1-2-2016-12-31">6.1.2リリース - 2016-12-31</a></li>
<li class="toctree-l2"><a class="reference internal" href="news/6.x.html#release-6-1-1-2016-11-29">6.1.1リリース - 2016-11-29</a></li>
<li class="toctree-l2"><a class="reference internal" href="news/6.x.html#release-6-1-0-2016-10-29">6.1.0リリース - 2016-10-29</a></li>
<li class="toctree-l2"><a class="reference internal" href="news/6.x.html#release-6-0-9-2016-09-29">6.0.9リリース - 2016-09-29</a></li>
<li class="toctree-l2"><a class="reference internal" href="news/6.x.html#release-6-0-8-2016-08-29">6.0.8リリース - 2016-08-29</a></li>
<li class="toctree-l2"><a class="reference internal" href="news/6.x.html#release-6-0-7-2016-07-29">6.0.7リリース - 2016-07-29</a></li>
<li class="toctree-l2"><a class="reference internal" href="news/6.x.html#release-6-0-5-2016-06-29">6.0.5リリース - 2016-06-29</a></li>
<li class="toctree-l2"><a class="reference internal" href="news/6.x.html#release-6-0-4-2016-06-06">6.0.4リリース - 2016-06-06</a></li>
<li class="toctree-l2"><a class="reference internal" href="news/6.x.html#release-6-0-3-2016-05-29">6.0.3リリース - 2016-05-29</a></li>
<li class="toctree-l2"><a class="reference internal" href="news/6.x.html#release-6-0-2-2016-04-29">6.0.2リリース - 2016-04-29</a></li>
<li class="toctree-l2"><a class="reference internal" href="news/6.x.html#release-6-0-1-2016-03-29">6.0.1リリース - 2016-03-29</a></li>
<li class="toctree-l2"><a class="reference internal" href="news/6.x.html#release-6-0-0-2016-02-29">6.0.0リリース - 2016-02-29</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="news/5.x.html">News - 5.x</a><ul>
<li class="toctree-l2"><a class="reference internal" href="news/5.x.html#release-5-1-2-2016-01-29">5.1.2リリース - 2016-01-29</a></li>
<li class="toctree-l2"><a class="reference internal" href="news/5.x.html#release-5-1-1-2015-12-29">5.1.1リリース - 2015-12-29</a></li>
<li class="toctree-l2"><a class="reference internal" href="news/5.x.html#release-5-1-0-2015-11-29">5.1.0リリース - 2015-11-29</a></li>
<li class="toctree-l2"><a class="reference internal" href="news/5.x.html#release-5-0-9-2015-10-29">5.0.9リリース - 2015-10-29</a></li>
<li class="toctree-l2"><a class="reference internal" href="news/5.x.html#release-5-0-8-2015-09-29">5.0.8リリース - 2015-09-29</a></li>
<li class="toctree-l2"><a class="reference internal" href="news/5.x.html#release-5-0-7-2015-08-31">5.0.7リリース - 2015-08-31</a></li>
<li class="toctree-l2"><a class="reference internal" href="news/5.x.html#release-5-0-6-2015-07-29">5.0.6リリース - 2015-07-29</a></li>
<li class="toctree-l2"><a class="reference internal" href="news/5.x.html#release-5-0-5-2015-06-29">5.0.5リリース - 2015-06-29</a></li>
<li class="toctree-l2"><a class="reference internal" href="news/5.x.html#release-5-0-4-2015-05-29">5.0.4リリース - 2015-05-29</a></li>
<li class="toctree-l2"><a class="reference internal" href="news/5.x.html#release-5-0-3-2015-04-29">5.0.3リリース - 2015-04-29</a></li>
<li class="toctree-l2"><a class="reference internal" href="news/5.x.html#release-5-0-2-2015-03-31">5.0.2リリース - 2015-03-31</a></li>
<li class="toctree-l2"><a class="reference internal" href="news/5.x.html#release-5-0-1-2015-03-29">5.0.1リリース - 2015-03-29</a></li>
<li class="toctree-l2"><a class="reference internal" href="news/5.x.html#release-5-0-0-2015-02-09">5.0.0リリース - 2015-02-09</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="news/4.x.html">News - 4.x</a><ul>
<li class="toctree-l2"><a class="reference internal" href="news/4.x.html#release-4-1-1-2015-01-29">4.1.1リリース - 2015-01-29</a></li>
<li class="toctree-l2"><a class="reference internal" href="news/4.x.html#release-4-1-0-2015-01-09">4.1.0リリース - 2015-01-09</a></li>
<li class="toctree-l2"><a class="reference internal" href="news/4.x.html#release-4-0-9-2014-12-29">4.0.9リリース - 2014-12-29</a></li>
<li class="toctree-l2"><a class="reference internal" href="news/4.x.html#release-4-0-8-2014-11-29">4.0.8リリース - 2014-11-29</a></li>
<li class="toctree-l2"><a class="reference internal" href="news/4.x.html#release-4-0-7-2014-10-29">4.0.7リリース - 2014-10-29</a></li>
<li class="toctree-l2"><a class="reference internal" href="news/4.x.html#release-4-0-6-2014-09-29">4.0.6リリース - 2014-09-29</a></li>
<li class="toctree-l2"><a class="reference internal" href="news/4.x.html#release-4-0-5-2014-08-29">4.0.5リリース - 2014-08-29</a></li>
<li class="toctree-l2"><a class="reference internal" href="news/4.x.html#release-4-0-4-2014-07-29">4.0.4リリース - 2014-07-29</a></li>
<li class="toctree-l2"><a class="reference internal" href="news/4.x.html#release-4-0-3-2014-06-29">4.0.3リリース - 2014-06-29</a></li>
<li class="toctree-l2"><a class="reference internal" href="news/4.x.html#release-4-0-2-2014-05-29">4.0.2リリース - 2014-05-29</a></li>
<li class="toctree-l2"><a class="reference internal" href="news/4.x.html#release-4-0-1-2014-03-29">4.0.1リリース - 2014-03-29</a></li>
<li class="toctree-l2"><a class="reference internal" href="news/4.x.html#release-4-0-0-2014-02-09">4.0.0リリース - 2014-02-09</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="news/3.x.html">News - 3.x</a><ul>
<li class="toctree-l2"><a class="reference internal" href="news/3.x.html#release-3-1-2-2014-01-29">3.1.2リリース - 2014-01-29</a></li>
<li class="toctree-l2"><a class="reference internal" href="news/3.x.html#release-3-1-1-2013-12-29">3.1.1リリース - 2013-12-29</a></li>
<li class="toctree-l2"><a class="reference internal" href="news/3.x.html#release-3-1-0-2013-11-29">3.1.0リリース - 2013-11-29</a></li>
<li class="toctree-l2"><a class="reference internal" href="news/3.x.html#release-3-0-9-2013-10-29">3.0.9リリース - 2013-10-29</a></li>
<li class="toctree-l2"><a class="reference internal" href="news/3.x.html#release-3-0-8-2013-09-29">3.0.8リリース - 2013-09-29</a></li>
<li class="toctree-l2"><a class="reference internal" href="news/3.x.html#release-3-0-7-2013-08-29">3.0.7リリース - 2013-08-29</a></li>
<li class="toctree-l2"><a class="reference internal" href="news/3.x.html#release-3-0-6-2013-07-29">3.0.6リリース - 2013-07-29</a></li>
<li class="toctree-l2"><a class="reference internal" href="news/3.x.html#release-3-0-5-2013-06-29">3.0.5リリース - 2013-06-29</a></li>
<li class="toctree-l2"><a class="reference internal" href="news/3.x.html#release-3-0-4-2013-05-29">3.0.4リリース - 2013-05-29</a></li>
<li class="toctree-l2"><a class="reference internal" href="news/3.x.html#release-3-0-3-2013-04-29">3.0.3リリース - 2013-04-29</a></li>
<li class="toctree-l2"><a class="reference internal" href="news/3.x.html#release-3-0-2-2013-03-29">3.0.2リリース - 2013-03-29</a></li>
<li class="toctree-l2"><a class="reference internal" href="news/3.x.html#release-3-0-1-2013-02-28">3.0.1リリース - 2013-02-28</a></li>
<li class="toctree-l2"><a class="reference internal" href="news/3.x.html#release-3-0-0-2013-02-09">3.0.0リリース - 2013-02-09</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="news/2.x.html">News - 2.x</a><ul>
<li class="toctree-l2"><a class="reference internal" href="news/2.x.html#release-2-1-2-2013-01-29">2.1.2リリース - 2013-01-29</a></li>
<li class="toctree-l2"><a class="reference internal" href="news/2.x.html#release-2-1-1-2012-12-29">2.1.1リリース - 2012-12-29</a></li>
<li class="toctree-l2"><a class="reference internal" href="news/2.x.html#release-2-1-0-2012-12-29">2.1.0リリース - 2012-12-29</a></li>
<li class="toctree-l2"><a class="reference internal" href="news/2.x.html#release-2-0-9-2012-11-29">2.0.9リリース - 2012-11-29</a></li>
<li class="toctree-l2"><a class="reference internal" href="news/2.x.html#release-2-0-8-2012-10-29">2.0.8リリース - 2012-10-29</a></li>
<li class="toctree-l2"><a class="reference internal" href="news/2.x.html#release-2-0-7-2012-09-29">2.0.7リリース - 2012-09-29</a></li>
<li class="toctree-l2"><a class="reference internal" href="news/2.x.html#release-2-0-6-2012-08-29">2.0.6リリース - 2012-08-29</a></li>
<li class="toctree-l2"><a class="reference internal" href="news/2.x.html#release-2-0-5-2012-07-29">2.0.5リリース - 2012-07-29</a></li>
<li class="toctree-l2"><a class="reference internal" href="news/2.x.html#release-2-0-4-2012-06-29">2.0.4リリース - 2012-06-29</a></li>
<li class="toctree-l2"><a class="reference internal" href="news/2.x.html#release-2-0-3-2012-05-29">2.0.3リリース - 2012-05-29</a></li>
<li class="toctree-l2"><a class="reference internal" href="news/2.x.html#release-2-0-2-2012-04-29">2.0.2リリース - 2012-04-29</a></li>
<li class="toctree-l2"><a class="reference internal" href="news/2.x.html#release-2-0-1-2012-03-29">2.0.1リリース - 2012-03-29</a></li>
<li class="toctree-l2"><a class="reference internal" href="news/2.x.html#release-2-0-0-2012-02-29">2.0.0リリース - 2012-02-29</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="news/1.3.x.html">News - 1.3.x</a><ul>
<li class="toctree-l2"><a class="reference internal" href="news/1.3.x.html#release-1-3-0-2012-01-29">1.3.0リリース - 2012-01-29</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="news/1.2.x.html">News - 1.2.x</a><ul>
<li class="toctree-l2"><a class="reference internal" href="news/1.2.x.html#release-1-2-9-2011-12-29">1.2.9リリース - 2011-12-29</a></li>
<li class="toctree-l2"><a class="reference internal" href="news/1.2.x.html#release-1-2-8-2011-11-29">1.2.8リリース - 2011-11-29</a></li>
<li class="toctree-l2"><a class="reference internal" href="news/1.2.x.html#release-1-2-7-2011-10-29">1.2.7リリース - 2011-10-29</a></li>
<li class="toctree-l2"><a class="reference internal" href="news/1.2.x.html#release-1-2-6-2011-09-29">1.2.6リリース - 2011-09-29</a></li>
<li class="toctree-l2"><a class="reference internal" href="news/1.2.x.html#release-1-2-5-2011-08-29">1.2.5リリース - 2011-08-29</a></li>
<li class="toctree-l2"><a class="reference internal" href="news/1.2.x.html#release-1-2-4-2011-07-29">1.2.4リリース - 2011-07-29</a></li>
<li class="toctree-l2"><a class="reference internal" href="news/1.2.x.html#release-1-2-3-2011-06-29">1.2.3リリース - 2011-06-29</a></li>
<li class="toctree-l2"><a class="reference internal" href="news/1.2.x.html#release-1-2-2-2011-05-29">1.2.2リリース - 2011-05-29</a></li>
<li class="toctree-l2"><a class="reference internal" href="news/1.2.x.html#id20">1.2.1リリース - 2011-04-29</a></li>
<li class="toctree-l2"><a class="reference internal" href="news/1.2.x.html#id24">1.2.0リリース - 2011-03-29</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="news/1.1.x.html">バージョン1.1.xのお知らせ</a><ul>
<li class="toctree-l2"><a class="reference internal" href="news/1.1.x.html#id1">1.1.0リリース - 2011-02-09</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="news/1.0.x.html">バージョン1.0.xのお知らせ</a><ul>
<li class="toctree-l2"><a class="reference internal" href="news/1.0.x.html#id1">1.0.8リリース - 2011-02-02</a></li>
<li class="toctree-l2"><a class="reference internal" href="news/1.0.x.html#id4">1.0.7リリース - 2011-01-29</a></li>
<li class="toctree-l2"><a class="reference internal" href="news/1.0.x.html#id8">1.0.6リリース - 2010-12-31</a></li>
<li class="toctree-l2"><a class="reference internal" href="news/1.0.x.html#id11">1.0.5リリース - 2010-12-29</a></li>
<li class="toctree-l2"><a class="reference internal" href="news/1.0.x.html#id16">1.0.4リリース - 2010-11-29</a></li>
<li class="toctree-l2"><a class="reference internal" href="news/1.0.x.html#id21">1.0.3リリース - 2010-10-29</a></li>
<li class="toctree-l2"><a class="reference internal" href="news/1.0.x.html#id26">1.0.2リリース - 2010-09-09</a></li>
<li class="toctree-l2"><a class="reference internal" href="news/1.0.x.html#id31">1.0.1リリース - 2010-09-06</a></li>
<li class="toctree-l2"><a class="reference internal" href="news/1.0.x.html#id35">1.0.0リリース - 2010-08-29</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="news/0.x.html">バージョン0.xのお知らせ</a><ul>
<li class="toctree-l2"><a class="reference internal" href="news/0.x.html#id1">0.7.7リリース - 2010-08-25</a></li>
<li class="toctree-l2"><a class="reference internal" href="news/0.x.html#id4">0.7.6リリース - 2010-08-19</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="news/senna.html">News in Senna period</a><ul>
<li class="toctree-l2"><a class="reference internal" href="news/senna.html#senna-groonga-2009-01-14">Senna -&gt; groonga - 2009-01-14</a></li>
<li class="toctree-l2"><a class="reference internal" href="news/senna.html#id1">2006-04-05</a></li>
<li class="toctree-l2"><a class="reference internal" href="news/senna.html#id2">2006-03-03</a></li>
<li class="toctree-l2"><a class="reference internal" href="news/senna.html#id4">2006-01-16</a></li>
<li class="toctree-l2"><a class="reference internal" href="news/senna.html#id5">2006-01-12</a></li>
<li class="toctree-l2"><a class="reference internal" href="news/senna.html#id7">2005-12-22</a></li>
<li class="toctree-l2"><a class="reference internal" href="news/senna.html#id9">2005-10-27</a></li>
<li class="toctree-l2"><a class="reference internal" href="news/senna.html#id11">2005-09-17</a></li>
<li class="toctree-l2"><a class="reference internal" href="news/senna.html#id13">2005-09-08</a></li>
<li class="toctree-l2"><a class="reference internal" href="news/senna.html#id15">2005-08-16</a></li>
<li class="toctree-l2"><a class="reference internal" href="news/senna.html#id17">2005-07-05</a></li>
<li class="toctree-l2"><a class="reference internal" href="news/senna.html#id18">2005-06-23</a></li>
<li class="toctree-l2"><a class="reference internal" href="news/senna.html#id20">2005-04-12</a></li>
</ul>
</li>
</ul>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">目次</a></h3>
  <ul>
<li><a class="reference internal" href="#">お知らせ</a><ul>
<li><a class="reference internal" href="#release-9-0-7-2019-08-29">9.0.7リリース - 2019-08-29</a><ul>
<li><a class="reference internal" href="#improvements">改良</a></li>
<li><a class="reference internal" href="#fixes">修正</a></li>
<li><a class="reference internal" href="#thanks">感謝</a></li>
</ul>
</li>
<li><a class="reference internal" href="#release-9-0-6-2019-08-05">9.0.6リリース - 2019-08-05</a><ul>
<li><a class="reference internal" href="#id1">改良</a></li>
<li><a class="reference internal" href="#id2">修正</a></li>
<li><a class="reference internal" href="#id3">感謝</a></li>
</ul>
</li>
<li><a class="reference internal" href="#release-9-0-5-2019-07-30">9.0.5リリース - 2019-07-30</a><ul>
<li><a class="reference internal" href="#id4">改良</a></li>
<li><a class="reference internal" href="#id5">修正</a></li>
<li><a class="reference internal" href="#id6">感謝</a></li>
</ul>
</li>
<li><a class="reference internal" href="#release-9-0-4-2019-06-29">9.0.4リリース - 2019-06-29</a><ul>
<li><a class="reference internal" href="#id7">改良</a></li>
<li><a class="reference internal" href="#id8">修正</a></li>
<li><a class="reference internal" href="#id9">感謝</a></li>
</ul>
</li>
<li><a class="reference internal" href="#release-9-0-3-2019-05-29">9.0.3リリース - 2019-05-29</a><ul>
<li><a class="reference internal" href="#id10">改良</a></li>
<li><a class="reference internal" href="#id11">修正</a></li>
<li><a class="reference internal" href="#id12">感謝</a></li>
</ul>
</li>
<li><a class="reference internal" href="#release-9-0-2-2019-04-29">9.0.2リリース - 2019-04-29</a><ul>
<li><a class="reference internal" href="#id13">改良</a></li>
<li><a class="reference internal" href="#id14">修正</a></li>
<li><a class="reference internal" href="#id15">感謝</a></li>
</ul>
</li>
<li><a class="reference internal" href="#release-9-0-1-2019-03-29">9.0.1リリース - 2019-03-29</a><ul>
<li><a class="reference internal" href="#id16">改良</a></li>
<li><a class="reference internal" href="#id17">修正</a></li>
<li><a class="reference internal" href="#id18">感謝</a></li>
</ul>
</li>
<li><a class="reference internal" href="#release-9-0-0-2019-02-09">9.0.0リリース - 2019-02-09</a><ul>
<li><a class="reference internal" href="#id19">改良</a></li>
</ul>
</li>
<li><a class="reference internal" href="#release-8-1-1-2019-01-29">8.1.1リリース - 2019-01-29</a><ul>
<li><a class="reference internal" href="#id20">改良</a></li>
<li><a class="reference internal" href="#id21">修正</a></li>
</ul>
</li>
<li><a class="reference internal" href="#release-8-1-0-2018-12-29">8.1.0リリース - 2018-12-29</a><ul>
<li><a class="reference internal" href="#id22">改良</a></li>
<li><a class="reference internal" href="#id23">修正</a></li>
</ul>
</li>
<li><a class="reference internal" href="#release-8-0-9-2018-11-29">8.0.9リリース - 2018-11-29</a><ul>
<li><a class="reference internal" href="#id24">改良</a></li>
<li><a class="reference internal" href="#id25">修正</a></li>
<li><a class="reference internal" href="#id26">感謝</a></li>
</ul>
</li>
<li><a class="reference internal" href="#release-8-0-8-2018-10-29">8.0.8リリース - 2018-10-29</a><ul>
<li><a class="reference internal" href="#id27">改良</a></li>
<li><a class="reference internal" href="#id28">修正</a></li>
<li><a class="reference internal" href="#id29">感謝</a></li>
</ul>
</li>
<li><a class="reference internal" href="#release-8-0-7-2018-09-29">8.0.7リリース - 2018-09-29</a><ul>
<li><a class="reference internal" href="#id30">改良</a></li>
<li><a class="reference internal" href="#id31">修正</a></li>
</ul>
</li>
<li><a class="reference internal" href="#release-8-0-6-2018-08-29">8.0.6リリース - 2018-08-29</a><ul>
<li><a class="reference internal" href="#id32">改良</a></li>
<li><a class="reference internal" href="#id33">修正</a></li>
</ul>
</li>
<li><a class="reference internal" href="#release-8-0-5-2018-07-29">8.0.5リリース - 2018-07-29</a><ul>
<li><a class="reference internal" href="#id34">改良</a></li>
<li><a class="reference internal" href="#id35">修正</a></li>
</ul>
</li>
<li><a class="reference internal" href="#release-8-0-4-2018-06-29">8.0.4リリース - 2018-06-29</a><ul>
<li><a class="reference internal" href="#id36">改良</a></li>
<li><a class="reference internal" href="#id37">修正</a></li>
</ul>
</li>
<li><a class="reference internal" href="#release-8-0-3-2018-05-29">8.0.3リリース - 2018-05-29</a><ul>
<li><a class="reference internal" href="#id38">改良</a></li>
<li><a class="reference internal" href="#id39">修正</a></li>
</ul>
</li>
<li><a class="reference internal" href="#release-8-0-2-2018-04-29">8.0.2リリース - 2018-04-29</a><ul>
<li><a class="reference internal" href="#id40">改良</a></li>
<li><a class="reference internal" href="#id41">修正</a></li>
<li><a class="reference internal" href="#id42">感謝</a></li>
</ul>
</li>
<li><a class="reference internal" href="#release-8-0-1-2018-03-29">8.0.1リリース - 2018-03-29</a><ul>
<li><a class="reference internal" href="#id43">改良</a></li>
<li><a class="reference internal" href="#id44">修正</a></li>
<li><a class="reference internal" href="#id45">感謝</a></li>
</ul>
</li>
<li><a class="reference internal" href="#release-8-0-0-2018-02-09">8.0.0リリース - 2018-02-09</a><ul>
<li><a class="reference internal" href="#id46">改良</a></li>
<li><a class="reference internal" href="#id47">修正</a></li>
<li><a class="reference internal" href="#id48">感謝</a></li>
</ul>
</li>
<li><a class="reference internal" href="#release-7-1-1-2018-01-29">7.1.1リリース - 2018-01-29</a><ul>
<li><a class="reference internal" href="#id49">改良</a></li>
<li><a class="reference internal" href="#id50">修正</a></li>
<li><a class="reference internal" href="#id51">感謝</a></li>
</ul>
</li>
<li><a class="reference internal" href="#release-7-1-0-2017-12-29">7.1.0リリース - 2017-12-29</a><ul>
<li><a class="reference internal" href="#id52">改良</a></li>
<li><a class="reference internal" href="#id53">修正</a></li>
<li><a class="reference internal" href="#id54">感謝</a></li>
</ul>
</li>
<li><a class="reference internal" href="#release-7-0-9-2017-11-29">7.0.9リリース - 2017-11-29</a><ul>
<li><a class="reference internal" href="#id55">改良</a></li>
<li><a class="reference internal" href="#id56">修正</a></li>
<li><a class="reference internal" href="#id57">感謝</a></li>
</ul>
</li>
<li><a class="reference internal" href="#release-7-0-8-2017-10-29">7.0.8リリース - 2017-10-29</a><ul>
<li><a class="reference internal" href="#id58">改良</a></li>
<li><a class="reference internal" href="#id59">修正</a></li>
</ul>
</li>
<li><a class="reference internal" href="#release-7-0-7-2017-09-29">7.0.7リリース - 2017-09-29</a><ul>
<li><a class="reference internal" href="#id60">改良</a></li>
<li><a class="reference internal" href="#id61">修正</a></li>
</ul>
</li>
<li><a class="reference internal" href="#release-7-0-6-2017-08-29">7.0.6リリース - 2017-08-29</a><ul>
<li><a class="reference internal" href="#id62">改良</a></li>
<li><a class="reference internal" href="#id63">修正</a></li>
<li><a class="reference internal" href="#id64">感謝</a></li>
</ul>
</li>
<li><a class="reference internal" href="#release-7-0-5-2017-07-29">7.0.5リリース - 2017-07-29</a><ul>
<li><a class="reference internal" href="#id65">改良</a></li>
<li><a class="reference internal" href="#id66">修正</a></li>
<li><a class="reference internal" href="#id67">感謝</a></li>
</ul>
</li>
<li><a class="reference internal" href="#release-7-0-4-2017-06-29">7.0.4リリース - 2017-06-29</a><ul>
<li><a class="reference internal" href="#id68">改良</a></li>
<li><a class="reference internal" href="#id69">修正</a></li>
<li><a class="reference internal" href="#id70">感謝</a></li>
</ul>
</li>
<li><a class="reference internal" href="#release-7-0-3-2017-05-29">7.0.3リリース - 2017-05-29</a><ul>
<li><a class="reference internal" href="#id71">改良</a></li>
<li><a class="reference internal" href="#id72">修正</a></li>
<li><a class="reference internal" href="#id73">感謝</a></li>
</ul>
</li>
<li><a class="reference internal" href="#release-7-0-2-2017-04-29">7.0.2リリース - 2017-04-29</a><ul>
<li><a class="reference internal" href="#id74">改良</a></li>
<li><a class="reference internal" href="#id75">修正</a></li>
</ul>
</li>
<li><a class="reference internal" href="#release-7-0-1-2017-03-29">7.0.1リリース - 2017-03-29</a><ul>
<li><a class="reference internal" href="#id76">改良</a></li>
<li><a class="reference internal" href="#id77">修正</a></li>
<li><a class="reference internal" href="#id78">感謝</a></li>
</ul>
</li>
<li><a class="reference internal" href="#release-7-0-0-2017-02-09">7.0.0リリース - 2017-02-09</a><ul>
<li><a class="reference internal" href="#id79">改良</a></li>
<li><a class="reference internal" href="#id80">修正</a></li>
<li><a class="reference internal" href="#id81">感謝</a></li>
</ul>
</li>
<li><a class="reference internal" href="#the-old-releases">古いリリース</a></li>
</ul>
</li>
</ul>

<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">クイック検索</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="検索" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>ナビゲーション</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="総合索引"
             >索引</a></li>
        <li class="nav-item nav-item-0"><a href="index.html">Groonga v9.0.7ドキュメント</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2009-2019, Brazil, Inc.
    </div>
      <script src="http://connect.facebook.net/ja_JP/all.js"></script>

    <script>
      FB.init({
         appId  : null,
         status : true, // check login status
         cookie : true, // enable cookies to allow the server to access the session
         xfbml  : true  // parse XFBML
      });
    </script>
  </body>

</html>